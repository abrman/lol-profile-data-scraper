{"version":3,"sources":["tools/interfaceManager.tsx","tools/mediaStreamManager.tsx","tools/Capture.tsx","tools/views/skins.tsx","tools/views/loot.tsx","tools/views/champions.tsx","tools/views/emotes.tsx","tools/views/icons.tsx","assets/be.png","assets/rp.png","tools/Data.tsx","assets/mastery_1.png","assets/mastery_2.png","assets/mastery_3.png","assets/mastery_4.png","assets/mastery_5.png","assets/mastery_6.png","assets/mastery_7.png","assets/chest_available.png","tools/scraper.tsx","views/WelcomeView/assets/Logo.tsx","views/WelcomeView/assets/WelcomeIcons.tsx","views/WelcomeView/WelcomeView.tsx","views/PrepareView/assets/PrepareIcons.tsx","components/SmallLogo.tsx","views/PrepareView/PrepareView.tsx","views/ScrapeView/assets/Loader.tsx","views/ScrapeView/ScrapeView.tsx","views/WorkView/WorkView.tsx","views/DataView/DataView.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["interfaceManager","initiated","pixelCanvas","document","createElement","getContext","edgeSearch","searchCoordinates","videoElement","React","createRef","currentUi","storePixel","x","y","lastCurrentInterfaceComputeTime","collectionLabels","interfaceData","1920","storePixelOffset","menuItemGaps","profileIconOffset","collection","1600","1280","1024","init","this","canvas","height","width","findStorePixel","generateSearchCoordinates","getPixelDataFromVideo","current","console","error","drawImage","pixelData","Array","from","getImageData","data","currentInterface","Date","getTime","Object","keys","indexOf","active_menu_items","filter","expectedColor","r","g","b","Math","abs","videoWidth","i","greenChannel","_","length","profilePixelData","main_menu","v","map","menu_item","mediaDevices","navigator","mediaStreamManager","captureStream","startCapture","onSuccess","a","getDisplayMedia","video","cursor","audio","alert","then","stream","onStreamBegin","stopCapture","scraper","srcObject","getTracks","forEach","track","stop","onloadedmetadata","e","play","videoHeight","toString","window","location","reload","Capture","options","checkFunction","rawCanvasList","canvasList","workCanvas","scrollBarCanvas","complete","clientWidth","clientHeight","screenshotArea","matchingArea","scrollBar","loadCheck","currentProgress","loaded","w","h","loop","prevCanvas","push","isLoaded","scrollBarInfo","atTop","firstFreeRowIndex","attemptScreenshot","setTimeout","toFixed","addCanvas","ssArea","atBottom","freeRowIndex","add","searchData","matchingData","search","match","min","offsetTop","size","bottomRowY","yBottomCheck","lastRowRedChannel","max","cropAlphaFromCanvases","rawCanvas","rects","minMaxArr","fill","Infinity","rect","offsetRectsTop","cropTop","cropBottom","prevMaxY","currMinY","floor","currMaxY","nextMinY","imageData","putImageData","rawCanvasImageData","canvasHeight","screenshotData","sb","y1","y2","redChannel","join","replace","slice","diff","hue","round","check","foundColor","j","color","Skins","currentViewFunction","lookupTable","skinsCollectionModel","classifiedRects","warnMessage","prepareClassificationAssets","Promise","all","fetch","res","json","tf","lookupTableLoot","lookupTableSkins","l","prediction","getPredictionFromRect","type","count","name","model","labels","lightValues","pixels","lightness","tensor","predictions","predict","dataSync","bestPrediction","sort","computeRects","classifyRects","ctx","beginPath","globalAlpha","fillStyle","fillRect","lineWidth","strokeStyle","stroke","font","fillText","cropCanvasesByRects","offset","xStart","yStart","iconWidth","iconHeight","iconOffsetX","iconOffsetY","lineHeight","canvasIndex","cat","checkIsViewingUnowned","Loot","models","champions","skins","wards","numbers","shard_permanent","token","masteryTokenFromRect","lootCountFromRect","log","rgb2hue","xPad","yPad","minNumberHeight","maxNumberHeight","picture","ceil","splice","shift","pop","rowAboveLineDark","foundNumbers","freeColumns","reduce","numberColumnsRanges","start","reverse","range","number","parseInt","categories","lines","centerColumn","items","currLine","currCategory","item","squareImage","root","c","Champions","championCollectionModel","isViewingUnowned","annotatedCtx","id","owned","mastery","chestAvailable","lookupTableChampions","ownership","checkOwnershipFromRect","checkMasteryFromRect","checkChestAvailable","circleHue","getPixelColor","flagHue","circle1Hue","circle2Hue","image","n","Emotes","Icons","checkIsViewingMyCollection","Data","loot_lookup_table","blueEssenceSpent","championsTable","calcBlueEssenceSpent","skinsList","flatMap","storeBE","skinPrices","prev","curr","price","columns","Header","accessor","Cell","style","textAlign","value","src","riotPoints","alt","title","className","RP2data","BE","upgrade","disenchantS","disenchantP","champList","champ","chestAvail","shards","perms","token6","token7","eternalShards","storeRP","ugradeBE","index","row","original","blueEssence","loot","emotes","icons","recognize","callback","download","zip","JSZip","viewName","view","annotateImages","file","toDataURL","split","base64","championsData","toCSV","skinsData","generateAsync","content","saveAs","getCurrView","startScraping","Logo","justTitle","subtitle1","subtitle2","WelcomeIcons","scroll","viewBox","xmlns","d","strokeWidth","strokeLinecap","rx","transform","share","strokeLinejoin","WelcomeView","props","hide","onClick","setView","PrepareIcons","clearPopups","cx","cy","resizeClient","SmallLogo","animateIn","PrepareView","Loader","active","warning","ScrapeView","getLoadedStates","output","progress","isActive","useState","loadStates","setLoadStates","requestRef","useRef","updateLoadedStateLoop","requestAnimationFrame","useEffect","cancelAnimationFrame","values","p","marginTop","WorkView","DataView","tableData","useMemo","Table","useTable","getTableProps","getTableBodyProps","headerGroups","rows","prepareRow","headerGroup","getHeaderGroupProps","headers","column","getHeaderProps","render","getRowProps","cells","cell","getCellProps","margin","background","border","padding","fontSize","borderRadius","App","isHiding","setIsHiding","currView","setCurrView","display","ref","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"snBA0CaA,EAAqC,CAChDC,WAAW,EACXC,YAAaC,SAASC,cAAc,UAAUC,WAAW,MACzDC,WAAYH,SAASC,cAAc,UAAUC,WAAW,MACxDE,mBAAmB,EACnBC,aAAcC,IAAMC,YACpBC,UAAW,YACXC,WAAY,CAAEC,GAAI,EAAGC,GAAI,GACzBC,gCAAiC,EAEjCC,iBAAkB,CAChB,YACA,QACA,SACA,QACA,SACA,QACA,QACA,QACA,WAEFC,cAAe,CACbC,KAAM,CACJZ,WAAY,CAAEO,EAAG,KAAMC,EAAG,IAC1BK,iBAAkB,CAAEN,GAAI,GAAIC,GAAI,IAChCM,aAAc,GACdC,kBAAmB,CAAER,GAAI,IAAKC,EAAG,IACjCQ,WAAY,CACVR,EAAG,IACHD,EAAG,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,QAGhDU,KAAM,CACJjB,WAAY,CAAEO,EAAG,KAAMC,EAAG,IAC1BK,iBAAkB,CAAEN,GAAI,GAAIC,GAAI,IAChCM,aAAc,GACdC,kBAAmB,CAAER,GAAI,IAAKC,EAAG,IACjCQ,WAAY,CACVR,EAAG,IACHD,EAAG,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,OAGhDW,KAAM,CACJlB,WAAY,CAAEO,EAAG,IAAKC,EAAG,IACzBK,iBAAkB,CAAEN,GAAI,GAAIC,GAAI,IAChCM,aAAc,GACdC,kBAAmB,CAAER,GAAI,IAAKC,EAAG,IACjCQ,WAAY,CACVR,EAAG,IACHD,EAAG,CAAC,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,OAG/CY,KAAM,CACJnB,WAAY,CAAEO,EAAG,IAAKC,EAAG,IACzBK,iBAAkB,CAAEN,GAAI,GAAIC,GAAI,IAChCM,aAAc,GACdC,kBAAmB,CAAER,GAAI,IAAKC,EAAG,IACjCQ,WAAY,CACVR,EAAG,GACHD,EAAG,CAAC,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,QAKjDa,KAhEgD,SAgE3ClB,GACCmB,KAAK1B,YACT0B,KAAKnB,aAAeA,EACpBmB,KAAKzB,YAAY0B,OAAOC,OAAS,EACjCF,KAAKzB,YAAY0B,OAAOE,MAAQ,EAChCH,KAAKrB,WAAWsB,OAAOE,MAAQ,IAC/BH,KAAKrB,WAAWsB,OAAOC,OAAS,EAChCF,KAAKf,WAAae,KAAKI,iBACvBJ,KAAKpB,kBAAoBoB,KAAKK,4BACzBL,KAAKf,YAAee,KAAKpB,oBAC9BoB,KAAK1B,WAAY,KAGnBgC,sBA7EgD,SA6E1BpB,EAAWC,GAC/B,GAAiC,MAA7Ba,KAAKnB,aAAa0B,QAEpB,OADAC,QAAQC,MAAM,0DACP,EAETT,KAAKzB,YAAYmC,UACfV,KAAKnB,aAAa0B,QAClBrB,EACAC,EACA,EACA,EACA,EACA,EACA,EACA,GAEF,IAAMwB,EAAYC,MAAMC,KACtBb,KAAKzB,YAAYuC,aAAa,EAAG,EAAG,EAAG,GAAGC,MAE5C,MAAO,CAACJ,EAAU,GAAIA,EAAU,GAAIA,EAAU,KAGhDK,iBAnGgD,SAmG/BnC,GAAkD,IAAD,OAEhE,GADAmB,KAAKD,KAAKlB,IAEPmB,KAAK1B,YACN,IAAI2C,MAAOC,UAAY,IAAO,IAAMlB,KAAKZ,gCAEzC,OAAOY,KAAKhB,UACd,IAA+B,IAA3BgB,KAAKpB,kBAEP,OADA4B,QAAQC,MAAM,0DACP,EAIT,IADAT,KAAKhB,UAAY,YACVmC,OAAOC,KAAKpB,KAAKpB,mBAAmByC,QAAQrB,KAAKhB,YAAc,GAAG,CAGvE,IAAMsC,EAAoBtB,KAAKpB,kBAAkBoB,KAAKhB,WAAWuC,QAC/D,YAAsE,IAAD,mBAA7DrC,GAA6D,WAA1DC,EAA0D,KAAvDqC,EAAuD,KAC7Db,EAAY,EAAKL,sBAAsBpB,EAAGC,GAChD,IAAKwB,EAAW,OAAO,EACvB,kBAAkBA,EAAlB,GAAOc,EAAP,KAAUC,EAAV,KAAaC,EAAb,KACA,OACEC,KAAKC,IAAIJ,EAAID,EAAc,IACzBI,KAAKC,IAAIH,EAAIF,EAAc,IAC3BI,KAAKC,IAAIF,EAAIH,EAAc,IAC7B,OAMFF,EAAkB,GAAItB,KAAKhB,UAAYsC,EAAkB,GAAG,GAC3DtB,KAAKhB,UAAY,UAGxB,OADAgB,KAAKZ,iCAAkC,IAAI6B,MAAOC,UAC3ClB,KAAKhB,WAGdoB,eAzIgD,WA0I9C,GAAiC,MAA7BJ,KAAKnB,aAAa0B,QAAiB,OAAO,EAC9CP,KAAKrB,WAAW+B,UACdV,KAAKnB,aAAa0B,QAClBP,KAAKV,cAAcU,KAAKnB,aAAa0B,QAAQuB,YAAYnD,WAAWO,EAClE,IACFc,KAAKV,cAAcU,KAAKnB,aAAa0B,QAAQuB,YAAYnD,WAAWQ,EACpE,IACA,EACA,EACA,EACA,IACA,GAEF,IAGI4C,EAHEC,EAAehC,KAAKrB,WACvBmC,aAAa,EAAG,EAAG,IAAK,GACxBC,KAAKQ,QAAO,SAACU,EAAWF,GAAZ,OAA0BA,EAAI,IAAM,KAEnD,IAAKA,EAAI,EAAGA,EAAIC,EAAaE,UAEzBF,EAAaD,GAAKC,EAAa,GAAK,IACpCA,EAAaD,GAAK,GAAKC,EAAaD,EAAI,IACxCC,EAAaD,GAAK,GAAKC,EAAaD,EAAI,IAJPA,KASrC,MAAO,CACL7C,EACEc,KAAKV,cAAcU,KAAKnB,aAAa0B,QAAQuB,YAAYnD,WAAWO,EACpE,IACA6C,EACA/B,KAAKV,cAAcU,KAAKnB,aAAa0B,QAAQuB,YAC1CtC,iBAAiBN,EACtBC,EACEa,KAAKV,cAAcU,KAAKnB,aAAa0B,QAAQuB,YAAYnD,WAAWQ,EACpEa,KAAKV,cAAcU,KAAKnB,aAAa0B,QAAQuB,YAC1CtC,iBAAiBL,IAI1BkB,0BAlLgD,WAkLnB,IAAD,OAC1B,IAAKL,KAAKf,aAAee,KAAKnB,aAAa0B,QACzC,OAAO,EAGT,IAAM4B,EAAmBnC,KAAKM,sBAC5BN,KAAKf,WAAWC,EACdc,KAAKV,cAAcU,KAAKnB,aAAa0B,QAAQuB,YAC1CpC,kBAAkBR,EACvBc,KAAKf,WAAWE,EACda,KAAKV,cAAcU,KAAKnB,aAAa0B,QAAQuB,YAC1CpC,kBAAkBP,GAGzB,QAAKgD,GAME,CACLC,UAAW,CACT,QAPkBD,EAAiB,GAAK,IAQxB,OAAS,QACzB,OACA,aACA,WAECZ,QAAO,SAACc,GAAD,MAAa,UAANA,KACdC,KAAI,SAACC,EAAWR,GAAZ,MAAkB,CACrBQ,EACC,EAAKtD,WAAqBC,EACzB,EAAKI,cACF,EAAKT,aAAa0B,QAA6BuB,YAChDrC,aACAsC,EACH,EAAK9C,WAAqBE,EAC3B,CAAC,EAAG,GAAI,QAEZQ,WAAYK,KAAKV,cACfU,KAAKnB,aAAa0B,QAAQuB,YAC1BnC,WAAWT,EAAEoD,KAAI,SAACpD,EAAW6C,GAAZ,MAA0B,CAC3C,EAAK1C,iBAAiB0C,GACtB7C,EACA,EAAKI,cACF,EAAKT,aAAa0B,QAA6BuB,YAChDnC,WAAWR,EACb,CAAC,IAAK,IAAK,YCpQbqD,EAAeC,UAAUD,aAElBE,EAAyC,CACpDC,cAAe,KAEfC,aAHoD,SAGvCC,GAAwB,IAAD,OAClC,sBAAC,sBAAAC,EAAA,+EAE8BN,EAAaO,gBAAgB,CACtDC,MAAO,CAAEC,OAAQ,SACjBC,OAAO,IAJZ,OAEG,EAAKP,cAFR,uDAOGnC,QAAQC,MAAM,gBACd0C,MACE,eAEE,mEAXP,iCAcQ,EAAKR,eAdb,wDAAD,GAeKS,MAAK,SAACC,GACT,EAAKV,cAAgBU,EACrB,EAAKC,cAAcD,EAAQR,OAI/BU,YAzBoD,WA2BhDC,EAAQ3E,aAAa0B,QAAQkD,UAC7BC,YAEKC,SAAQ,SAACC,GAAD,OAAWA,EAAMC,UAChCL,EAAQ3E,aAAa0B,QAAQkD,UAAY,MAG3CH,cAlCoD,SAkCtCD,EAAqBR,GACL,MAAxBW,EAAQ3E,cAAwD,MAAhC2E,EAAQ3E,aAAa0B,UAIzDiD,EAAQ3E,aAAa0B,QAAQkD,UAAYJ,EACzCG,EAAQ3E,aAAa0B,QAAQuD,iBAAmB,SAAUC,GACpB,MAAhCP,EAAQ3E,aAAa0B,SAGzBiD,EAAQ3E,aAAa0B,QAAQyD,OAAOZ,MAAK,WACvCI,EAAQ1B,WAAa0B,EAAQ3E,aAAa0B,QAAQuB,WAClD0B,EAAQS,YAAcT,EAAQ3E,aAAa0B,QAAQ0D,YAGjD,CAAC,WAAY,UAAW,UAAW,WAAW5C,QAC5CmC,EAAQ1B,WAAWoC,WAAaV,EAAQS,YAAYC,YAClD,IAEJf,MACE,wEAEFgB,OAAOC,SAASC,UAElBxB,W,8DCNayB,E,WAmBnB,WACEzF,EACA0F,EACAC,GACC,yBAtBHC,cAAqC,CAACjG,SAASC,cAAc,WAsB3D,KArBFiG,WAAkC,CAAClG,SAASC,cAAc,WAqBxD,KApBFkG,WAAanG,SAASC,cAAc,UAoBlC,KAnBFmG,gBAAkBpG,SAASC,cAAc,UAmBvC,KAjBFoG,UAAoB,EAiBlB,KAhBFC,iBAgBE,OAfFC,kBAeE,OAbFC,oBAaE,OAZFC,kBAYE,OAXFC,eAWE,OAVFC,eAUE,OATFtG,kBASE,OARF2F,mBAQE,OAPFY,gBAA0B,EAOxB,KANFC,QAAkB,EAOhBrF,KAAKgF,eAAiBT,EAAQS,eAC9BhF,KAAKiF,aAAeV,EAAQU,aAC5BjF,KAAKkF,UAAYX,EAAQW,UACzBlF,KAAKmF,UAAYZ,EAAQY,UACzBnF,KAAKnB,aAAeA,EACpBmB,KAAK8E,YAAcjG,EAAa0B,QAAQuB,WAKxC9B,KAAK+E,aAAelG,EAAa0B,QAAQ0D,YAKzCjE,KAAKwE,cAAgBA,EAErBxE,KAAK4E,gBAAgBzE,MAAQ,EAC7BH,KAAK4E,gBAAgB1E,OAAS,KAE9BF,KAAK2E,WAAWxE,MAAQH,KAAKgF,eAAehF,KAAK8E,aAAaQ,EAC9DtF,KAAK2E,WAAWzE,OAASF,KAAKgF,eAAehF,KAAK8E,aAAaS,EAE/DvF,KAAKwF,O,wCAGP,WACE,OAAOxF,KAAK0E,WAAW1E,KAAK0E,WAAWxC,OAAS,K,qBAGlD,WACE,OAAOlC,KAAKyE,cAAczE,KAAKyE,cAAcvC,OAAS,K,uBAGxD,WACE,IAAMuD,EAAazF,KAAKC,OAExBD,KAAK0E,WAAWgB,KAAKlH,SAASC,cAAc,WAC5CuB,KAAKC,OAAOE,MAAQsF,EAAWtF,MAC/BH,KAAKC,OAAOC,OAASuF,EAAWvF,OAChCF,KAAKC,OACFvB,WAAW,MACXgC,UACC+E,EACA,EACA,IACAA,EAAWtF,MACX,IACA,EACA,EACAsF,EAAWtF,MACX,O,kBAIN,WAAQ,IAAD,QAEFH,KAAK6E,UACN7E,KAAKwE,iBACLxE,KAAK2F,aACJ3F,KAAK4F,gBAAgBC,OAAS7F,KAAK8F,oBAAsB,IAE1D9F,KAAK+F,oBAGPC,YAAW,kBAAM,EAAKR,SAAQ,M,sBAGhC,WACE,OAA+B,IAAvBxF,KAAKoF,iBAAuBa,QAAQ,GAAK,M,+BAGnD,SAAkBhG,GAKhB,OAJAA,EAASA,GAAUD,KAAKC,OACHW,MAAMC,KACzBZ,EAAOvB,WAAW,MAAMoC,aAAa,EAAG,EAAG,EAAGb,EAAOC,QAAQa,MAC7DQ,QAAO,SAACU,EAAGF,GAAJ,OAAUA,EAAI,IAAM,KACTV,QAAQ,K,+BAG9B,WACMrB,KAAK8F,oBAAsB,MAAO9F,KAAKkG,YAE3C,IAAMC,EAASnG,KAAKgF,eAAehF,KAAK8E,aAClCc,EAAgB5F,KAAK4F,gBACrBQ,EAAWR,EAAcQ,SACzBC,EAAerG,KAAK8F,oBAE1B,GAAqB,IAAjBO,EACFrG,KAAKC,OAAOE,MAAQH,KAAKgF,eAAehF,KAAK8E,aAAaQ,EAC1DtF,KAAKC,OAAOC,OAAS,KAErBF,KAAKC,OACFvB,WAAW,MACXgC,UACCV,KAAKnB,aAAa0B,QAClB4F,EAAOjH,EACPiH,EAAOhH,EAAIgH,EAAOG,IAClBH,EAAOb,EACPa,EAAOZ,EAAIY,EAAOG,IAClB,EACAD,EACAF,EAAOb,EACPa,EAAOZ,EAAIY,EAAOG,SAEjB,CACLtG,KAAK2E,WACFjG,WAAW,MACXgC,UACCV,KAAKnB,aAAa0B,QAClB4F,EAAOjH,EACPkH,EAAWpG,KAAK+E,aAAeoB,EAAOZ,EAAIY,EAAOhH,EACjDgH,EAAOb,EACPa,EAAOZ,EACP,EACA,EACAY,EAAOb,EACPa,EAAOZ,GAGX,IAAMA,EAAIvF,KAAKiF,aAAajF,KAAK8E,aAAaS,EACxCD,EAAItF,KAAKiF,aAAajF,KAAK8E,aAAaQ,EAExCiB,EAAavG,KAAK2E,WACrBjG,WAAW,MACXoC,aAAa,EAAG,EAAGwE,EAAGC,GAAGxE,KACtByF,EAAexG,KAAKC,OACvBvB,WAAW,MACXoC,aAAa,EAAGuF,EAAeF,EAAOZ,EAAGD,EAAGa,EAAOZ,GAAGxE,KAOzD0F,EAAQ,IAAK,IAAI1E,EAAIoE,EAAOZ,EAAIA,EAAGxD,IAAMwD,EAAGxD,IAAK,CAC/C,IAAK,IAAI7C,EAAI,EAAGA,EAAIoG,EAAGpG,IACrB,IAAK,IAAIC,EAAI,EAAGA,EAAIoG,EAAGpG,IAAK,CAE1B,IACMsH,EACJF,EAAe,EAAJrH,EAFH,GAEkBA,EAAIC,GAAKmG,EAAI,GAAMA,EAAIC,EAAI,IACjDmB,EACJF,EACEzE,EAAIuD,EAAI,EAAQ,EAAJpG,EALN,GAKqBA,EAAIC,GAAKmG,EAAI,GAAMA,EAAIC,EAAI,IAE1D,KAAI3D,KAAKC,IAAI4E,EAASC,GAAS,IAAOD,EAAS,IAAMC,EAAQ,IAE3D,SAASD,EA0Bf,GApBAzG,KAAKC,OACFvB,WAAW,MACXgC,UACCV,KAAK2E,WACL,EACA,EACAwB,EAAOb,EACPc,EAAWpG,KAAK+E,aAAeoB,EAAOhH,EAAIgH,EAAOZ,EACjD,EACAc,EAAeF,EAAOZ,EAAIxD,EAC1BoE,EAAOb,EACPc,EAAWpG,KAAK+E,aAAeoB,EAAOhH,EAAIgH,EAAOZ,GAGrDvF,KAAKoF,gBAAkBxD,KAAK+E,IAC1Bf,EAAcgB,UACZhB,EAAciB,KAAOjB,EAAcgB,UACrC,MAGER,EAAU,CACZ,IAAIU,EAAaX,EAAOhH,EAAIgH,EAAOZ,EACA,qBAAxBY,EAAOY,eAChBD,EAAaX,EAAOY,cAEtB/G,KAAK2E,WACFjG,WAAW,MACXgC,UACCV,KAAKnB,aAAa0B,QAClB4F,EAAOjH,EACP4H,EACAX,EAAOb,EACP,EACA,EACA,EACAa,EAAOb,EACP,GAGJ,IAAM0B,EAAoBpG,MAAMC,KAC9Bb,KAAK2E,WAAWjG,WAAW,MAAMoC,aAAa,EAAG,EAAGqF,EAAOb,EAAG,GAC3DvE,MACHQ,QAAO,SAACU,EAAGF,GAAJ,OAAUA,EAAI,IAAM,KAIzBH,KAAKqF,IAAL,MAAArF,KAAI,YAAQoF,IAAqB,KACnChH,KAAKoF,gBAAkB,EACvBpF,KAAKkH,yBAGT,U,uBAKN,WACOlH,KAAK6E,UAAU7E,KAAKkH,0B,4BAG3B,WACE,IAAK,IAAInF,EAAI,EAAGA,EAAI/B,KAAK0E,WAAWxC,OAAQH,IACtCA,EAAI,GAAG/B,KAAKyE,cAAciB,KAAKlH,SAASC,cAAc,WAC1DuB,KAAKmH,UAAUhH,MAAQH,KAAK0E,WAAW3C,GAAG5B,MAC1CH,KAAKmH,UAAUjH,OAASF,KAAK0E,WAAW3C,GAAG7B,OAC3CF,KAAKmH,UAAUzI,WAAW,MAAMgC,UAAUV,KAAK0E,WAAW3C,GAAI,EAAG,K,iCAIrE,SACEqF,GAQC,IAAD,OACMC,EAAYzG,MAAMZ,KAAK0E,WAAWxC,QACrCoF,KAAK,GACLhF,KAAI,SAACL,GAAD,MAAO,CAACsF,IAAU,MACzBH,EAAMzD,SAAQ,SAAC6D,GACb,IAAMzF,EAAI,EAAK2C,WAAWrD,QAAQmG,EAAKvH,QACvCoH,EAAUtF,GAAK,CACbH,KAAK+E,IAAIU,EAAUtF,GAAG,GAAIyF,EAAKrI,GAC/ByC,KAAKqF,IAAII,EAAUtF,GAAG,GAAIyF,EAAKrI,EAAIqI,EAAKjC,OAM5C,IAFA,IAAMkC,EAAiB,CAAC,GAEf1F,EAAI,EAAGA,EAAIsF,EAAUnF,OAAQH,IAAK,CACzC,IAAM9B,EAASD,KAAK0E,WAAW3C,GAC3B2F,EAAU,EACVC,EAAa1H,EAAOC,OACxB,GAAU,IAAN6B,EAAS,CAEX,IAAM6F,EAAWP,EAAUtF,EAAI,GAAG,GAC5B8F,EAAWR,EAAUtF,GAAG,GAC9B2F,EAAU9F,KAAKkG,MAAMD,EAAWD,EAAW,KAAS,EACpDH,EAAe1F,GAAK2F,EAEtB,GAAI3F,IAAM/B,KAAK0E,WAAWxC,OAAS,EAAG,CAEpC,IAAM6F,EAAWV,EAAUtF,GAAG,GACxBiG,EAAWX,EAAUtF,EAAI,GAAG,GAClC4F,EAAa/F,KAAKkG,MAAMC,EAAWC,EAAW,KAAS,EAEzD,IAAMC,EAAYhI,EACfvB,WAAW,MACXoC,aAAa,EAAG4G,EAASzH,EAAOE,MAAOwH,EAAaD,GACvDzH,EAAOC,OAASyH,EAAaD,EAC7BzH,EAAOvB,WAAW,MAAMwJ,aAAaD,EAAW,EAAG,GAEnD,IAAMd,EAAYnH,KAAKyE,cAAc1C,GAC/BoG,EAAqBhB,EACxBzI,WAAW,MACXoC,aAAa,EAAG4G,EAASP,EAAUhH,MAAOwH,EAAaD,GAC1DP,EAAUjH,OAASyH,EAAaD,EAChCP,EAAUzI,WAAW,MAAMwJ,aAAaC,EAAoB,EAAG,M,mCAWnE,WAAyB,IAAD,OACtBnI,KAAK0E,WAAWf,SAAQ,SAAC1D,GACvB,IAAMmI,EAAexG,KAAKqF,IAAI,EAAKnB,kBAAkB7F,GAAS,GACxDoI,EAAiBpI,EACpBvB,WAAW,MACXoC,aAAa,EAAG,EAAGb,EAAOE,MAAOiI,GACpCnI,EAAOC,OAASkI,EAChBnI,EAAOvB,WAAW,MAAMwJ,aAAaG,EAAgB,EAAG,MAE1DrI,KAAK6E,UAAW,I,2BAGlB,WACE,IAAMyD,EAAKtI,KAAKkF,UAAUlF,KAAK8E,aAC/B9E,KAAK4E,gBACFlG,WAAW,MACXgC,UACCV,KAAKnB,aAAa0B,QAClB+H,EAAGpJ,EACHoJ,EAAGC,GACH,EACAD,EAAGE,GAAKF,EAAGC,GACX,EACA,EACA,EACAD,EAAGE,GAAKF,EAAGC,IAEf,IAAME,EAAa7H,MAAMC,KACvBb,KAAK4E,gBAAgBlG,WAAW,MAAMoC,aAAa,EAAG,EAAG,EAAGwH,EAAGE,GAAKF,EAAGC,IACpExH,MACHQ,QAAO,SAACU,EAAGF,GAAJ,OAAUA,EAAI,IAAM,KACvBmD,EAAYuD,EACfnG,KAAI,SAACD,GAAD,OAAQA,EAAI,IAAMA,EAAI,IAAM,EAAI,KACpCqG,KAAK,IACR,OAAgC,IAA5BxD,EAAU7D,QAAQ,KACb,CACLwF,KAAM,EACND,UAAW,EACXf,MAAO,EACPO,SAAU,GAGP,CACLS,KAAM3B,EAAUyD,QAAQ,KAAM,IAAIzG,OAASuG,EAAWvG,OAEtD0E,WACG1B,EAAUyD,QAAQ,QAAS,IAAIzG,OAC9BuG,EAAWvG,OACXgD,EAAUyD,QAAQ,QAAS,IAAIzG,QACjC,EACAuG,EAAWvG,OACb2D,MACmB,MAAjBX,EAAU,IAAqD,OAAvCA,EAAUyD,QAAQ,UAAW,MACvDvC,SAAUlB,EAAU0D,OAAO,GAAGvH,QAAQ,MAAQ,K,2BAIlD,SAAcnC,EAAWC,GACvB,MAAkByB,MAAMC,KACtBb,KAAKC,OAAOvB,WAAW,MAAMoC,aAAa5B,EAAGC,EAAG,EAAG,GAAG4B,MADxD,mBAGA,MAAO,CAHP,kB,qBAMF,SACEU,EACAC,EACAC,GAEA,GAAgB,iBAALF,EAAe,CACxB,IAAMwF,EAAMrF,KAAKqF,IAAIxF,EAAGC,EAAGC,GACrBkH,EAAO5B,EAAMrF,KAAK+E,IAAIlF,EAAGC,EAAGC,GAC5BmH,EACJ7B,IAAQxF,EACJ,GAAKC,EAAIC,GAAKkH,EACd5B,IAAQvF,EACR,GAAKC,EAAIF,GAAKoH,EACd,GAAKpH,EAAIC,GAAKmH,EACpB,OAAOjH,KAAKmH,MAAY,GAAND,GAAY,IAE9B,IAAM7B,EAAMrF,KAAKqF,IAAIxF,EAAE,GAAIA,EAAE,GAAIA,EAAE,IAC7BoH,EAAO5B,EAAMrF,KAAK+E,IAAIlF,EAAE,GAAIA,EAAE,GAAIA,EAAE,IACpCqH,EACJ7B,IAAQxF,EAAE,GACN,GAAKA,EAAE,GAAKA,EAAE,IAAMoH,EACpB5B,IAAQxF,EAAE,GACV,GAAKA,EAAE,GAAKA,EAAE,IAAMoH,EACpB,GAAKpH,EAAE,GAAKA,EAAE,IAAMoH,EAC1B,OAAOjH,KAAKmH,MAAY,GAAND,GAAY,M,sBAIlC,WACE,IAAK,IAAI/G,EAAI,EAAGA,EAAI/B,KAAKmF,UAAUnF,KAAK8E,aAAa5C,OAAQH,IAAK,CAChE,IAAMiH,EAAQhJ,KAAKmF,UAAUnF,KAAK8E,aAAa/C,GAC/C/B,KAAK4E,gBACFlG,WAAW,MACXgC,UACCV,KAAKnB,aAAa0B,QAClByI,EAAM9J,EACN8J,EAAM7J,EACN,EACA,EACA,EACA,EACA,EACA,GAKJ,IAHA,IAAM8J,EAAajJ,KAAK4E,gBACrBlG,WAAW,MACXoC,aAAa,EAAG,EAAG,EAAG,GAAGC,KACnBmI,EAAI,EAAGA,EAAIF,EAAMG,MAAMjH,OAAQgH,IACtC,GAAItH,KAAKC,IAAImH,EAAMG,MAAMD,GAAKD,EAAWC,IAAM,GAAI,OAAO,EAG9D,OAAO,M,aChdUE,E,kDACnB,WACEpG,EACAqG,GACC,IAAD,6BA+BA,cAAMrG,EA7BU,CACdgC,eAAgB,CACd,KAAQ,CAAE9F,EAAG,IAAKC,EAAG,IAAKmG,EAAG,KAAMC,EAAG,IAAKe,IAAK,GAChD,KAAQ,CAAEpH,EAAG,IAAKC,EAAG,IAAKmG,EAAG,IAAKC,EAAG,IAAKe,IAAK,GAC/C,KAAQ,CAAEpH,EAAG,IAAKC,EAAG,IAAKmG,EAAG,IAAKC,EAAG,IAAKe,IAAK,GAC/C,KAAQ,CAAEpH,EAAG,IAAKC,EAAG,IAAKmG,EAAG,IAAKC,EAAG,IAAKe,IAAK,IAGjDrB,aAAc,CACZ,KAAQ,CAAEK,EAAG,IAAKC,EAAG,KACrB,KAAQ,CAAED,EAAG,IAAKC,EAAG,KACrB,KAAQ,CAAED,EAAG,IAAKC,EAAG,KACrB,KAAQ,CAAED,EAAG,IAAKC,EAAG,KAGvBL,UAAW,CACT,KAAQ,CAAEhG,EAAG,KAAMqJ,GAAI,IAAKC,GAAI,MAChC,KAAQ,CAAEtJ,EAAG,KAAMqJ,GAAI,IAAKC,GAAI,KAChC,KAAQ,CAAEtJ,EAAG,KAAMqJ,GAAI,IAAKC,GAAI,KAChC,KAAQ,CAAEtJ,EAAG,IAAKqJ,GAAI,IAAKC,GAAI,MAGjCrD,UAAW,CACT,KAAQ,CAAC,CAAEjG,EAAG,IAAKC,EAAG,IAAKgK,MAAO,CAAC,IAAK,EAAG,MAC3C,KAAQ,CAAC,CAAEjK,EAAG,IAAKC,EAAG,IAAKgK,MAAO,CAAC,IAAK,EAAG,KAC3C,KAAQ,CAAC,CAAEjK,EAAG,IAAKC,EAAG,IAAKgK,MAAO,CAAC,IAAK,EAAG,MAC3C,KAAQ,CAAC,CAAEjK,EAAG,IAAKC,EAAG,IAAKgK,MAAO,CAAC,IAAK,EAAG,QA3BzB,iBAAgC,UAA1BE,QAoC9BC,iBArCE,IAsCFC,0BAtCE,IAuCFC,qBAvCE,IAwCFC,iBAxCE,EAiCA,EAAKA,YAAc,KACnB,EAAKC,8BAlCL,E,sGA0CF,oCAAA5G,EAAA,sEAEU6G,QAAQC,IAAI,CAChBC,MAAM,yBAAyBzG,MAAK,SAAC0G,GAAD,OAASA,EAAIC,UACjDF,MAAM,qCAAqCzG,MAAK,SAAC0G,GAAD,OAASA,EAAIC,UAC7DC,IAAmB,kCALzB,mCACOC,EADP,KACwBC,EADxB,KAC0CX,EAD1C,KAQEvJ,KAAKsJ,YAAcY,EAAiB5H,KAClC,SAACD,GACC,MAAO,EACK,IAATA,EAAE,GAAW,mBAAqB,IAChC4H,EAAe,MAAyB1I,QACvC,SAAC4I,GAAD,OAAOA,EAAE,KAAO9H,EAAE,MAClB,GAAG,GACPA,MAKNrC,KAAKuJ,qBAAuBA,EAC5BvJ,KAAKqF,QAAS,EArBhB,iD,iFAwBA,SAAc+B,GAAgB,IAAD,OAiB3B,OAhBAA,EAAMzD,SAAQ,SAAC6D,EAAYzF,GACzB,IAAMqI,EAAa,EAAKC,sBACtB7C,EACA,EAAK+B,qBACL,EAAKD,aAEmB,qBAAfc,IACThD,EAAMrF,GAAN,2BACKqF,EAAMrF,IADX,IAEEuI,KAAM,kBACNC,MAAO,EACPC,KAAMJ,EAAW,GACjBrJ,KAAMqJ,EAAW,SAIhBhD,I,mCAGT,SACEI,EACAiD,EACAC,GACgB,IAAD,IACf,GAAK1K,KAAK6E,SAAV,CAEA7E,KAAK2E,WAAWxE,MAAQ,GACxBH,KAAK2E,WAAWzE,OAAS,GAEzB,IAAMyK,EAAc,GACpB,UAAA3K,KAAK2E,WACFjG,WAAW,aADd,SAEIgC,UAAU8G,EAAKvH,OAAQuH,EAAKtI,EAAGsI,EAAKrI,EAAGqI,EAAKlC,EAAGkC,EAAKjC,EAAG,EAAG,EAAG,GAAI,IACrE,IAAI0C,EAAS,UAAGjI,KAAK2E,WAClBjG,WAAW,aADD,aAAG,EAEZoC,aAAa,EAAG,EAAG,GAAI,IACvB8J,EAAM,OAAG3C,QAAH,IAAGA,OAAH,EAAGA,EAAWlH,KACxB,GAAsB,qBAAX6J,EACT,IAAK,IAAI1B,EAAI,EAAGA,EAAI0B,EAAO1I,OAAQgH,GAAK,EAAG,CACzC,IAAI2B,EACU,KAAZD,EAAO1B,GAA6B,KAAhB0B,EAAO1B,EAAI,GAA6B,KAAhB0B,EAAO1B,EAAI,GACzDyB,EAAYjF,KAAKmF,EAAY,KAGjC,IAAMC,EAASd,IAAUW,EAAa,CAAC,EAAG,GAAI,KAExCI,EAAeN,EAAMO,QAAQF,GAAsBG,WAEnDC,EACJR,EAAOK,EAAY1J,QAAQO,KAAKqF,IAAL,MAAArF,KAAI,YAAQhB,MAAMC,KAAKkK,OAGpD,OADAA,EAAYI,MAAK,SAACrI,EAAGnB,GAAJ,OAAUA,EAAImB,KAC3BiI,EAAY,GAAKA,EAAY,GAAK,GAC7B,CAAC,IAAMG,EAAe,GAAIA,EAAe,IAE3CA,K,uBAGT,WAEE,GADA,kEACIlL,KAAKwJ,gBAAiB,OAAOxJ,KAAKwJ,gBAEtC,IAAMpC,EAAQpH,KAAKoL,eACnBpL,KAAKwJ,gBAAkBxJ,KAAKqL,cAAcjE,K,4BAG5C,WACE,uEAC4B,MAAxBpH,KAAKwJ,kBAETxJ,KAAKwJ,gBAAgB7F,SAAQ,SAAC6D,EAAYzF,GACxC,IAAMuJ,EAAM9D,EAAKvH,OAAOvB,WAAW,MACnC4M,EAAIC,YAEJD,EAAIE,YAAc,GAClBF,EAAIG,UAAY,OAChBH,EAAII,SAASlE,EAAKtI,EAAGsI,EAAKrI,EAAGqI,EAAKlC,EAAGkC,EAAKjC,GAC1C+F,EAAIE,YAAc,EAElBF,EAAIK,UAAY,EAChBL,EAAIM,YAAwC,OAAzBpE,EAAKgD,MAAQ,KAAK,GAAa,SAAW,OAC7Dc,EAAI9D,KAAKA,EAAKtI,EAAGsI,EAAKrI,EAAGqI,EAAKlC,EAAGkC,EAAKjC,GACtC+F,EAAIO,SACqB,qBAAdrE,EAAKgD,OACdc,EAAIQ,KAAO,aACXR,EAAIG,UAAY,OAChBH,EAAIS,SACe,MAAjBvE,EAAKgD,KAAK,GAAahD,EAAKgD,KAAK5B,MAAM,GAAKpB,EAAKgD,KACjDhD,EAAKtI,EAAI,EACTsI,EAAKrI,EAAI,GACTqI,EAAKlC,EAAI,OAKftF,KAAKgM,oBAAoBhM,KAAKwJ,oB,0BAGhC,WAAgB,IAAD,OACbxJ,KAAK2E,WAAWxE,MAAQ,GACxBH,KAAK2E,WAAWzE,OAAS,GAqEzB,IAnEA,IAAM+L,EAAS,CACb,KAAQ,CACNC,OAAQ,GACRC,OAAQ,GACRC,UAAW,IACXC,WAAY,IACZC,YAAa,IACbC,YAAa,IACbC,WAAY,IAEd,KAAQ,CACNN,OAAQ,GACRC,OAAQ,GACRC,UAAW,IACXC,WAAY,IACZC,YAAa,IACbC,YAAa,IACbC,WAAY,IAEd,KAAQ,CACNN,OAAQ,GACRC,OAAQ,GACRC,UAAW,IACXC,WAAY,IACZC,YAAa,IACbC,YAAa,IACbC,WAAY,MAEd,KAAQ,CACNN,OAAQ,GACRC,OAAQ,GACRC,UAAW,GACXC,WAAY,IACZC,YAAa,IACbC,YAAa,MACbC,WAAY,OAEdxM,KAAK8E,aAEHsC,EAAgB,GAChBlI,EAAI+M,EAAOC,OACX/M,EAAI8M,EAAOE,OACXM,EAAc,EA0BhBtN,EAAI8M,EAAOI,WAAarM,KAAK0E,WAAW+H,GAAavM,QACrDuM,EAAczM,KAAK0E,WAAWxC,QAE1B/C,EAAI,MACNA,GAAK,IACLsN,KA5BF,EAAK9H,WACFjG,WAAW,MACXgC,UACC,EAAKgE,WAAW+H,GAChBvN,EAAI,GACJC,EAAI,GACJ,GACA,GACA,EACA,EACA,GACA,IAoBAD,EAAIc,KAAK0E,WAAW+H,GAAatM,OAhBrCyB,KAAKqF,IAAL,MAAArF,KAAI,YACChB,MAAMC,KACP,EAAK8D,WAAWjG,WAAW,MAAMoC,aAAa,EAAG,EAAG,GAAI,IACrDC,MACHQ,QAAO,SAACc,EAAWN,GAAZ,OAA0BA,EAAI,IAAM,OAC3C,IAYFqF,EAAM1B,KAAK,CACTzF,OAAQD,KAAK0E,WAAW+H,GACxBC,IAAK,YACLxN,IACAC,IACAmG,EAAG2G,EAAOG,UACV7G,EAAG0G,EAAOI,aAEZnN,GAAK+M,EAAOK,cAEZnN,GAAKD,IAAM+M,EAAOC,OAASD,EAAOO,WAAaP,EAAOM,YACtDrN,EAAI+M,EAAOC,QAGf,OAAO9E,I,+BAGT,WACMpH,KAAK2M,wBACP3M,KAAKyJ,YAAL,8DAGFzJ,KAAKyJ,YAAc,KACnB,6E,mCAGF,WACE,IAAMT,EAAQ,CACZ,KAAQ,CAAE9J,EAAG,GAAIC,EAAG,KACpB,KAAQ,CAAED,EAAG,GAAIC,EAAG,KACpB,KAAQ,CAAED,EAAG,GAAIC,EAAG,KACpB,KAAQ,CAAED,EAAG,GAAIC,EAAG,MACpBa,KAAK8E,aASP,OAPA9E,KAAK2E,WACFjG,WAAW,MACXgC,UAAUV,KAAKnB,aAAa0B,QAASyI,EAAM9J,EAAG8J,EAAM7J,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACtDa,KAAK2E,WACrBjG,WAAW,MACXoC,aAAa,EAAG,EAAG,EAAG,GAAGC,KAEV,GAAK,O,GAnSQuD,GCcdsI,E,kDACnB,WACE5J,EACAqG,GACC,IAAD,6BA4CA,cAAMrG,EAzCU,CACdgC,eAAgB,CACd,KAAQ,CAAE9F,EAAG,GAAIC,EAAG,IAAKmG,EAAG,IAAKC,EAAG,IAAKe,IAAK,IAC9C,KAAQ,CAAEpH,EAAG,GAAIC,EAAG,IAAKmG,EAAG,IAAKC,EAAG,IAAKe,IAAK,IAC9C,KAAQ,CAAEpH,EAAG,GAAIC,EAAG,IAAKmG,EAAG,IAAKC,EAAG,IAAKe,IAAK,IAC9C,KAAQ,CAAEpH,EAAG,GAAIC,EAAG,IAAKmG,EAAG,IAAKC,EAAG,IAAKe,IAAK,KAGhDrB,aAAc,CACZ,KAAQ,CAAEK,EAAG,IAAKC,EAAG,KACrB,KAAQ,CAAED,EAAG,IAAKC,EAAG,KACrB,KAAQ,CAAED,EAAG,IAAKC,EAAG,KACrB,KAAQ,CAAED,EAAG,GAAIC,EAAG,KAGtBL,UAAW,CACT,KAAQ,CAAEhG,EAAG,IAAKqJ,GAAI,IAAKC,GAAI,KAC/B,KAAQ,CAAEtJ,EAAG,IAAKqJ,GAAI,IAAKC,GAAI,KAC/B,KAAQ,CAAEtJ,EAAG,IAAKqJ,GAAI,IAAKC,GAAI,KAC/B,KAAQ,CAAEtJ,EAAG,IAAKqJ,GAAI,IAAKC,GAAI,MAGjCrD,UAAW,CACT,KAAQ,CACN,CAAEjG,EAAG,IAAKC,EAAG,KAAMgK,MAAO,CAAC,IAAK,IAAK,KACrC,CAAEjK,EAAG,IAAKC,EAAG,KAAMgK,MAAO,CAAC,IAAK,GAAI,OAEtC,KAAQ,CACN,CAAEjK,EAAG,IAAKC,EAAG,IAAKgK,MAAO,CAAC,IAAK,IAAK,KACpC,CAAEjK,EAAG,IAAKC,EAAG,IAAKgK,MAAO,CAAC,IAAK,GAAI,OAErC,KAAQ,CACN,CAAEjK,EAAG,IAAKC,EAAG,IAAKgK,MAAO,CAAC,IAAK,IAAK,KACpC,CAAEjK,EAAG,IAAKC,EAAG,IAAKgK,MAAO,CAAC,IAAK,GAAI,OAErC,KAAQ,CACN,CAAEjK,EAAG,IAAKC,EAAG,IAAKgK,MAAO,CAAC,IAAK,IAAK,KACpC,CAAEjK,EAAG,IAAKC,EAAG,IAAKgK,MAAO,CAAC,IAAK,GAAI,UAvCnB,iBAAgC,SAA1BE,QAgD9BC,iBAjDE,IAkDFuD,YAlDE,IAmDFrD,qBAnDE,EA8CA,EAAKE,8BA9CL,E,sGAqDF,0CAAA5G,EAAA,sEAEU6G,QAAQC,IAAI,CAChBC,MAAM,yBAAyBzG,MAAK,SAAC0G,GAAD,OAASA,EAAIC,UACjDC,IAAmB,+BACnBA,IAAmB,2BACnBA,IAAmB,2BACnBA,IAAmB,6BACnBA,IAAmB,uCARzB,mCACSV,EADT,KACsBwD,EADtB,KACiCC,EADjC,KACwCC,EADxC,KAC+CC,EAD/C,KACwDC,EADxD,KAWElN,KAAKsJ,YAAcA,EAEnBtJ,KAAK6M,OAAS,CACZC,YACAC,QACAC,QACAC,UACAC,mBAEFlN,KAAKqF,QAAS,EApBhB,iD,6EAuBA,WAEE,GADA,kEACIrF,KAAKwJ,gBAAiB,OAAOxJ,KAAKwJ,gBAEtC,IAAMpC,EAAQpH,KAAKoL,eAEnB,OADApL,KAAKwJ,gBAAkBxJ,KAAKqL,cAAcjE,GACnCpH,KAAKwJ,kB,4BAGd,WACE,uEAC4B,MAAxBxJ,KAAKwJ,iBAETxJ,KAAKwJ,gBAAgB7F,SAAQ,SAAC6D,EAAYzF,GACxC,IAAMuJ,EAAM9D,EAAKvH,OAAOvB,WAAW,MACnC4M,EAAIC,YAEJD,EAAIE,YAAc,GAClBF,EAAIG,UAAY,OAChBH,EAAII,SAASlE,EAAKtI,EAAGsI,EAAKrI,EAAGqI,EAAKlC,EAAGkC,EAAKjC,GAC1C+F,EAAIE,YAAc,EAElBF,EAAIK,UAAY,EAChBL,EAAIM,aACDpE,EAAKgD,MAAQ,IAAInJ,QAAQ,OAAS,EAAI,OAAS,SAClDiK,EAAI9D,KAAKA,EAAKtI,EAAGsI,EAAKrI,EAAGqI,EAAKlC,EAAGkC,EAAKjC,GACtC+F,EAAIO,SAEmB,qBAAdrE,EAAK8C,MACU,qBAAf9C,EAAK+C,OACS,qBAAd/C,EAAKgD,OAEZc,EAAIQ,KAAO,aACXR,EAAIG,UAAY,OAChBH,EAAIS,SAAJ,UACKvE,EAAK+C,MAAMrG,WADhB,aAC+BsD,EAAKgD,KADpC,YAC4ChD,EAAK8C,MAC/C9C,EAAKtI,EAAI,EACTsI,EAAKrI,EAAI,GACTqI,EAAKlC,EAAI,S,2BAMjB,SAAc8B,GAAgB,IAAD,OA6E3B,OA5EAA,EAAMzD,SAAQ,SAAC6D,EAAYzF,GACzB,GAAiB,cAAbyF,EAAKkF,IAAqB,CAC5B,IAAMS,EAAQ,EAAKC,qBAAqB5F,GACpC2F,EAAQ,IACV/F,EAAMrF,GAAN,2BACKqF,EAAMrF,IADX,IAEEuI,KAAM,QAAU6C,EAAMjJ,WACtBqG,MAAO,EAAK8C,kBAAkB7F,GAC9BgD,KAAM,EAAKH,sBACT7C,EACA,EAAKqF,OAAOC,UACZ,EAAKxD,YAAYwD,kBAID,cAAbtF,EAAKkF,IACdtF,EAAMrF,GAAN,2BACKqF,EAAMrF,IADX,IAEEuI,KAAM,EAAKD,sBAAsB7C,EAAM,EAAKqF,OAAOK,gBAAiB,CAClE,QACA,cAEF3C,MAAO,EAAK8C,kBAAkB7F,GAC9BgD,KAAM,EAAKH,sBACT7C,EACA,EAAKqF,OAAOC,UACZ,EAAKxD,YAAYwD,aAGC,UAAbtF,EAAKkF,IACdtF,EAAMrF,GAAN,2BACKqF,EAAMrF,IADX,IAEEuI,KAAM,EAAKD,sBAAsB7C,EAAM,EAAKqF,OAAOK,gBAAiB,CAClE,QACA,cAEF3C,MAAO,EAAK8C,kBAAkB7F,GAC9BgD,KAAM,EAAKH,sBACT7C,EACA,EAAKqF,OAAOE,MACZ,EAAKzD,YAAYyD,SAGC,eAAbvF,EAAKkF,IACdtF,EAAMrF,GAAN,2BACKqF,EAAMrF,IADX,IAEEuI,KAAM,EAAKD,sBAAsB7C,EAAM,EAAKqF,OAAOK,gBAAiB,CAClE,QACA,cAEF3C,MAAO,EAAK8C,kBAAkB7F,GAC9BgD,KAAM,EAAKH,sBACT7C,EACA,EAAKqF,OAAOG,MACZ,EAAK1D,YAAY0D,SAGC,aAAbxF,EAAKkF,IACdtF,EAAMrF,GAAN,2BACKqF,EAAMrF,IADX,IAEEuI,KAAM,UACNC,MAAO,EAAK8C,kBAAkB7F,GAC9BgD,KAAM,EAAKH,sBACT7C,EACA,EAAKqF,OAAOC,UACZ,EAAKxD,YAAYwD,aAGZ,CAAC,iBAAkB,SAAU,SAASzL,QAAQmG,EAAKkF,MAAQ,GACpElM,QAAQ8M,IACN,0DACA9F,EAAKkF,IACLlF,MAICJ,I,mCAGT,SACEI,EACAiD,EACAC,GACS,IAAD,IACR,GAAK1K,KAAK6E,SAAV,CAEA7E,KAAK2E,WAAWxE,MAAQ,GACxBH,KAAK2E,WAAWzE,OAAS,GAEzB,IAAMyK,EAAc,GACpB,UAAA3K,KAAK2E,WACFjG,WAAW,aADd,SAEIgC,UAAUV,KAAKC,OAAQuH,EAAKtI,EAAGsI,EAAKrI,EAAGqI,EAAKlC,EAAGkC,EAAKjC,EAAG,EAAG,EAAG,GAAI,IACrE,IAAI0C,EAAS,UAAGjI,KAAK2E,WAClBjG,WAAW,aADD,aAAG,EAEZoC,aAAa,EAAG,EAAG,GAAI,IACvB8J,EAAM,OAAG3C,QAAH,IAAGA,OAAH,EAAGA,EAAWlH,KACxB,GAAsB,qBAAX6J,EACT,IAAK,IAAI1B,EAAI,EAAGA,EAAI0B,EAAO1I,OAAQgH,GAAK,EAAG,CACzC,IAAI2B,EACU,KAAZD,EAAO1B,GAA6B,KAAhB0B,EAAO1B,EAAI,GAA6B,KAAhB0B,EAAO1B,EAAI,GACzDyB,EAAYjF,KAAKmF,EAAY,KAGjC,IAAMC,EAASd,IAAUW,EAAa,CAAC,EAAG,GAAI,KAExCI,EAAeN,EAAMO,QAAQF,GAAsBG,WAEnDC,EACgB,iBAAbR,EAAO,GACTA,EACCK,EAAY1J,QAAQO,KAAKqF,IAAL,MAAArF,KAAI,YAAQhB,MAAMC,KAAKkK,OAE7CL,EAAOK,EAAY1J,QAAQO,KAAKqF,IAAL,MAAArF,KAAI,YAAQhB,MAAMC,KAAKkK,OAAgB,GAGxE,OADAA,EAAYI,MAAK,SAACrI,EAAGnB,GAAJ,OAAUA,EAAImB,KAC3BiI,EAAY,GAAKA,EAAY,GAAK,GAC7B,OAASG,EAEXA,K,kCAGT,SAAqB1D,GAAa,IAAD,IAC/B,UAAAxH,KAAK2E,WACFjG,WAAW,aADd,SAEIgC,UACAV,KAAKC,OACLuH,EAAKtI,EAAIsI,EAAKlC,EAAI,EAClBkC,EAAKrI,EAAI,EACT,EACA,EACA,EACA,EACA,EACA,GAEJ,MAAkByB,MAAMC,KAAN,UAChBb,KAAK2E,WAAWjG,WAAW,aADX,aAChB,EAAkCoC,aAAa,EAAG,EAAG,EAAG,GAAGC,MAD7D,mBAAOU,EAAP,KAAUC,EAAV,KAAaC,EAAb,KAGMmH,EAAM9I,KAAKuN,QAAQ9L,EAAGC,EAAGC,GAC/B,OAAImH,EAAM,KAAOA,EAAM,IAAY,EAC/BA,EAAM,KAAOA,EAAM,IAAY,EAC5B,I,+BAGT,SAAkBtB,GAAa,IAAD,eACtByE,EAAS,CACb,KAAQ,CACN3G,EAAG,GACHC,EAAG,EACHiI,KAAM,EACNC,KAAM,EACNC,gBAAiB,EACjBC,gBAAiB,GAEnB,KAAQ,CACNrI,EAAG,GACHC,EAAG,EACHiI,KAAM,EACNC,KAAM,EACNC,gBAAiB,EACjBC,gBAAiB,GAEnB,KAAQ,CACNrI,EAAG,GACHC,EAAG,GACHiI,KAAM,EACNC,KAAM,EACNC,gBAAiB,GACjBC,gBAAiB,IAEnB,KAAQ,CACNrI,EAAG,GACHC,EAAG,GACHiI,KAAM,EACNC,KAAM,EACNC,gBAAiB,GACjBC,gBAAiB,KAEnB3N,KAAK8E,aAEP9E,KAAK2E,WAAWxE,MAAQ8L,EAAO3G,EAC/BtF,KAAK2E,WAAWzE,OAAS+L,EAAO1G,EAEhC,IAAIrG,EAAI0C,KAAKmH,MAAMvB,EAAKtI,EAAIsI,EAAKlC,EAAI2G,EAAO3G,EAAI2G,EAAOuB,MACnDrO,EAAIyC,KAAKmH,MAAMvB,EAAKrI,EAAIqI,EAAKjC,EAAI0G,EAAO1G,EAAI0G,EAAOwB,MACvD,EAAa,CAACxB,EAAO3G,EAAG2G,EAAO1G,GAA1BD,EAAL,KAAQC,EAAR,KAEA,UAAAvF,KAAK2E,WACFjG,WAAW,aADd,SAEIgC,UAAUV,KAAKC,OAAQf,EAAGC,EAAGmG,EAAGC,EAAG,EAAG,EAAGD,EAAGC,GAEhD,IAAIqI,EAAiChN,MAAMC,KAAN,UACnCb,KAAK2E,WAAWjG,WAAW,aADQ,aACnC,EAAkCoC,aAAa,EAAG,EAAGmL,EAAO3G,EAAG2G,EAAO1G,GACnExE,MAEFuB,KAAI,SAACD,EAAWN,EAAWe,GAAvB,OACHf,EAAI,IAAM,EAAI,EAAIM,EAAI,KAAQA,EAAIS,EAAEf,EAAI,GAAW,EAAI,KAExDR,QAAO,SAACU,EAAWF,GAAZ,OAA0BA,EAAI,IAAM,KAO9C,IALuB,qBAAZ6L,IACTA,EAAU,YAAIhN,MAAMgB,KAAKiM,KAAKD,EAAQ1L,OAAS+J,EAAO3G,KAAKhD,KAAI,SAACL,GAAD,OAC5D2L,EAAqBE,OAAO,EAAG7B,EAAO3G,OAGpCsI,EAAQ,IAAMA,EAAQ,GAAGlF,KAAK,IAAIhC,MAAM,UAC7CkH,EAAQG,QACR5O,IACAoG,IAGF,KAAOqI,EAAQ,IAAMA,EAAQA,EAAQ1L,OAAS,GAAGwG,KAAK,IAAIhC,MAAM,UAC9DkH,EAAQI,MACRzI,IAGF,UAAAvF,KAAK2E,WACFjG,WAAW,aADd,SAEIgC,UACAV,KAAKC,OACL2B,KAAKmH,MAAMvB,EAAKtI,EAAIsI,EAAKlC,EAAI,GAAK2G,EAAOuB,MACzC5L,KAAKmH,MAAMvB,EAAKrI,EAAIqI,EAAKjC,EAAI0G,EAAO1G,EAAI0G,EAAOwB,KAAO,GACtD,GACA,EACA,EACA,EACA,GACA,GAGJ,IAAMQ,EASE,IARNrM,KAAKqF,IAAL,MAAArF,KAAI,YACChB,MAAMC,KAAN,UACDb,KAAK2E,WAAWjG,WAAW,aAD1B,aACD,EAAkCoC,aAAa,EAAG,EAAG,GAAI,GAAGC,MAE3DuB,KAAI,SAACD,EAAWN,EAAWe,GAAvB,OACHf,EAAI,IAAM,EAAI,EAAIM,EAAI,KAAQA,EAAIS,EAAEf,EAAI,GAAW,EAAI,KAExDR,QAAO,SAACU,EAAWF,GAAZ,OAA0BA,EAAI,IAAM,OAQlD,GAJE6L,EAAQ1L,QAAU+J,EAAO0B,iBACzBC,EAAQ1L,QAAU+J,EAAOyB,iBACzBO,EAEY,CAWZ,IAVA,IAAIC,EAAe,GAEbC,EAAc,YAAIvN,MAAMgN,EAAQ,GAAG1L,SAASI,KAAI,SAACL,EAAGF,GAAJ,OACpD,YAAInB,MAAMgN,EAAQ1L,SACfI,KAAI,SAACL,EAAGiH,GAAJ,OAAW0E,EAAuB1E,GAAGnH,MACzCqM,QAAO,SAACtL,EAAGnB,GAAJ,OAAUmB,EAAInB,IAAG,MAGzB0M,EAAsB,GACtBC,GAAwB,EACnBvM,EAAIoM,EAAYjM,OAAS,EAAGH,GAAK,EAAGA,IACvCoM,EAAYpM,GAAK,IAAe,IAAVuM,EAAiBA,EAAQvM,EACvB,IAAnBoM,EAAYpM,KAAsB,IAAVuM,IAC/BD,EAAoB3I,KAAK,CAAC3D,EAAI,EAAGuM,IACjCA,GAAQ,GA2CZ,OAvCAtO,KAAK2E,WAAWxE,MAAQ,EACxBH,KAAK2E,WAAWzE,OAAS,GACzBmO,EAAsBA,EACnBE,UACAhN,QAAO,SAACc,GAAD,OAAOA,EAAE,GAAKA,EAAE,GAAK,MAEXsB,SAAQ,SAAC6K,GAAqB,IAAD,IAC/C,YAAK7J,WACFjG,WAAW,aADd,SAEIgC,UACA,EAAKT,OACLf,EAAIsP,EAAM,GACVrP,EACAqP,EAAM,GAAKA,EAAM,GAAK,EACtBjJ,EACA,EACA,EACA,EACA,GAGJ,IAAIkJ,EAAmB7N,MAAMC,KAAN,UACrB,EAAK8D,WACFjG,WAAW,aAFO,aACrB,EAEIoC,aAAa,EAAG,EAAG,EAAG,GACvBC,KAAKQ,QAAO,SAACU,EAAWF,GAAZ,OAA0BA,EAAI,IAAM,KAChDO,KAAI,SAACD,GAAD,OAAgBA,EAAI,IAAM,EAAI,MAGjCyI,EAASd,IAAUyE,EAAQ,CAAC,EAAG,EAAG,IAElC1D,EACJ,EAAK8B,OAAOI,QAAQjC,QAAQF,GAC5BG,WAEFiD,GAAgBnD,EACb1J,QAAQO,KAAKqF,IAAL,MAAArF,KAAI,YAAQhB,MAAMC,KAAKkK,MAC/B7G,cAEEwK,SAASR,EAAc,IAE9B,OAAO,I,0BAIX,WA4DE,IA5DsB,IAAD,OACfS,EAAa,CACjB,YACA,YACA,QACA,iBACA,WACA,SACA,aACA,SAGI1C,EAAS,CACb,KAAQ,CACNC,OAAQ,GACRC,OAAQ,EACRK,WAAY,KACZJ,UAAW,IACXC,WAAY,IACZC,YAAa,IACbC,YAAa,QAEf,KAAQ,CACNL,OAAQ,EACRC,OAAQ,EACRK,WAAY,KACZJ,UAAW,GACXC,WAAY,GACZC,YAAa,MACbC,YAAa,QAEf,KAAQ,CACNL,OAAQ,EACRC,OAAQ,EACRK,WAAY,GACZJ,UAAW,GACXC,WAAY,GACZC,YAAa,GACbC,YAAa,IAEf,KAAQ,CACNL,OAAQ,EACRC,OAAQ,EACRK,WAAY,GACZJ,UAAW,GACXC,WAAY,GACZC,YAAa,KACbC,YAAa,QAEfvM,KAAK8E,aAED8J,EAAQ,GACRC,EAAe7O,KAAKC,OACvBvB,WAAW,MACXoC,aACCc,KAAKmH,MAAM/I,KAAKC,OAAOE,MAAQ,GAC/B,EACA,EACAH,KAAKC,OAAOC,QACZa,KACKgB,EAAI,EAAGA,EAAI8M,EAAa3M,OAAQH,GAAK,EACxC8M,EAAa9M,GAAK,IAAI6M,EAAMlJ,KAAK3D,EAAI,GAS3C,IANA,IAAI+M,EAAQ,GACRC,EAAWH,EAAMb,SAAWxG,IAC5ByH,EAAe,GACfvC,EAAc,EACdtN,EAAI8M,EAAOE,OAERhN,EAAIa,KAAKC,OAAOC,QAAUuM,EAAczM,KAAK0E,WAAWxC,QAAQ,CAMrE,GALI/C,EAAI,MACNA,GAAK,IACLsN,KAGEtN,EAAI8M,EAAOI,WAAa0C,GAC1B,GAAqB,SAAjBC,EACF,IAAK,IAAIjN,EAAI,EAAGA,EAAI,EAAGA,IACrB+M,EAAMpJ,KAAK,CACTgH,IAAKsC,EACL/O,OAAQD,KAAK0E,WAAW+H,GACxBvN,EAAG+M,EAAOC,OAASD,EAAOK,YAAcvK,EACxC5C,EAAGA,EACHmG,EAAG2G,EAAOG,UACV7G,EAAG0G,EAAOI,kBAUhB,GALA0C,EAAWH,EAAMb,SAAWxG,IAC5ByH,EAAeL,EAAWZ,SAAW,OAErC5O,GAAK8M,EAAOO,WAERsC,EAAM5M,OAAS,EACM,CACrB4M,EAAMd,MACNc,EAAMd,MACNc,EAAMd,OACNO,UAEa5K,SAAQ,SAACsL,GACtB,IAAMC,EAAc,EAAKjP,OACtBvB,WAAW,MACXoC,aAAamO,EAAK/P,EAAG+P,EAAK9P,EAAG8P,EAAK3J,EAAG2J,EAAK1J,GAAGxE,KAChDoO,EAAM,IAAK,IAAIpN,EAAI,EAAGA,EAAIH,KAAKqF,IAAIgI,EAAK9P,EAAG8P,EAAK/P,GAAI6C,IAClD,IAAK,IAAIqN,EAAI,EAAGA,EAAI,EAAGA,IACrB,GAAIF,EAAgB,EAAJnN,EAAQA,EAAIkN,EAAK3J,EAAI,EAAI8J,GAAK,GAAI,CAChDN,EAAMpJ,KAAKuJ,GACX,MAAME,MAOlBhQ,GAAK8M,EAAOM,YAEd,OAAOuC,M,GA3iBuBxK,GCdb+K,E,kDACnB,WACErM,EACAqG,GACC,IAAD,6BAgCA,cAAMrG,EA7BU,CACdgC,eAAgB,CACd,KAAQ,CAAE9F,EAAG,IAAKC,EAAG,IAAKmG,EAAG,KAAMC,EAAG,IAAKe,IAAK,GAChD,KAAQ,CAAEpH,EAAG,IAAKC,EAAG,IAAKmG,EAAG,IAAKC,EAAG,IAAKe,IAAK,GAC/C,KAAQ,CAAEpH,EAAG,IAAKC,EAAG,IAAKmG,EAAG,IAAKC,EAAG,IAAKe,IAAK,GAC/C,KAAQ,CAAEpH,EAAG,IAAKC,EAAG,IAAKmG,EAAG,IAAKC,EAAG,IAAKe,IAAK,IAGjDrB,aAAc,CACZ,KAAQ,CAAEK,EAAG,IAAKC,EAAG,KACrB,KAAQ,CAAED,EAAG,IAAKC,EAAG,KACrB,KAAQ,CAAED,EAAG,IAAKC,EAAG,IACrB,KAAQ,CAAED,EAAG,IAAKC,EAAG,KAGvBL,UAAW,CACT,KAAQ,CAAEhG,EAAG,KAAMqJ,GAAI,IAAKC,GAAI,MAChC,KAAQ,CAAEtJ,EAAG,KAAMqJ,GAAI,IAAKC,GAAI,KAChC,KAAQ,CAAEtJ,EAAG,KAAMqJ,GAAI,IAAKC,GAAI,KAChC,KAAQ,CAAEtJ,EAAG,IAAKqJ,GAAI,IAAKC,GAAI,MAGjCrD,UAAW,CACT,KAAQ,CAAC,CAAEjG,EAAG,GAAIC,EAAG,IAAKgK,MAAO,CAAC,IAAK,IAAK,OAC5C,KAAQ,CAAC,CAAEjK,EAAG,GAAIC,EAAG,IAAKgK,MAAO,CAAC,IAAK,IAAK,OAC5C,KAAQ,CAAC,CAAEjK,EAAG,GAAIC,EAAG,IAAKgK,MAAO,CAAC,IAAK,IAAK,OAC5C,KAAQ,CAAC,CAAEjK,EAAG,GAAIC,EAAG,IAAKgK,MAAO,CAAC,IAAK,IAAK,UA5B1B,iBAAgC,cAA1BE,QAsC9BC,iBAvCE,IAwCFgG,6BAxCE,IAyCF9F,qBAzCE,IA0CF+F,sBA1CE,IA2CF9F,iBA3CE,EAkCA,EAAK8F,kBAAmB,EACxB,EAAK9F,YAAc,KACnB,EAAKC,8BApCL,E,yDA6CF,WACE,8EACA1J,KAAKuP,iBAAmBvP,KAAK2M,0B,uBAG/B,WAEE,GADA,kEACI3M,KAAKwJ,gBAAiB,OAAOxJ,KAAKwJ,gBAEtC,IAAMpC,EAAQpH,KAAKoL,eACnBpL,KAAKwJ,gBAAkBxJ,KAAKqL,cAAcjE,GAE1CpH,KAAKgM,oBAAoBhM,KAAKwJ,mB,4BAGhC,WACE,uEAC4B,MAAxBxJ,KAAKwJ,iBAETxJ,KAAKwJ,gBAAgB7F,SAAQ,SAAC6D,EAAYzF,GACxC,IAAMyN,EAAehI,EAAKvH,OAAOvB,WAAW,MAE5C8Q,EAAajE,YAEbiE,EAAahE,YAAc,GAC3BgE,EAAa/D,UAAY,OACzB+D,EAAa9D,SAASlE,EAAKtI,EAAGsI,EAAKrI,EAAGqI,EAAKlC,EAAGkC,EAAKjC,GACnDiK,EAAahE,YAAc,EAE3BgE,EAAa7D,UAAY,GACzB6D,EAAa5D,aACVpE,EAAKgD,MAAQ,IAAInJ,QAAQ,OAAS,EAAI,OAAS,SAClDmO,EAAahI,KAAKA,EAAKtI,EAAGsI,EAAKrI,EAAGqI,EAAKlC,EAAGkC,EAAKjC,GAC/CiK,EAAa3D,SAEU,qBAAdrE,EAAK8C,MACU,qBAAf9C,EAAK+C,OACS,qBAAd/C,EAAKgD,OAEZgF,EAAa1D,KAAO,aACpB0D,EAAa/D,UAAY,OACzB+D,EAAazD,SAASvE,EAAKgD,KAAMhD,EAAKtI,EAAI,EAAGsI,EAAKrI,EAAI,GAAIqI,EAAKlC,EAAI,GACnEkK,EAAazD,SACX,OAASvE,EAAKzG,KAAK0O,GACnBjI,EAAKtI,EAAI,EACTsI,EAAKrI,EAAI,GACTqI,EAAKlC,EAAI,GAEXkK,EAAazD,SACX,UAAYvE,EAAKzG,KAAK2O,MACtBlI,EAAKtI,EAAI,EACTsI,EAAKrI,EAAI,GACTqI,EAAKlC,EAAI,GAEXkK,EAAazD,SACX,YAAcvE,EAAKzG,KAAK4O,QACxBnI,EAAKtI,EAAI,EACTsI,EAAKrI,EAAI,GACTqI,EAAKlC,EAAI,GAEXkK,EAAazD,SACX,oBAAsBvE,EAAKzG,KAAK6O,eAChCpI,EAAKtI,EAAI,EACTsI,EAAKrI,EAAI,GACTqI,EAAKlC,EAAI,S,gFAMjB,oCAAAxC,EAAA,sEAEU6G,QAAQC,IAAI,CAChBC,MAAM,yBAAyBzG,MAAK,SAAC0G,GAAD,OAASA,EAAIC,UACjDF,MAAM,yCAAyCzG,MAAK,SAAC0G,GAAD,OAClDA,EAAIC,UAENC,IAAmB,sCAPzB,mCACOC,EADP,KACwB4F,EADxB,KAC8CP,EAD9C,KAUEtP,KAAKsJ,YAAcuG,EAAqBvN,KAAI,SAACD,GAC3C,MAAO,CACJ4H,EAAe,UAA6B1I,QAC3C,SAAC4I,GAAD,OAAOA,EAAE,KAAO9H,KAChB,GAAG,GACLA,MAIJrC,KAAKsP,wBAA0BA,EAC/BtP,KAAKqF,QAAS,EApBhB,iD,iFAuBA,SAAc+B,GAAgB,IAAD,OAyB3B,OAxBAA,EAAMzD,SAAQ,SAAC6D,EAAYzF,GACzB,IAAMqI,EAAa,EAAKC,sBACtB7C,EACA,EAAK8H,wBACL,EAAKhG,aAEP,GAA0B,qBAAfc,EAA4B,CACrC,IAAM0F,GAAY,EAAKP,kBACnB,EAAKQ,uBAAuBvI,GAEhCJ,EAAMrF,GAAN,2BACKqF,EAAMrF,IADX,IAEEuI,KAAM,sBACNC,MAAO,EACPC,KAAMJ,EAAW,GACjBrJ,KAAM,CACJ0O,GAAIrF,EAAW,GACfsF,MAAOI,EACPH,QAASG,EAAY,EAAKE,qBAAqBxI,GAAQ,EACvDoI,iBAAgBE,GAAY,EAAKG,oBAAoBzI,UAKtDJ,I,mCAGT,SACEI,EACAiD,EACAC,GACS,IAAD,IACR,GAAK1K,KAAK6E,SAAV,CAEA7E,KAAK2E,WAAWxE,MAAQ,GACxBH,KAAK2E,WAAWzE,OAAS,GAEzB,IAAMyK,EAAc,GACpB,UAAA3K,KAAK2E,WACFjG,WAAW,aADd,SAEIgC,UAAUV,KAAKC,OAAQuH,EAAKtI,EAAGsI,EAAKrI,EAAGqI,EAAKlC,EAAGkC,EAAKjC,EAAG,EAAG,EAAG,GAAI,IACrE,IAAI0C,EAAS,UAAGjI,KAAK2E,WAClBjG,WAAW,aADD,aAAG,EAEZoC,aAAa,EAAG,EAAG,GAAI,IACvB8J,EAAM,OAAG3C,QAAH,IAAGA,OAAH,EAAGA,EAAWlH,KACxB,GAAsB,qBAAX6J,EACT,IAAK,IAAI1B,EAAI,EAAGA,EAAI0B,EAAO1I,OAAQgH,GAAK,EAAG,CACzC,IAAI2B,EACU,KAAZD,EAAO1B,GAA6B,KAAhB0B,EAAO1B,EAAI,GAA6B,KAAhB0B,EAAO1B,EAAI,GACzDyB,EAAYjF,KAAKmF,EAAY,KAGjC,IAAMC,EAASd,IAAUW,EAAa,CAAC,EAAG,GAAI,KAExCI,EAAeN,EAAMO,QAAQF,GAAsBG,WAEnDC,EACJR,EAAOK,EAAY1J,QAAQO,KAAKqF,IAAL,MAAArF,KAAI,YAAQhB,MAAMC,KAAKkK,OAGpD,OADAA,EAAYI,MAAK,SAACrI,EAAGnB,GAAJ,OAAUA,EAAImB,KAC3BiI,EAAY,GAAKA,EAAY,GAAK,GAC7B,OAASG,EAEXA,K,oCAGT,SAAuB1D,GAAa,IAAD,EACjC,GAAKxH,KAAK6E,SAAV,CAEA7E,KAAK2E,WAAWxE,MAAQ,GACxBH,KAAK2E,WAAWzE,OAAS,EAEzB,IAAM+L,EAAS,CACb,KAAQ,IACR,KAAQ,IACR,KAAQ,IACR,KAAQ,KACRjM,KAAK8E,aAEDoL,EAAYlQ,KAAKuN,QACrBvN,KAAKmQ,cAAc3I,EAAKtI,EAAIsI,EAAKlC,EAAI,EAAGkC,EAAKrI,IAG/C,OAAI,IAAM+Q,GAAaA,EAAY,IAC1B,+BAGT,UAAAlQ,KAAK2E,WACFjG,WAAW,aADd,SAEIgC,UACAV,KAAKC,OACL2B,KAAKkG,MAAMN,EAAKtI,EAAIsI,EAAKlC,EAAI,GAAK,GAClCkC,EAAKrI,EAAI8M,EACT,GACA,EACA,EACA,EACA,GACA,GAIFrK,KAAKqF,IAAL,MAAArF,KAAI,YACChB,MAAMC,KACPb,KAAK2E,WACFjG,WAAW,MACXoC,aAAa,EAAG,EAAG,GAAI,GACvBC,KAAKQ,QAAO,SAACU,EAAGF,GAAJ,OAAUA,EAAI,IAAM,QAEnC,O,kCAIR,SAAqByF,GACnB,IAAMyE,EAAS,CACb,KAAQ,CAAC,EAAG,IACZ,KAAQ,CAAC,EAAG,IACZ,KAAQ,CAAC,EAAG,IACZ,KAAQ,CAAC,EAAG,KACZjM,KAAK8E,aAEDsL,EAAUpQ,KAAKuN,QACnBvN,KAAKmQ,cAAc3I,EAAKtI,EAAI,EAAGsI,EAAKrI,EAAIqI,EAAKjC,EAAI,IAGnD,OAAI,IAAM6K,GAAWA,EAAU,IAAY,EACvC,IAAMA,GAAWA,EAAU,IAAY,EACvC,IAAMA,GAAWA,EAAU,IAAY,EAEpCxP,MAAMC,KACX2G,EAAKvH,OACFvB,WAAW,MACXoC,aAAa0G,EAAKtI,EAAI+M,EAAO,GAAIzE,EAAKrI,EAAIqI,EAAKjC,EAAG,EAAG0G,EAAO,IAC5DlL,KAAKQ,QAAO,SAACU,EAAGF,GAAJ,OAAUA,EAAI,IAAM,MAElCO,KAAI,SAACD,GAAD,OAAQA,EAAI,GAAK,EAAI,KACzBqG,KAAK,IACLC,QAAQ,MAAO,KACfA,QAAQ,KAAM,IAAIzG,S,iCAGvB,SAAoBsF,GAClB,IAAMyE,EAAS,CACb,KAAQ,GACR,KAAQ,GACR,KAAQ,GACR,KAAQ,IACRjM,KAAK8E,aAEDuL,EAAarQ,KAAKuN,QACtBvN,KAAKmQ,cAAc3I,EAAKtI,EAAIsI,EAAKlC,EAAI,EAAGkC,EAAKrI,IAGzCmR,EAAatQ,KAAKuN,QACtBvN,KAAKmQ,cAAc3I,EAAKtI,EAAIsI,EAAKlC,EAAI,EAAGkC,EAAKrI,EAAI8M,IAGnD,QACGoE,EAAa,IAAMA,EAAa,IAChCC,EAAa,IAAMA,EAAa,M,0BAOrC,WACEtQ,KAAK2E,WAAWxE,MAAQ,GACxBH,KAAK2E,WAAWzE,OAAS,GA0CzB,IAxCA,IAAM+L,EAAS,CACb,KAAQ,CACNC,OAAQ,EACRC,OAAQ,EACRC,UAAW,IACXC,WAAY,IACZC,YAAa,IACbC,YAAa,KAEf,KAAQ,CACNL,OAAQ,EACRC,OAAQ,EACRC,UAAW,IACXC,WAAY,IACZC,YAAa,OACbC,YAAa,QAEf,KAAQ,CACNL,OAAQ,EACRC,OAAQ,EACRC,UAAW,IACXC,WAAY,IACZC,YAAa,IACbC,YAAa,KAEf,KAAQ,CACNL,OAAQ,EACRC,OAAQ,EACRC,UAAW,IACXC,WAAY,IACZC,YAAa,OACbC,YAAa,MAEfvM,KAAK8E,aAEHsC,EAAgB,GAChBlI,EAAI+M,EAAOC,OACX/M,EAAI8M,EAAOE,OACXM,EAAc,EAGhBtN,EAAI8M,EAAOI,WAAarM,KAAKC,OAAOC,QACpCuM,EAAczM,KAAK0E,WAAWxC,QAE1B/C,EAAI,MACNA,GAAK,IACLsN,KAEEvN,EAAIc,KAAKC,OAAOE,OAClBiH,EAAM1B,KAAK,CACTzF,OAAQD,KAAK0E,WAAW+H,GACxBC,IAAK,aACLxN,IACAC,IACAmG,EAAG2G,EAAOG,UACV7G,EAAG0G,EAAOI,aAEZnN,GAAK+M,EAAOK,cAEZnN,GAAK8M,EAAOM,YACZrN,EAAI+M,EAAOC,QAIX9E,EAAMlF,QAAU,GACI,CACpBkF,EAAM4G,MACN5G,EAAM4G,MACN5G,EAAM4G,MACN5G,EAAM4G,MACN5G,EAAM4G,OACNO,UAEY5K,SAAQ,SAAC6D,GAKrB,IAJA,IAAM+I,EAAQ/I,EAAKvH,OAChBvB,WAAW,MACXoC,aAAa0G,EAAKtI,EAAGsI,EAAKrI,EAAGqI,EAAKlC,EAAGkC,EAAKjC,GAC1CxE,KAAKQ,QAAO,SAACiP,EAAGzO,GAAJ,OAAUA,EAAI,IAAM,KAC1BA,EAAI,EAAGA,EAAIwO,EAAMrO,OAAQH,IAChC,GAAIwO,EAAMxO,GAAK,IAAK,CAClBqF,EAAM1B,KAAK8B,GACX,UAMR,OAAOJ,I,+BAGT,WACMpH,KAAK2M,wBACP3M,KAAKyJ,YAAL,8DAGFzJ,KAAKyJ,YAAc,KACnB,6E,mCAGF,WACE,IAAMT,EAAQ,CACZ,KAAQ,CAAE9J,EAAG,GAAIC,EAAG,KACpB,KAAQ,CAAED,EAAG,GAAIC,EAAG,KACpB,KAAQ,CAAED,EAAG,GAAIC,EAAG,KACpB,KAAQ,CAAED,EAAG,GAAIC,EAAG,MACpBa,KAAK8E,aASP,OAPA9E,KAAK2E,WACFjG,WAAW,MACXgC,UAAUV,KAAKnB,aAAa0B,QAASyI,EAAM9J,EAAG8J,EAAM7J,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACtDa,KAAK2E,WACrBjG,WAAW,MACXoC,aAAa,EAAG,EAAG,EAAG,GAAGC,KAEV,GAAK,O,GA3aYuD,GChBlBmM,E,kDACnB,WACEzN,EACAqG,GACC,IAAD,6BAoDA,cAAMrG,EAjDU,CACdgC,eAAgB,CACd,KAAQ,CAAE9F,EAAG,GAAIC,EAAG,IAAKmG,EAAG,IAAKC,EAAG,IAAKe,IAAK,IAAKS,aAAc,MACjE,KAAQ,CAAE7H,EAAG,GAAIC,EAAG,IAAKmG,EAAG,IAAKC,EAAG,IAAKe,IAAK,IAAKS,aAAc,KACjE,KAAQ,CAAE7H,EAAG,GAAIC,EAAG,IAAKmG,EAAG,IAAKC,EAAG,IAAKe,IAAK,GAAIS,aAAc,KAChE,KAAQ,CAAE7H,EAAG,GAAIC,EAAG,IAAKmG,EAAG,IAAKC,EAAG,IAAKe,IAAK,GAAIS,aAAc,MAGlE9B,aAAc,CACZ,KAAQ,CAAEK,EAAG,IAAKC,EAAG,KACrB,KAAQ,CAAED,EAAG,IAAKC,EAAG,KACrB,KAAQ,CAAED,EAAG,IAAKC,EAAG,KACrB,KAAQ,CAAED,EAAG,GAAIC,EAAG,KAGtBL,UAAW,CACT,KAAQ,CAAEhG,EAAG,IAAKqJ,GAAI,IAAKC,GAAI,MAC/B,KAAQ,CAAEtJ,EAAG,IAAKqJ,GAAI,IAAKC,GAAI,KAC/B,KAAQ,CAAEtJ,EAAG,IAAKqJ,GAAI,IAAKC,GAAI,KAC/B,KAAQ,CAAEtJ,EAAG,IAAKqJ,GAAI,IAAKC,GAAI,MAGjCrD,UAAW,CACT,KAAQ,CACN,CAAEjG,EAAG,KAAMC,EAAG,IAAKgK,MAAO,CAAC,IAAK,GAAI,KACpC,CAAEjK,EAAG,KAAMC,EAAG,IAAKgK,MAAO,CAAC,IAAK,GAAI,KACpC,CAAEjK,EAAG,KAAMC,EAAG,IAAKgK,MAAO,CAAC,GAAI,GAAI,KACnC,CAAEjK,EAAG,KAAMC,EAAG,IAAKgK,MAAO,CAAC,GAAI,GAAI,MAErC,KAAQ,CACN,CAAEjK,EAAG,IAAKC,EAAG,IAAKgK,MAAO,CAAC,IAAK,GAAI,KACnC,CAAEjK,EAAG,IAAKC,EAAG,IAAKgK,MAAO,CAAC,IAAK,GAAI,KACnC,CAAEjK,EAAG,IAAKC,EAAG,IAAKgK,MAAO,CAAC,GAAI,GAAI,KAClC,CAAEjK,EAAG,IAAKC,EAAG,IAAKgK,MAAO,CAAC,GAAI,GAAI,MAEpC,KAAQ,CACN,CAAEjK,EAAG,IAAKC,EAAG,IAAKgK,MAAO,CAAC,IAAK,GAAI,KACnC,CAAEjK,EAAG,IAAKC,EAAG,IAAKgK,MAAO,CAAC,IAAK,GAAI,KACnC,CAAEjK,EAAG,IAAKC,EAAG,IAAKgK,MAAO,CAAC,GAAI,GAAI,KAClC,CAAEjK,EAAG,IAAKC,EAAG,IAAKgK,MAAO,CAAC,GAAI,GAAI,MAEpC,KAAQ,CACN,CAAEjK,EAAG,IAAKC,EAAG,IAAKgK,MAAO,CAAC,IAAK,GAAI,KACnC,CAAEjK,EAAG,IAAKC,EAAG,IAAKgK,MAAO,CAAC,IAAK,GAAI,KACnC,CAAEjK,EAAG,IAAKC,EAAG,IAAKgK,MAAO,CAAC,GAAI,GAAI,KAClC,CAAEjK,EAAG,IAAKC,EAAG,IAAKgK,MAAO,CAAC,GAAI,GAAI,SA/ClB,iBAAgC,WAA1BE,QAyD9BI,iBA1DE,EAsDA,EAAKA,YAAc,KAtDnB,E,qDA4DF,WACMzJ,KAAK2M,wBACP3M,KAAKyJ,YAAL,8DAGFzJ,KAAKyJ,YAAc,KACnB,6E,mCAGF,WACE,IAAMT,EAAQ,CACZ,KAAQ,CAAE9J,EAAG,IAAKC,EAAG,KACrB,KAAQ,CAAED,EAAG,IAAKC,EAAG,KACrB,KAAQ,CAAED,EAAG,IAAKC,EAAG,KACrB,KAAQ,CAAED,EAAG,IAAKC,EAAG,MACrBa,KAAK8E,aASP,OAPA9E,KAAK2E,WACFjG,WAAW,MACXgC,UAAUV,KAAKnB,aAAa0B,QAASyI,EAAM9J,EAAG8J,EAAM7J,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACtDa,KAAK2E,WACrBjG,WAAW,MACXoC,aAAa,EAAG,EAAG,EAAG,GAAGC,KAEV,GAAK,O,GAxFSuD,GCAfoM,E,kDACnB,WACE1N,EACAqG,GACC,IAAD,6BA4DA,cAAMrG,EAzDU,CACdgC,eAAgB,CACd,KAAQ,CACN9F,EAAG,IACHC,EAAG,IACHmG,EAAG,KACHC,EAAG,IACHe,IAAK,GACLS,aAAc,MAEhB,KAAQ,CACN7H,EAAG,IACHC,EAAG,IACHmG,EAAG,IACHC,EAAG,IACHe,IAAK,GACLS,aAAc,KAEhB,KAAQ,CACN7H,EAAG,IACHC,EAAG,IACHmG,EAAG,IACHC,EAAG,IACHe,IAAK,GACLS,aAAc,KAEhB,KAAQ,CACN7H,EAAG,IACHC,EAAG,IACHmG,EAAG,IACHC,EAAG,IACHe,IAAK,GACLS,aAAc,MAIlB9B,aAAc,CACZ,KAAQ,CAAEK,EAAG,IAAKC,EAAG,KACrB,KAAQ,CAAED,EAAG,IAAKC,EAAG,KACrB,KAAQ,CAAED,EAAG,IAAKC,EAAG,KACrB,KAAQ,CAAED,EAAG,IAAKC,EAAG,KAGvBL,UAAW,CACT,KAAQ,CAAEhG,EAAG,KAAMqJ,GAAI,IAAKC,GAAI,MAChC,KAAQ,CAAEtJ,EAAG,KAAMqJ,GAAI,IAAKC,GAAI,KAChC,KAAQ,CAAEtJ,EAAG,KAAMqJ,GAAI,IAAKC,GAAI,KAChC,KAAQ,CAAEtJ,EAAG,IAAKqJ,GAAI,IAAKC,GAAI,MAGjCrD,UAAW,CACT,KAAQ,CAAC,CAAEjG,EAAG,IAAKC,EAAG,IAAKgK,MAAO,CAAC,IAAK,EAAG,MAC3C,KAAQ,CAAC,CAAEjK,EAAG,IAAKC,EAAG,IAAKgK,MAAO,CAAC,IAAK,EAAG,KAC3C,KAAQ,CAAC,CAAEjK,EAAG,IAAKC,EAAG,IAAKgK,MAAO,CAAC,IAAK,EAAG,MAC3C,KAAQ,CAAC,CAAEjK,EAAG,IAAKC,EAAG,IAAKgK,MAAO,CAAC,IAAK,EAAG,QAxDzB,iBAAgC,UAA1BE,QAiE9BI,iBAlEE,EA8DA,EAAKA,YAAc,KA9DnB,E,qDAoEF,WACOzJ,KAAK2Q,8BAIV3Q,KAAKyJ,YAAc,KACnB,2EAJEzJ,KAAKyJ,YAAL,iF,wCAOJ,WACE,IAAMT,EAAQ,CACZ,KAAQ,CAAE9J,EAAG,GAAIC,EAAG,KACpB,KAAQ,CAAED,EAAG,GAAIC,EAAG,KACpB,KAAQ,CAAED,EAAG,GAAIC,EAAG,KACpB,KAAQ,CAAED,EAAG,GAAIC,EAAG,MACpBa,KAAK8E,aASP,OAPA9E,KAAK2E,WACFjG,WAAW,MACXgC,UAAUV,KAAKnB,aAAa0B,QAASyI,EAAM9J,EAAG8J,EAAM7J,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACtDa,KAAK2E,WACrBjG,WAAW,MACXoC,aAAa,EAAG,EAAG,EAAG,GAAGC,KAEV,GAAK,O,GAhGQuD,G,QCLpB,mqFCAA,2mF,QC6DMsM,E,WAMnB,WAAYC,EAAgCzJ,GAAgB,yBAL5DyJ,uBAK2D,OAJ3D/D,eAI2D,OAH3DC,WAG2D,OAF3D+D,sBAE2D,EACzD9Q,KAAK6Q,kBAAoBA,EACzB7Q,KAAK8M,UAAY9M,KAAK+Q,eAAe3J,GACrCpH,KAAK8Q,iBAAmB9Q,KAAKgR,qBAAqBhR,KAAK8M,WACvD9M,KAAK+M,MAAQ/M,KAAKiR,UAAU7J,G,wDAG9B,SAAqB0F,GACnB,IAAM/L,EAAO+L,EAAU/L,KACvB,MAAO,CACL,EACA,GAFK,mBAGFA,EAAKmQ,SAAQ,SAAC7O,GAAD,OAAaA,EAAEqN,MAAQrN,EAAE8O,QAAU,QACnD/C,QAAO,SAACtL,EAAWnB,GAAZ,OAA0BmB,EAAInB,O,uBAGzC,SAAUyF,GACR,IAAI2F,EAAgB,GAEpB3F,EAAMzD,SAAQ,SAAC6D,GACK,oBAAdA,EAAK8C,MACPyC,EAAMrH,KAAK8B,MAIf,IAAM4J,EAAaxQ,MAAMC,KAAKb,KAAK6Q,kBAAkB9D,OAAcqB,QACjE,SAACiD,EAAWC,GAAZ,mBAAC,eACID,GADL,kBAEGC,EAAK,GAAK,CAAE7B,GAAI6B,EAAK,GAAI9G,KAAM8G,EAAK,GAAIC,MAAOD,EAAK,QAEvD,IAKF,OAFA9Q,QAAQ8M,IAAIP,GAEL,CACLyE,QAAS,CACP,CACEC,OAAQ,YACRC,SAAU,OACVC,KAAM,SAAC5Q,GAAD,OACJ,qBAAK6Q,MAAO,CAAEC,UAAW,QAAzB,SAAoC9Q,EAAK+Q,UAG7C,CACEL,OAAQ,WACRC,SAAU,QACVC,KAAM,SAAC5Q,GAAD,OACJ,sBAAK6Q,MAAO,CAAEC,UAAW,QAAzB,UACkB,YAAf9Q,EAAK+Q,OACJ,qBACEC,IAAKC,EACLC,IAAI,cACJC,MAAM,cACNC,UAAU,aAEX,IACFpR,EAAK+Q,YAKd/Q,KAAMgM,EAAMzK,KAAI,SAACkF,GAAD,OAAW4J,EAAmB5J,EAAKzG,KAAK,U,4BAW5D,SAAeqG,GACb,IAAMgL,EAAU,CACd,IAAO,CACLC,GAAI,IACJC,QAAS,IACTC,YAAa,GACbC,YAAa,KAEf,IAAO,CACLH,GAAI,KACJC,QAAS,IACTC,YAAa,IACbC,YAAa,KAEf,IAAO,CACLH,GAAI,KACJC,QAAS,KACTC,YAAa,IACbC,YAAa,MAEf,IAAO,CACLH,GAAI,KACJC,QAAS,KACTC,YAAa,IACbC,YAAa,MAEf,IAAO,CACLH,GAAI,KACJC,QAAS,KACTC,YAAa,KACbC,YAAa,OAIXC,EAAazS,KAAK6Q,kBAAkB/D,UAA4BxK,KACpE,SAACoQ,GAAD,OAAwBA,EAAM,MAG1B3R,EAAQf,KAAK6Q,kBAAkB/D,UAA4BxK,KAC/D,SAACoQ,GAAD,MAAyB,CACvBjD,GAAIiD,EAAM,GACVlI,KAAMkI,EAAM,GACZhD,OAAO,EACPC,QAAS,EACTgD,YAAY,EACZC,OAAQ,EACRC,MAAO,EACPC,OAAQ,EACRC,OAAQ,EACRC,cAAe,EACf7B,QAASiB,EAAQM,EAAM,IAAmCL,GAC1DY,QAASP,EAAM,GACfQ,SAAUd,EAAQM,EAAM,IAAmCJ,QAC3DC,YACEH,EAAQM,EAAM,IAAmCH,YACnDC,YACEJ,EAAQM,EAAM,IAAmCF,gBAqOvD,OAjOApL,EAAMzD,SAAQ,SAAC6D,GACb,IAAM2L,EAAQV,EAAUpR,QAAQmG,EAAKgD,KAAK7B,QAAQ,OAAQ,MAC3C,IAAXwK,IACgB,WAAd3L,EAAK8C,OAAmBvJ,EAAKoS,GAAOL,OAAStL,EAAK+C,OACpC,WAAd/C,EAAK8C,OAAmBvJ,EAAKoS,GAAOJ,OAASvL,EAAK+C,OACpC,YAAd/C,EAAK8C,OAAoBvJ,EAAKoS,GAAOH,cAAgBxL,EAAK+C,OAEtC,qBAAb/C,EAAKkF,KAAoC,cAAblF,EAAKkF,MACxB,UAAdlF,EAAK8C,OAAkBvJ,EAAKoS,GAAOP,OAASpL,EAAK+C,OACnC,cAAd/C,EAAK8C,OAAsBvJ,EAAKoS,GAAON,MAAQrL,EAAK+C,QAExC,wBAAd/C,EAAK8C,OACPvJ,EAAKoS,GAAOzD,MAAQlI,EAAKzG,KAAK2O,MAC9B3O,EAAKoS,GAAOxD,QAAUnI,EAAKzG,KAAK4O,QAChC5O,EAAKoS,GAAOR,WAAanL,EAAKzG,KAAK6O,oBAmNlC,CAAE4B,QA9MO,CAcd,CACEC,OACE,6DAEE,uBAFF,yBAMFC,SAAU,OACVC,KAAM,SAAC5Q,GACL,IAAMqS,EAAMrS,EAAKqS,IAAIC,SACrB,MAAO,CACLD,EAAI1D,MACF,+BACE,iCAAS0D,EAAI5I,SAGf,+BAAO4I,EAAI5I,OAEb4I,EAAIzD,QAAU,EACZ,qBACEoC,IACE,CACE,GChQL,igDCAA,iyDCAA,6oECAA,6hFCAA,i6FCAA,yyGCAA,0vGPwQKqB,EAAIzD,SAERsC,IAAG,yBAAoBmB,EAAIzD,SAC3BuC,MAAK,yBAAoBkB,EAAIzD,WAG/B,GAEFyD,EAAIT,WAAa,EACf,qBAAKZ,IQjRJ,qgDRiRgBE,IAAI,kBAAkBC,MAAM,oBAE7C,MA8BR,CACET,OAAQ,SACRC,SAAU,UAEZ,CACED,OAAQ,aACRC,SAAU,SAEZ,CACED,OACE,6CAEE,uBAFF,YAMFC,SAAU,UAEZ,CACED,OACE,6CAEE,uBAFF,YAMFC,SAAU,UAEZ,CACED,OACE,+CAEE,uBAFF,YAMFC,SAAU,iBAEZ,CACED,OAAQ,cACRE,KAAM,SAAC5Q,GACL,IAAMqS,EAAMrS,EAAKqS,IAAIC,SACrB,MAAO,CACLD,EAAIjC,QACJ,qBACEY,IAAKuB,EACLrB,IAAI,eACJC,MAAM,eACNC,UAAU,aAEZ,IACAiB,EAAIH,QACJ,qBACElB,IAAKC,EACLC,IAAI,cACJC,MAAM,cACNC,UAAU,gBAKlB,CACEV,OACE,+CAEE,uBAFF,WAMFC,SAAU,WACVC,KAAM,SAAC5Q,GAAD,MAAe,CACnBA,EAAK+Q,MACL,qBACEC,IAAKuB,EACLrB,IAAI,eACJC,MAAM,eACNC,UAAU,gBAIhB,CACEV,OACE,iDAEE,uBAFF,WAMFC,SAAU,cACVC,KAAM,SAAC5Q,GAAD,MAAe,CACnBA,EAAK+Q,MACL,qBACEC,IAAKuB,EACLrB,IAAI,eACJC,MAAM,eACNC,UAAU,gBAIhB,CACEV,OACE,iDAEE,uBAFF,eAMFC,SAAU,cACVC,KAAM,SAAC5Q,GAAD,MAAe,CACnBA,EAAK+Q,MACL,qBACEC,IAAKuB,EACLrB,IAAI,eACJC,MAAM,eACNC,UAAU,iBAMApR,U,wBAGpB,c,wBAEA,c,yBAEA,c,wBAEA,c,0BAEA,gB,kDSzYIyC,EAAmB,CACvB3E,aAAcC,IAAMC,YACpB+C,WAAY,EACZmC,YAAa,EACb8I,MAAO,KACPwG,KAAM,KACNzG,UAAW,KACX0G,OAAQ,KACRC,MAAO,KAEP1S,KAVuB,WAWrB,IAAIqG,EAAa,GAE2B,qBAAjC5D,EAAQ+P,KAAK/J,iBACtBpC,EAAM1B,KAAKlC,EAAQ+P,KAAK/J,iBACuB,qBAAtChG,EAAQsJ,UAAUtD,iBAC3BpC,EAAM1B,KAAKlC,EAAQsJ,UAAUtD,iBACc,qBAAlChG,EAAQuJ,MAAMvD,iBACvBpC,EAAM1B,KAAKlC,EAAQuJ,MAAMvD,iBAE3BpC,EAAQA,EACL8J,SAAQ,SAAC7O,GAAD,OAAYA,KACpBd,QAAO,SAACc,GAAD,MAA8B,qBAAXA,EAAEmI,QAE/B,IAAMzJ,EAAO,IAAI6P,EAAKpN,EAAQ+P,KAAKjK,YAAalC,GAChD,OAAOrG,GAGT2S,UA5BuB,SA4BbC,GACM,CACZ,CAAC,QAASnQ,EAAQuJ,OAClB,CAAC,OAAQvJ,EAAQ+P,MACjB,CAAC,YAAa/P,EAAQsJ,WACtB,CAAC,SAAUtJ,EAAQgQ,QACnB,CAAC,QAAShQ,EAAQiQ,QAGd9P,SAAQ,YAAuB,IAAD,6BAC7B+P,eAGiB,oBAAbC,GACTA,KAIEC,SA9CiB,SA8CRD,GAAY,IAAD,yIAClBE,EAAM,IAAIC,IACF,CACZ,CAAC,QAAStQ,EAAQuJ,OAClB,CAAC,OAAQvJ,EAAQ+P,MACjB,CAAC,YAAa/P,EAAQsJ,WACtB,CAAC,SAAUtJ,EAAQgQ,QACnB,CAAC,QAAShQ,EAAQiQ,QAGd9P,SAAQ,YAAuB,IAAD,mBAApBoQ,EAAoB,KAAVC,EAAU,KAClCA,EAAKN,YACLM,EAAKC,iBAELD,EAAKtP,WAAWf,SAAQ,SAAC1D,EAA2B8B,GAClD,KAAI9B,EAAOC,OAAS,KAApB,CACA,IAAMiT,EAAQa,EAAKtP,WAAWxC,OAAS,EAAzB,WAAiCH,GAAM,GACrD8R,EAAIK,KAAJ,UACKH,EADL,sBAC2BZ,EAD3B,QAEElT,EAAOkU,YAAYC,MAAM,WAAW,GACpC,CACEC,QAAQ,QAKdL,EAAKvP,cAAcd,SAAQ,SAAC1D,EAA2B8B,GACrD,KAAI9B,EAAOC,OAAS,KAApB,CACA,IAAMiT,EAAQa,EAAKtP,WAAWxC,OAAS,EAAzB,WAAiCH,GAAM,GACrD8R,EAAIK,KAAJ,UACKH,EADL,qBAC0BZ,EAD1B,QAEElT,EAAOkU,YAAYC,MAAM,WAAW,GACpC,CACEC,QAAQ,WAjCQ,EAiEK,EAAKtT,OAA1BgM,EAjEgB,EAiEhBA,MAAOD,EAjES,EAiETA,UAETwH,EAAgB,IAAIC,IAAMzH,EAAU/L,MACpCyT,EAAY,IAAID,IAAMxH,EAAMhM,MApEV,KAqExB8S,EArEwB,SAqEQS,EAAcpQ,WArEtB,+BAqEpBgQ,KArEoB,qCAsExBL,EAtEwB,UAsEIW,EAAUtQ,WAtEd,yBAsEpBgQ,KAtEoB,4BAwExBL,EAAIY,cAAc,CAAEnK,KAAM,SAAUlH,MAAK,SAAUsR,GACjDC,iBAAOD,EAAS,uBAzEM,+CA6E1BE,YA3HuB,WA4HrB,OAAOvW,EAAiB2C,iBAAiBwC,EAAQ3E,eAGnDgW,cA/HuB,WAgIrBrU,QAAQ8M,IAAI,oBACZtN,KAAK+M,MAAQ,IAAI3D,EAAMpJ,KAAKnB,aAAc2E,EAAQoR,aAClD5U,KAAKuT,KAAO,IAAI3G,EAAK5M,KAAKnB,aAAc2E,EAAQoR,aAChD5U,KAAK8M,UAAY,IAAIuC,EAAUrP,KAAKnB,aAAc2E,EAAQoR,aAC1D5U,KAAKwT,OAAS,IAAI/C,EAAOzQ,KAAKnB,aAAc2E,EAAQoR,aACpD5U,KAAKyT,MAAQ,IAAI/C,EAAM1Q,KAAKnB,aAAc2E,EAAQoR,cAG9ChS,aAxIiB,SAwIJC,GAAY,OAAD,oGAC5BH,EAAmBE,aAAaC,GADJ,+CAKjBW,ICxJAsR,G,OA9BiC,SAAC,GAA2B,IAAD,IAAxBC,iBAAwB,SACnE7C,EAAQ,eAAevJ,QAAQ,KAAM,QACrCqM,EAAY,4BAA4BrM,QAAQ,KAAM,QACtDsM,EAAY,wBAAwBtM,QAAQ,KAAM,QAExD,OACE,sBAAKwJ,UAAU,OAAf,UACE,qBAAKA,UAAU,QAAf,SACGD,EAAMkC,MAAM,IAAI9R,KAAI,SAAC6H,EAAGpI,GAAJ,OACnB,+BAAeoI,GAAJpI,SAGbgT,GACA,qCACE,qBAAK5C,UAAU,WAAf,SACG6C,EAAUZ,MAAM,IAAI9R,KAAI,SAAC6H,EAAGpI,GAAJ,OACvB,+BAAeoI,GAAJpI,QAGf,qBAAKoQ,UAAU,WAAf,SACG8C,EAAUb,MAAM,IAAI9R,KAAI,SAAC6H,EAAGpI,GAAJ,OACvB,+BAAeoI,GAAJpI,gBCgIVmT,G,OArJM,WACnB,IAAMzB,EAAQ,CACZ0B,OACE,sBACEhD,UAAU,SACVhS,MAAM,MACND,OAAO,MACPkV,QAAQ,cACR9N,KAAK,OACL+N,MAAM,6BANR,UAQE,mBAAGlD,UAAU,QAAb,SACE,sBACEmD,EAAE,iCACFzJ,OAAO,UACP0J,YAAY,UACZC,cAAc,YAGlB,sBACEtW,EAAE,UACFC,EAAE,UACFgB,MAAM,SACND,OAAO,UACPuV,GAAG,UACHC,UAAU,8BACV7J,OAAO,UACP0J,YAAY,eAIlBI,MACE,sBACExD,UAAU,QACVhS,MAAM,MACND,OAAO,MACPkV,QAAQ,cACR9N,KAAK,OACL+N,MAAM,6BANR,UAQE,oBAAGlD,UAAU,QAAb,UACE,sBACEmD,EAAE,kCACFzJ,OAAO,UACP0J,YAAY,UACZC,cAAc,QACdI,eAAe,UAEjB,sBACEN,EAAE,mCACFzJ,OAAO,UACP0J,YAAY,UACZC,cAAc,aAGlB,sBACEF,EAAE,mDACFzJ,OAAO,UACP0J,YAAY,UACZC,cAAc,QACdI,eAAe,UAEjB,sBACEN,EAAE,2BACFzJ,OAAO,UACP0J,YAAY,UACZC,cAAc,UAEhB,sBACEtW,EAAE,UACFC,EAAE,UACFgB,MAAM,UACND,OAAO,UACP2L,OAAO,UACP0J,YAAY,eAIlB3B,SACE,sBACEzB,UAAU,WACVhS,MAAM,MACND,OAAO,MACPkV,QAAQ,cACR9N,KAAK,OACL+N,MAAM,6BANR,UAQE,oBAAGlD,UAAU,QAAb,UACE,sBACEmD,EAAE,iDACFzJ,OAAO,UACP0J,YAAY,UACZC,cAAc,QACdI,eAAe,UAEjB,sBACEN,EAAE,2BACFzJ,OAAO,UACP0J,YAAY,UACZC,cAAc,aAGlB,sBACEF,EAAE,0CACFzJ,OAAO,UACP0J,YAAY,UACZC,cAAc,QACdI,eAAe,UAEjB,sBACEN,EAAE,wEACFzJ,OAAO,UACP0J,YAAY,UACZC,cAAc,QACdI,eAAe,cAKvB,OACE,sBAAKzD,UAAU,gBAAf,UACE,sBAAKA,UAAU,QAAf,UACE,qBAAKA,UAAU,OAAf,SAAuBsB,EAAMkC,QAC7B,sBAAKxD,UAAU,OAAf,yBAEE,uBAFF,oBAMF,sBAAKA,UAAU,QAAf,UACE,qBAAKA,UAAU,OAAf,SAAuBsB,EAAM0B,SAC7B,sBAAKhD,UAAU,OAAf,2BAEE,uBAFF,yBAMF,sBAAKA,UAAU,QAAf,UACE,qBAAKA,UAAU,OAAf,SAAuBsB,EAAMG,WAC7B,sBAAKzB,UAAU,OAAf,wBAEE,uBAFF,8BC1GO0D,G,OAzBK,SAACC,GAOnB,OACE,sBAAK3D,UAAW,gBAAkB2D,EAAMC,KAAO,QAAU,IAAzD,UACE,cAAC,EAAD,IACA,cAAC,EAAD,IAC4D,oBAAnDtT,UAAUD,aAAqBO,gBACtC,qBAAKoP,UAAU,eAAe6D,QAXhB,WAClBxS,EAAQZ,cAAa,WACnBkT,EAAMG,QAAQ,eASZ,sCAIA,qBAAK9D,UAAU,cAAf,oICoYO+D,G,cA5ZM,WACnB,IAAMzC,EAAQ,CACZ0C,YACE,sBACEhW,MAAM,MACND,OAAO,MACPkV,QAAQ,cACR9N,KAAK,OACL+N,MAAM,6BALR,UAOE,sBACEnW,EAAE,MACFC,EAAE,MACFgB,MAAM,MACND,OAAO,MACP2L,OAAO,QACP0J,YAAY,IACZC,cAAc,QACdI,eAAe,UAEjB,sBACEN,EAAE,kBACFzJ,OAAO,QACP0J,YAAY,IACZC,cAAc,QACdI,eAAe,UAEjB,sBACE1W,EAAE,OACFC,EAAE,OACFgB,MAAM,KACND,OAAO,KACP2L,OAAO,QACP0J,YAAY,IACZC,cAAc,QACdI,eAAe,UAEjB,sBACE1W,EAAE,OACFC,EAAE,OACFgB,MAAM,KACND,OAAO,KACP2L,OAAO,QACP0J,YAAY,IACZC,cAAc,QACdI,eAAe,UAEjB,sBACE1W,EAAE,OACFC,EAAE,QACFgB,MAAM,KACND,OAAO,KACP2L,OAAO,QACP0J,YAAY,IACZC,cAAc,QACdI,eAAe,UAEjB,sBACE1W,EAAE,OACFC,EAAE,QACFgB,MAAM,KACND,OAAO,KACP2L,OAAO,QACP0J,YAAY,IACZC,cAAc,QACdI,eAAe,UAEjB,sBACE1W,EAAE,OACFC,EAAE,QACFgB,MAAM,KACND,OAAO,KACP2L,OAAO,QACP0J,YAAY,IACZC,cAAc,QACdI,eAAe,UAEjB,sBACEN,EAAE,qBACFzJ,OAAO,QACP0J,YAAY,IACZC,cAAc,QACdI,eAAe,UAEjB,sBACE1W,EAAE,OACFC,EAAE,OACFgB,MAAM,KACND,OAAO,KACP2L,OAAO,QACP0J,YAAY,IACZC,cAAc,QACdI,eAAe,UAEjB,sBACE1W,EAAE,OACFC,EAAE,OACFgB,MAAM,KACND,OAAO,KACP2L,OAAO,QACP0J,YAAY,IACZC,cAAc,QACdI,eAAe,UAEjB,sBACE1W,EAAE,OACFC,EAAE,QACFgB,MAAM,KACND,OAAO,KACP2L,OAAO,QACP0J,YAAY,IACZC,cAAc,QACdI,eAAe,UAEjB,sBACE1W,EAAE,OACFC,EAAE,QACFgB,MAAM,KACND,OAAO,KACP2L,OAAO,UACP0J,YAAY,IACZC,cAAc,QACdI,eAAe,UAEjB,sBACE1W,EAAE,OACFC,EAAE,QACFgB,MAAM,KACND,OAAO,KACP2L,OAAO,QACP0J,YAAY,IACZC,cAAc,QACdI,eAAe,UAEjB,sBACEN,EAAE,sBACFzJ,OAAO,QACP0J,YAAY,IACZC,cAAc,QACdI,eAAe,UAEjB,sBACE1W,EAAE,OACFC,EAAE,OACFgB,MAAM,KACND,OAAO,KACP2L,OAAO,UACP0J,YAAY,IACZC,cAAc,QACdI,eAAe,UAEjB,sBACE1W,EAAE,OACFC,EAAE,OACFgB,MAAM,KACND,OAAO,KACP2L,OAAO,QACP0J,YAAY,IACZC,cAAc,QACdI,eAAe,UAEjB,sBACE1W,EAAE,OACFC,EAAE,QACFgB,MAAM,KACND,OAAO,KACP2L,OAAO,QACP0J,YAAY,IACZC,cAAc,QACdI,eAAe,UAEjB,sBACE1W,EAAE,OACFC,EAAE,QACFgB,MAAM,KACND,OAAO,KACP2L,OAAO,QACP0J,YAAY,IACZC,cAAc,QACdI,eAAe,UAEjB,sBACE1W,EAAE,OACFC,EAAE,QACFgB,MAAM,KACND,OAAO,KACP2L,OAAO,QACP0J,YAAY,IACZC,cAAc,QACdI,eAAe,UAEjB,sBACEN,EAAE,qBACFzJ,OAAO,QACP0J,YAAY,IACZC,cAAc,QACdI,eAAe,UAEjB,sBACE1W,EAAE,QACFC,EAAE,OACFgB,MAAM,KACND,OAAO,KACP2L,OAAO,QACP0J,YAAY,IACZC,cAAc,QACdI,eAAe,UAEjB,sBACE1W,EAAE,QACFC,EAAE,OACFgB,MAAM,KACND,OAAO,KACP2L,OAAO,QACP0J,YAAY,IACZC,cAAc,QACdI,eAAe,UAEjB,sBACE1W,EAAE,QACFC,EAAE,QACFgB,MAAM,KACND,OAAO,KACP2L,OAAO,UACP0J,YAAY,IACZC,cAAc,QACdI,eAAe,UAEjB,sBACE1W,EAAE,QACFC,EAAE,QACFgB,MAAM,KACND,OAAO,KACP2L,OAAO,QACP0J,YAAY,IACZC,cAAc,QACdI,eAAe,UAEjB,sBACE1W,EAAE,QACFC,EAAE,QACFgB,MAAM,KACND,OAAO,KACP2L,OAAO,QACP0J,YAAY,IACZC,cAAc,QACdI,eAAe,UAEjB,sBACEN,EAAE,uBACFzJ,OAAO,QACP0J,YAAY,IACZC,cAAc,QACdI,eAAe,UAEjB,sBACEN,EAAE,+BACFzJ,OAAO,QACP0J,YAAY,IACZC,cAAc,QACdI,eAAe,UAEjB,wBACEQ,GAAG,MACHC,GAAG,KACH5U,EAAE,OACFoK,OAAO,QACP0J,YAAY,IACZC,cAAc,QACdI,eAAe,UAEjB,sBACE1W,EAAE,MACFC,EAAE,MACFgB,MAAM,KACND,OAAO,KACP2L,OAAO,UACP0J,YAAY,MAEd,sBACErW,EAAE,MACFC,EAAE,KACFgB,MAAM,MACND,OAAO,KACP2L,OAAO,UACP0J,YAAY,MAEd,sBACED,EAAE,qBACFzJ,OAAO,UACP0J,YAAY,IACZC,cAAc,UAEhB,sBACEF,EAAE,yBACFzJ,OAAO,UACP0J,YAAY,IACZC,cAAc,UAEhB,sBACEF,EAAE,wBACFzJ,OAAO,UACP0J,YAAY,IACZC,cAAc,UAEhB,sBACEF,EAAE,mBACFzJ,OAAO,UACP0J,YAAY,IACZC,cAAc,UAEhB,sBACEF,EAAE,kBACFzJ,OAAO,UACP0J,YAAY,IACZC,cAAc,aAIpBc,aACE,sBACEnW,MAAM,MACND,OAAO,MACPkV,QAAQ,cACR9N,KAAK,OACL+N,MAAM,6BALR,UAOE,sBACEnW,EAAE,UACFC,EAAE,SACFgB,MAAM,UACND,OAAO,UACP2L,OAAO,UACP0J,YAAY,UACZC,cAAc,QACdI,eAAe,UAEjB,sBACEN,EAAE,mDACFzJ,OAAO,UACP0J,YAAY,UACZC,cAAc,QACdI,eAAe,UAEjB,wBACEQ,GAAG,UACHC,GAAG,UACH5U,EAAE,SACFoK,OAAO,UACP0J,YAAY,UACZC,cAAc,QACdI,eAAe,UAEjB,sBACE1W,EAAE,MACFC,EAAE,MACFgB,MAAM,MACND,OAAO,MACP2L,OAAO,QACP0J,YAAY,IACZC,cAAc,QACdI,eAAe,UAEjB,sBACEN,EAAE,iBACFzJ,OAAO,QACP0J,YAAY,IACZC,cAAc,UAEhB,sBACEF,EAAE,kBACFzJ,OAAO,QACP0J,YAAY,IACZC,cAAc,UAEhB,sBACEF,EAAE,gBACFzJ,OAAO,QACP0J,YAAY,IACZC,cAAc,UAEhB,sBACEF,EAAE,mBACFzJ,OAAO,QACP0J,YAAY,IACZC,cAAc,cAKtB,OACE,sBAAKrD,UAAU,gBAAf,UACE,sBAAKA,UAAU,QAAf,UACE,qBAAKA,UAAU,OAAf,SAAuBsB,EAAM0C,cAC7B,sBAAKhE,UAAU,OAAf,0CAEE,uBAFF,oCAMF,sBAAKA,UAAU,QAAf,UACE,qBAAKA,UAAU,OAAf,SAAuBsB,EAAM6C,eAC7B,sBAAKnE,UAAU,OAAf,2CAEE,uBAFF,uCCvYOoE,G,OAVG,WAA2D,IAA1DT,EAAyD,uDAAxB,CAAEU,WAAW,GAC/D,OACE,8BACE,oBAAIrE,UAAW,eAAiB2D,EAAMU,UAAY,aAAe,IAAjE,8BCuBSC,EAlBK,SAACX,GACnB,OACE,sBAAK3D,UAAW,gBAAkB2D,EAAMC,KAAO,QAAU,IAAzD,UACE,cAAC,EAAD,CAAWS,WAAW,IACtB,cAAC,EAAD,IACA,qBACErE,UAAU,gBACV6D,QAAS,WACPF,EAAMG,QAAQ,UACdzS,EAAQqR,iBAJZ,gCCqBS6B,G,OA5BA,SAACZ,GACd,OACE,sBAAK3D,UAAU,SAAf,UACG2D,EAAMa,QAAU,qBAAKxE,UAAU,WAChC,sBAAKA,UAAU,OAAf,UACE,qBAAKA,UAAU,OAAf,SAAuB2D,EAAMtL,OAC7B,qBAAK2H,UAAU,SAAf,SAAyB2D,EAAMzQ,QAAU,UAE3C,qBAAK8M,UAAU,MAAf,SACE,qBACEA,UAAU,SACVP,MAAO,CACL8D,UACE,iBAAUhH,SAASoH,EAAMzQ,OAAOsD,QAAQ,IAAK,KAAO,IAApD,cAKPmN,EAAMc,SACL,qCACE,qBAAKzE,UAAU,UAAf,SAA0B2D,EAAMc,UAChC,qBAAKzE,UAAU,gBAAf,uBCsGK0E,G,OAxHI,SAACf,GAClB,IAAMgB,EAAkB,WACtB,IAAMC,EAA+B,GAqBrC,MApBA,CACE,OACA,YACA,QACA,SACA,QACA,QACA,WACApT,SAAQ,SAAC2G,GAC6B,qBAA1B9G,EAAgB8G,KAC1ByM,EAAOzM,GAAQ,CACbjF,OAAS7B,EAAgB8G,GAAM0M,WAC/BC,SAAUzT,EAAQoR,gBAAkBtK,EACpCb,YACgD,qBAAtCjG,EAAgB8G,GAAMb,YACzBjG,EAAgB8G,GAAMb,YACvB,UAILsN,GAGT,EAAoCG,mBAASJ,KAA7C,mBAAOK,EAAP,KAAmBC,EAAnB,KACMC,EAAavY,IAAMwY,SAEnBC,EAAwB,SAAxBA,IACJH,EAAcN,KACdO,EAAW9W,QAAUiX,sBAAsBD,IAQ7C,OALAE,qBAAU,WAER,OADAJ,EAAW9W,QAAUiX,sBAAsBD,GACpC,kBAAMG,qBAAqBL,EAAW9W,YAC5C,IAGD,sBAAK4R,UAAW,eAAiB2D,EAAMC,KAAO,QAAU,IAAxD,UACE,cAAC,EAAD,CAAWS,WAAW,IACtB,sBAAKrE,UAAU,MAAf,UACE,sBAAKA,UAAU,UAAf,UACG,CACC,OACA,aACA,YACA,QACA,SACA,QACA,QACA,WACA7P,KAAI,SAACgI,GACL,MAAa,eAATA,EAEA,qBAAoB6H,UAAU,WAA9B,wBAAS,YAI4B,qBAA7BgF,EAAmB7M,GAE3B,cAAC,EAAD,CAEEE,KAAMF,EACNjF,OAAQ8R,EAAW7M,GAAMjF,OACzBsR,OAAQQ,EAAW7M,GAAM2M,SACzBL,QAASO,EAAW7M,GAAMb,aAJrBa,GAOJ,MAET,qBACE6H,UACE,mBAG2D,IAF1DhR,OAAOwW,OAAOR,GACZ7U,KAAI,SAACD,GAAD,OAAYA,EAAEgD,UAClB+I,QAAO,SAACwJ,EAAQxI,GAAT,OAAoBwI,GAAW,WAANxI,KAAiB,GAChD,QACA,IAEN4G,QAAS,kBAAMF,EAAMG,QAAQ,SAT/B,gCAcF,sBAAK9D,UAAU,eAAf,UACE,oBAAIP,MAAO,CAAEiG,UAAW,GAAxB,2BACA,2FAEE,uBAFF,oCAKA,+BACE,mDACA,wFACA,8FAEF,uCACA,+BACE,gGAGA,+GAIA,wPCtFGC,G,OAvBE,SAAChC,GAShB,OARA2B,qBAAU,WACRzR,YAAW,WACTxC,EAAQkQ,WAAU,WAChBoC,EAAMG,QAAQ,aAEf,OACF,IAGD,sBAAK9D,UAAW,aAAe2D,EAAMC,KAAO,QAAU,IAAtD,UACE,cAAC,EAAD,CAAWS,WAAW,IACtB,sBAAKrE,UAAU,cAAf,UACE,4CACA,mH,kBCsEO4F,EAnFE,SAACjC,GAChB,IAAMkC,EAAYC,mBAAQ,kBAAMzU,EAAQzC,SAAQ,IAChDP,QAAQ8M,IAAI0K,EAAUjL,OAEtB,IAAMmL,EAAQ,SAAC,GAAoD,IAAlD1G,EAAiD,EAAjDA,QAASzQ,EAAwC,EAAxCA,KAExB,EACEoX,mBAAS,CACP3G,UACAzQ,SAHIqX,EAAR,EAAQA,cAAeC,EAAvB,EAAuBA,kBAAmBC,EAA1C,EAA0CA,aAAcC,EAAxD,EAAwDA,KAAMC,EAA9D,EAA8DA,WAO9D,OACE,kDAAWJ,KAAX,cACE,gCACGE,EAAahW,KAAI,SAACmW,GAAD,OAChB,8CAAQA,EAAYC,uBAApB,aACGD,EAAYE,QAAQrW,KAAI,SAACsW,GAAD,OACvB,8CAAQA,EAAOC,kBAAf,aAAkCD,EAAOE,OAAO,wBAKxD,iDAAWT,KAAX,aACGE,EAAKjW,KAAI,SAAC8Q,EAAKrR,GAEd,OADAyW,EAAWpF,GAET,8CAAyBA,EAAI2F,eAA7B,aACG3F,EAAI4F,MAAM1W,KAAI,SAAC2W,GACd,OACE,8CAAQA,EAAKC,gBAAb,aAA8BD,EAAKH,OAAO,gBAHhD,cAAgB/W,eAc5B,OACE,qBAAK6P,MAAO,CAAEuH,OAAQ,SAAUhZ,MAAO,KAAM0R,UAAW,UAAxD,SACE,sBAAKM,UAAW,aAAe2D,EAAMC,KAAO,QAAU,IAAtD,UACE,cAAC,EAAD,CAAMhB,WAAW,IAKjB,wBACEnD,MAAO,CACL3O,OAAQ,UACRkW,OAAQ,cACRC,WAAY,UACZC,OAAQ,OACRlQ,MAAO,OACPmQ,QAAS,YACTC,SAAU,OACVC,aAAc,QAEhBxD,QAAS,WACPxS,EAAQoQ,YAZZ,oDAiBA,cAACsE,EAAD,CACE1G,QAASwG,EAAUlL,UAAU0E,QAC7BzQ,KAAMiX,EAAUlL,UAAU/L,OAE5B,uBACCiX,EAAUjL,MAAMhM,KAAKmB,OAAS,GAC7B,cAACgW,EAAD,CACE1G,QAASwG,EAAUjL,MAAMyE,QACzBzQ,KAAMiX,EAAUjL,MAAMhM,a,OCnCnB0Y,MA1Cf,WACE,MAAgCvC,oBAAS,GAAzC,mBAAOwC,EAAP,KAAiBC,EAAjB,KACA,EAAgCzC,mBAAS,WAAzC,mBAAO0C,EAAP,KAAiBC,EAAjB,KAEArW,EAAQ3E,aAAeyY,iBAAyB,MAEhD,IAAMrB,EAAU,SAACjC,EAAcL,IACZ,IAAb+F,IACFC,GAAY,GACZ3T,YAAW,WACc,mBAAZ2N,GAAwBA,IACnCgG,GAAY,GACZE,EAAY7F,KACX,OAIP,OACE,qCACgB,YAAb4F,GACC,cAAC,EAAD,CAAa7D,KAAM2D,EAAUzD,QAASA,IAG1B,YAAb2D,GACC,cAAC,EAAD,CAAa7D,KAAM2D,EAAUzD,QAASA,IAG1B,WAAb2D,GACC,cAAC,EAAD,CAAY7D,KAAM2D,EAAUzD,QAASA,IAGzB,SAAb2D,GAAuB,cAAC,EAAD,CAAU7D,KAAM2D,EAAUzD,QAASA,IAE7C,SAAb2D,GAAuB,cAAC,EAAD,CAAU7D,KAAM2D,EAAUzD,QAASA,IAE3D,qBAAK9D,UAAU,QAAQP,MAAO,CAAEkI,QAAS,QAAzC,SACE,uBAAOC,IAAKvW,EAAQ3E,qBC/Bbmb,EAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,8BAAqB9W,MAAK,YAAkD,IAA/C+W,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCHdO,IAAS1B,OACP,cAAC,IAAM2B,WAAP,UACE,cAAC,EAAD,MAEFjc,SAASkc,eAAe,SAM1BV,M","file":"static/js/main.59e65506.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\ntype Point = { x: number; y: number };\r\n\r\ntype InterfaceData = {\r\n  [x: string]: {\r\n    edgeSearch: Point;\r\n    storePixelOffset: Point;\r\n    menuItemGaps: number;\r\n    profileIconOffset: Point;\r\n    collection: { x: number[]; y: number };\r\n  };\r\n};\r\n\r\ntype searchPoint = [string, number, number, [number, number, number]];\r\n\r\ninterface InterfaceManager {\r\n  initiated: boolean;\r\n  pixelCanvas: CanvasRenderingContext2D;\r\n  edgeSearch: CanvasRenderingContext2D;\r\n  searchCoordinates: { [interfaceName: string]: searchPoint[] } | false;\r\n  videoElement: React.RefObject<HTMLVideoElement>;\r\n  currentUi: string;\r\n  collectionLabels: string[];\r\n  interfaceData: InterfaceData;\r\n  init(videoElement: React.RefObject<HTMLVideoElement>): void;\r\n  storePixel: Point | false;\r\n  findStorePixel: () => Point | false;\r\n  generateSearchCoordinates: () =>\r\n    | { [interfaceName: string]: searchPoint[] }\r\n    | false;\r\n  getPixelDataFromVideo: (\r\n    x: number,\r\n    y: number\r\n  ) => [number, number, number] | false;\r\n  currentInterface(\r\n    videoElement: React.RefObject<HTMLVideoElement>\r\n  ): string | false;\r\n  lastCurrentInterfaceComputeTime: number;\r\n  // [x: string]: any;\r\n}\r\n\r\nexport const interfaceManager: InterfaceManager = {\r\n  initiated: false,\r\n  pixelCanvas: document.createElement(\"canvas\").getContext(\"2d\")!,\r\n  edgeSearch: document.createElement(\"canvas\").getContext(\"2d\")!,\r\n  searchCoordinates: false,\r\n  videoElement: React.createRef<HTMLVideoElement>(),\r\n  currentUi: \"main_menu\",\r\n  storePixel: { x: -1, y: -1 },\r\n  lastCurrentInterfaceComputeTime: 0,\r\n\r\n  collectionLabels: [\r\n    \"champions\",\r\n    \"skins\",\r\n    \"emotes\",\r\n    \"runes\",\r\n    \"spells\",\r\n    \"items\",\r\n    \"icons\",\r\n    \"wards\",\r\n    \"chromas\",\r\n  ],\r\n  interfaceData: {\r\n    1920: {\r\n      edgeSearch: { x: 1393, y: 32 },\r\n      storePixelOffset: { x: -55, y: -30 },\r\n      menuItemGaps: 81,\r\n      profileIconOffset: { x: -315, y: 60 },\r\n      collection: {\r\n        y: 164,\r\n        x: [134, 266, 376, 494, 611, 708, 823, 930, 1061],\r\n      },\r\n    },\r\n    1600: {\r\n      edgeSearch: { x: 1161, y: 25 },\r\n      storePixelOffset: { x: -46, y: -24 },\r\n      menuItemGaps: 68,\r\n      profileIconOffset: { x: -260, y: 50 },\r\n      collection: {\r\n        y: 137,\r\n        x: [112, 221, 314, 412, 509, 590, 685, 775, 884],\r\n      },\r\n    },\r\n    1280: {\r\n      edgeSearch: { x: 929, y: 21 },\r\n      storePixelOffset: { x: -37, y: -20 },\r\n      menuItemGaps: 54,\r\n      profileIconOffset: { x: -210, y: 40 },\r\n      collection: {\r\n        y: 109,\r\n        x: [89, 177, 251, 329, 407, 472, 548, 620, 707],\r\n      },\r\n    },\r\n    1024: {\r\n      edgeSearch: { x: 743, y: 16 },\r\n      storePixelOffset: { x: -29, y: -15 },\r\n      menuItemGaps: 43,\r\n      profileIconOffset: { x: -168, y: 30 },\r\n      collection: {\r\n        y: 87,\r\n        x: [71, 142, 201, 263, 326, 377, 438, 496, 565],\r\n      },\r\n    },\r\n  },\r\n\r\n  init(videoElement: React.RefObject<HTMLVideoElement>) {\r\n    if (this.initiated) return;\r\n    this.videoElement = videoElement;\r\n    this.pixelCanvas.canvas.height = 1;\r\n    this.pixelCanvas.canvas.width = 1;\r\n    this.edgeSearch.canvas.width = 200;\r\n    this.edgeSearch.canvas.height = 1;\r\n    this.storePixel = this.findStorePixel();\r\n    this.searchCoordinates = this.generateSearchCoordinates();\r\n    if (!this.storePixel || !this.searchCoordinates) return;\r\n    this.initiated = true;\r\n  },\r\n\r\n  getPixelDataFromVideo(x: number, y: number) {\r\n    if (this.videoElement.current == null) {\r\n      console.error(\"couldn't find videoElement on getPixelDataFromVideo()\");\r\n      return false;\r\n    }\r\n    this.pixelCanvas.drawImage(\r\n      this.videoElement.current,\r\n      x,\r\n      y,\r\n      1,\r\n      1,\r\n      0,\r\n      0,\r\n      1,\r\n      1\r\n    );\r\n    const pixelData = Array.from(\r\n      this.pixelCanvas.getImageData(0, 0, 1, 1).data\r\n    );\r\n    return [pixelData[0], pixelData[1], pixelData[2]];\r\n  },\r\n\r\n  currentInterface(videoElement: React.RefObject<HTMLVideoElement>) {\r\n    this.init(videoElement);\r\n    if (\r\n      !this.initiated ||\r\n      new Date().getTime() - 1000 / 144 < this.lastCurrentInterfaceComputeTime\r\n    )\r\n      return this.currentUi;\r\n    if (this.searchCoordinates === false) {\r\n      console.error(\"couldn't find searchCoordinates on currentInterface()\");\r\n      return false;\r\n    }\r\n\r\n    this.currentUi = \"main_menu\";\r\n    while (Object.keys(this.searchCoordinates).indexOf(this.currentUi) >= 0) {\r\n      //   console.log(this.searchCoordinates, this.currentUi);\r\n\r\n      const active_menu_items = this.searchCoordinates[this.currentUi].filter(\r\n        ([name, x, y, expectedColor]: [string, number, number, number[]]) => {\r\n          const pixelData = this.getPixelDataFromVideo(x, y);\r\n          if (!pixelData) return false;\r\n          const [r, g, b] = pixelData;\r\n          return (\r\n            Math.abs(r - expectedColor[0]) +\r\n              Math.abs(g - expectedColor[1]) +\r\n              Math.abs(b - expectedColor[2]) <\r\n            100\r\n          );\r\n        }\r\n      );\r\n      //   if (active_menu_items.length > 1)\r\n      //     console.error(`More than one active menu item`, active_menu_items);\r\n      if (active_menu_items[0]) this.currentUi = active_menu_items[0][0];\r\n      else this.currentUi = \"unknown\";\r\n    }\r\n    this.lastCurrentInterfaceComputeTime = new Date().getTime();\r\n    return this.currentUi;\r\n  },\r\n\r\n  findStorePixel() {\r\n    if (this.videoElement.current == null) return false;\r\n    this.edgeSearch.drawImage(\r\n      this.videoElement.current,\r\n      this.interfaceData[this.videoElement.current.videoWidth].edgeSearch.x -\r\n        100,\r\n      this.interfaceData[this.videoElement.current.videoWidth].edgeSearch.y,\r\n      200,\r\n      1,\r\n      0,\r\n      0,\r\n      200,\r\n      1\r\n    );\r\n    const greenChannel = this.edgeSearch\r\n      .getImageData(0, 0, 200, 1)\r\n      .data.filter((_: number, i: number) => i % 4 === 1);\r\n    let i;\r\n    for (i = 1; i < greenChannel.length; i++)\r\n      if (\r\n        greenChannel[i] > greenChannel[0] + 30 &&\r\n        greenChannel[i] - 20 > greenChannel[i - 1] &&\r\n        greenChannel[i] - 20 > greenChannel[i + 1]\r\n      ) {\r\n        break;\r\n      }\r\n\r\n    return {\r\n      x:\r\n        this.interfaceData[this.videoElement.current.videoWidth].edgeSearch.x -\r\n        100 +\r\n        i +\r\n        this.interfaceData[this.videoElement.current.videoWidth]\r\n          .storePixelOffset.x,\r\n      y:\r\n        this.interfaceData[this.videoElement.current.videoWidth].edgeSearch.y +\r\n        this.interfaceData[this.videoElement.current.videoWidth]\r\n          .storePixelOffset.y,\r\n    };\r\n  },\r\n\r\n  generateSearchCoordinates() {\r\n    if (!this.storePixel || !this.videoElement.current) {\r\n      return false;\r\n    }\r\n\r\n    const profilePixelData = this.getPixelDataFromVideo(\r\n      this.storePixel.x +\r\n        this.interfaceData[this.videoElement.current.videoWidth]\r\n          .profileIconOffset.x,\r\n      this.storePixel.y +\r\n        this.interfaceData[this.videoElement.current.videoWidth]\r\n          .profileIconOffset.y\r\n    );\r\n\r\n    if (!profilePixelData) return false;\r\n    const yourStoreOpen = profilePixelData[0] > 180;\r\n\r\n    /* Doing some fake checks here (as Point or as HTMLVideoElement)\r\n    as there isn't anything between the check earlier in the function\r\n    and the return value that could change the fact of that check. */\r\n    return {\r\n      main_menu: [\r\n        \"store\",\r\n        yourStoreOpen ? \"shop\" : \"false\",\r\n        \"loot\",\r\n        \"collection\",\r\n        \"profile\",\r\n      ]\r\n        .filter((v) => v !== \"false\")\r\n        .map((menu_item, i) => [\r\n          menu_item,\r\n          (this.storePixel as Point).x -\r\n            this.interfaceData[\r\n              (this.videoElement.current as HTMLVideoElement).videoWidth\r\n            ].menuItemGaps *\r\n              i,\r\n          (this.storePixel as Point).y,\r\n          [1, 10, 19],\r\n        ]),\r\n      collection: this.interfaceData[\r\n        this.videoElement.current.videoWidth\r\n      ].collection.x.map((x: number, i: number) => [\r\n        this.collectionLabels[i],\r\n        x,\r\n        this.interfaceData[\r\n          (this.videoElement.current as HTMLVideoElement).videoWidth\r\n        ].collection.y,\r\n        [185, 185, 165],\r\n      ]),\r\n    };\r\n  },\r\n};\r\n","import scraper from \"./scraper\";\r\n\r\ninterface MediaStreamManager {\r\n  captureStream: any;\r\n  [x: string]: any;\r\n}\r\n\r\nconst mediaDevices = navigator.mediaDevices as any; // workaround: https://github.com/microsoft/TypeScript/issues/33232\r\n\r\nexport const mediaStreamManager: MediaStreamManager = {\r\n  captureStream: null,\r\n\r\n  startCapture(onSuccess: () => void) {\r\n    (async () => {\r\n      try {\r\n        this.captureStream = await mediaDevices.getDisplayMedia({\r\n          video: { cursor: \"never\" },\r\n          audio: false,\r\n        });\r\n      } catch (err) {\r\n        console.error(\"Error: \" + err);\r\n        alert(\r\n          \"Error: \" +\r\n            err +\r\n            \"\\nIt's possible that your browser doesn't support this feature.\"\r\n        );\r\n      }\r\n      return this.captureStream;\r\n    })().then((stream) => {\r\n      this.captureStream = stream;\r\n      this.onStreamBegin(stream, onSuccess);\r\n    });\r\n  },\r\n\r\n  stopCapture() {\r\n    let tracks = (\r\n      scraper.videoElement.current.srcObject as MediaStream\r\n    ).getTracks();\r\n\r\n    tracks.forEach((track) => track.stop());\r\n    scraper.videoElement.current.srcObject = null;\r\n  },\r\n\r\n  onStreamBegin(stream: MediaStream, onSuccess: () => void) {\r\n    if (scraper.videoElement == null || scraper.videoElement.current == null) {\r\n      return;\r\n    }\r\n\r\n    scraper.videoElement.current.srcObject = stream;\r\n    scraper.videoElement.current.onloadedmetadata = function (e) {\r\n      if (scraper.videoElement.current == null) {\r\n        return;\r\n      }\r\n      scraper.videoElement.current.play().then(() => {\r\n        scraper.videoWidth = scraper.videoElement.current.videoWidth;\r\n        scraper.videoHeight = scraper.videoElement.current.videoHeight;\r\n\r\n        if (\r\n          [\"19201080\", \"1600900\", \"1024576\", \"1280720\"].indexOf(\r\n            scraper.videoWidth.toString() + scraper.videoHeight.toString()\r\n          ) < 0\r\n        ) {\r\n          alert(\r\n            \"Please share only the League of Legends window. Site will reload now\"\r\n          );\r\n          window.location.reload();\r\n        }\r\n        onSuccess();\r\n      });\r\n    };\r\n  },\r\n};\r\n","type ScreenshotArea = {\r\n  x: number;\r\n  y: number;\r\n  w: number;\r\n  h: number;\r\n  add: number;\r\n  yBottomCheck?: number;\r\n};\r\n\r\ntype ScreenshotAreas = {\r\n  1920: ScreenshotArea;\r\n  1600: ScreenshotArea;\r\n  1280: ScreenshotArea;\r\n  1024: ScreenshotArea;\r\n} | null;\r\n\r\ntype MatchingArea = {\r\n  w: number;\r\n  h: number;\r\n};\r\n\r\ntype MatchingAreas = {\r\n  1920: MatchingArea;\r\n  1600: MatchingArea;\r\n  1280: MatchingArea;\r\n  1024: MatchingArea;\r\n} | null;\r\n\r\ntype ScrollBar = {\r\n  x: number;\r\n  y1: number;\r\n  y2: number;\r\n};\r\n\r\ntype ScrollBars = {\r\n  1920: ScrollBar;\r\n  1600: ScrollBar;\r\n  1280: ScrollBar;\r\n  1024: ScrollBar;\r\n} | null;\r\n\r\ntype LoadCheck = {\r\n  x: number;\r\n  y: number;\r\n  color: [r: number, g: number, b: number];\r\n}[];\r\n\r\ntype LoadChecks = {\r\n  1920: LoadCheck;\r\n  1600: LoadCheck;\r\n  1280: LoadCheck;\r\n  1024: LoadCheck;\r\n} | null;\r\n\r\ntype Options = {\r\n  screenshotArea: ScreenshotAreas;\r\n  matchingArea: MatchingAreas;\r\n  scrollBar: ScrollBars;\r\n  loadCheck: LoadChecks;\r\n};\r\n\r\nexport default class Capture {\r\n  rawCanvasList: HTMLCanvasElement[] = [document.createElement(\"canvas\")];\r\n  canvasList: HTMLCanvasElement[] = [document.createElement(\"canvas\")];\r\n  workCanvas = document.createElement(\"canvas\");\r\n  scrollBarCanvas = document.createElement(\"canvas\");\r\n\r\n  complete: Boolean = false;\r\n  clientWidth: 1920 | 1600 | 1280 | 1024;\r\n  clientHeight: 1080 | 900 | 720 | 576;\r\n\r\n  screenshotArea: ScreenshotAreas;\r\n  matchingArea: MatchingAreas;\r\n  scrollBar: ScrollBars;\r\n  loadCheck: LoadChecks;\r\n  videoElement: React.RefObject<HTMLVideoElement>;\r\n  checkFunction: () => Boolean;\r\n  currentProgress: number = 0;\r\n  loaded: boolean = false;\r\n\r\n  constructor(\r\n    videoElement: React.RefObject<HTMLVideoElement>,\r\n    options: Options,\r\n    checkFunction: () => Boolean\r\n  ) {\r\n    this.screenshotArea = options.screenshotArea;\r\n    this.matchingArea = options.matchingArea;\r\n    this.scrollBar = options.scrollBar;\r\n    this.loadCheck = options.loadCheck;\r\n    this.videoElement = videoElement;\r\n    this.clientWidth = videoElement.current.videoWidth as\r\n      | 1920\r\n      | 1600\r\n      | 1280\r\n      | 1024;\r\n    this.clientHeight = videoElement.current.videoHeight as\r\n      | 1080\r\n      | 900\r\n      | 720\r\n      | 576;\r\n    this.checkFunction = checkFunction;\r\n\r\n    this.scrollBarCanvas.width = 1;\r\n    this.scrollBarCanvas.height = 1080;\r\n\r\n    this.workCanvas.width = this.screenshotArea[this.clientWidth].w;\r\n    this.workCanvas.height = this.screenshotArea[this.clientWidth].h;\r\n\r\n    this.loop();\r\n  }\r\n\r\n  get canvas() {\r\n    return this.canvasList[this.canvasList.length - 1];\r\n  }\r\n\r\n  get rawCanvas() {\r\n    return this.rawCanvasList[this.rawCanvasList.length - 1];\r\n  }\r\n\r\n  addCanvas() {\r\n    const prevCanvas = this.canvas;\r\n\r\n    this.canvasList.push(document.createElement(\"canvas\"));\r\n    this.canvas.width = prevCanvas.width;\r\n    this.canvas.height = prevCanvas.height;\r\n    this.canvas\r\n      .getContext(\"2d\")\r\n      .drawImage(\r\n        prevCanvas,\r\n        0,\r\n        30000,\r\n        prevCanvas.width,\r\n        1000,\r\n        0,\r\n        0,\r\n        prevCanvas.width,\r\n        1000\r\n      );\r\n  }\r\n\r\n  loop() {\r\n    if (\r\n      !this.complete &&\r\n      this.checkFunction() &&\r\n      this.isLoaded() &&\r\n      (this.scrollBarInfo().atTop || this.firstFreeRowIndex() > 0)\r\n    ) {\r\n      this.attemptScreenshot();\r\n    }\r\n\r\n    setTimeout(() => this.loop(), 30);\r\n  }\r\n\r\n  progress() {\r\n    return (this.currentProgress * 100).toFixed(1) + \"%\";\r\n  }\r\n\r\n  firstFreeRowIndex(canvas?: HTMLCanvasElement) {\r\n    canvas = canvas || this.canvas;\r\n    const alphaChannel = Array.from(\r\n      canvas.getContext(\"2d\").getImageData(0, 0, 1, canvas.height).data\r\n    ).filter((_, i) => i % 4 === 3);\r\n    return alphaChannel.indexOf(0);\r\n  }\r\n\r\n  attemptScreenshot() {\r\n    if (this.firstFreeRowIndex() > 31000) this.addCanvas();\r\n\r\n    const ssArea = this.screenshotArea[this.clientWidth];\r\n    const scrollBarInfo = this.scrollBarInfo();\r\n    const atBottom = scrollBarInfo.atBottom;\r\n    const freeRowIndex = this.firstFreeRowIndex();\r\n\r\n    if (freeRowIndex === 0) {\r\n      this.canvas.width = this.screenshotArea[this.clientWidth].w;\r\n      this.canvas.height = 32000;\r\n\r\n      this.canvas\r\n        .getContext(\"2d\")\r\n        .drawImage(\r\n          this.videoElement.current,\r\n          ssArea.x,\r\n          ssArea.y - ssArea.add,\r\n          ssArea.w,\r\n          ssArea.h + ssArea.add,\r\n          0,\r\n          freeRowIndex,\r\n          ssArea.w,\r\n          ssArea.h + ssArea.add\r\n        );\r\n    } else {\r\n      this.workCanvas\r\n        .getContext(\"2d\")\r\n        .drawImage(\r\n          this.videoElement.current,\r\n          ssArea.x,\r\n          atBottom ? this.clientHeight - ssArea.h : ssArea.y,\r\n          ssArea.w,\r\n          ssArea.h,\r\n          0,\r\n          0,\r\n          ssArea.w,\r\n          ssArea.h\r\n        );\r\n\r\n      const h = this.matchingArea[this.clientWidth].h;\r\n      const w = this.matchingArea[this.clientWidth].w;\r\n\r\n      const searchData = this.workCanvas\r\n        .getContext(\"2d\")\r\n        .getImageData(0, 0, w, h).data;\r\n      const matchingData = this.canvas\r\n        .getContext(\"2d\")\r\n        .getImageData(0, freeRowIndex - ssArea.h, w, ssArea.h).data;\r\n\r\n      // Search algorithm visualization\r\n      // https://flems.io/#0=N4IgtglgJlA2CmIBcBWAnAOjQJgDQgDMIEBnZAbVADsBDMRJEDACwBcxYR8BjAeytbwByEAB4oEAG4ACbrBokSAXgA6IAO4AnGgAcd8TWoB8ogPQTJRriBLwE3VhH5lGABiTYA7CAC+uanQMTABWZDz8gsKMfFQkrNLq0krSAIwAbK4A3CpUMXHSzEnSABxZOXnx3IXJKdlU5c7xWrr6mkVQvNwArvQCGACOXQYAngDKdvAOvJoAFGoYzXoGagCUdYutGHHDCCzwEADmbEXMAFTYANQA5DoAHlfr2kuaW6w78AvQrNUJ59d3DxyOXIGFBAEFNNphjN1KdmCsALoYAjTACiNCqMwA+kojMActJZI1ZHZYO1Oj0hKwMNxNPAaIJUQheqwZlcLFc1gSSbBYDT5IoADIQOIYGgwNncUmc7kbAxipZUKAAYWYxCgMylvJWOR8OvqVAQ8XI3Fwt1wwwRRXIrlwttcCLqDVi8VgvF4OiKWKSRmk+IN3Iq0ggRVupyqF24FxmM1uF2GK1OsKqKwApDC4eH4bKnpsquq6VRyBAkdtdgAjDEAawOml4XSVRTUAGJXG21NzAxcLnVCRACNJNdIjMkU8BZEostI4xdpD5uf3B7dh8l1Ctx7dJ5lpMNu3OFwOZsMVwV1zvJ-uqITbKwACoQej11luj24aSufXzg0vnQzNbWPgwB0YgDBEStyzsaxbHsRxnBETwkFcXx-BAWh6BEGlFAAiIqTA3goGPf1CWYfYjlYJBUjbSRmF7aQJBIHR5GGCiCAQW5aOCLo4n7YYAFoYkiciSQEAxaJoWBDioXiIEEMASAoqURM0OovxyBZcwMP1uSfCSqHgCiUDuaQSF4CSoGkVs2xUoEqBpUktKvaRWN4BkKIQAhWFo9QvmYCjsDuWiSMONg-IC7lK24Gs6wbKAKLpKAVKgiYHCcWIRBSAAWJAUhSXwER8IA\r\n      // 640 = 160(width) * 4(channel count)\r\n      // 51200 = 160(width) * 80(height) * 4(channel count)\r\n\r\n      search: for (let i = ssArea.h - h; i >= -h; i--) {\r\n        for (let x = 0; x < w; x++) {\r\n          for (let y = 0; y < h; y++) {\r\n            // for (let c = 0; c < 3; c++) {\r\n            const c = 0;\r\n            const search =\r\n              searchData[x * 4 + c + (((x + y) * w * 4) % (w * h * 4))];\r\n            const match =\r\n              matchingData[\r\n                i * w * 4 + x * 4 + c + (((x + y) * w * 4) % (w * h * 4))\r\n              ];\r\n            if (Math.abs(search - match) < 55 || (search < 50 && match < 50)) {\r\n            } else {\r\n              continue search;\r\n            }\r\n            // }\r\n          }\r\n        }\r\n\r\n        this.canvas\r\n          .getContext(\"2d\")\r\n          .drawImage(\r\n            this.workCanvas,\r\n            0,\r\n            0,\r\n            ssArea.w,\r\n            atBottom ? this.clientHeight - ssArea.y : ssArea.h,\r\n            0,\r\n            freeRowIndex - ssArea.h + i,\r\n            ssArea.w,\r\n            atBottom ? this.clientHeight - ssArea.y : ssArea.h\r\n          );\r\n\r\n        this.currentProgress = Math.min(\r\n          scrollBarInfo.offsetTop +\r\n            scrollBarInfo.size * scrollBarInfo.offsetTop,\r\n          0.999\r\n        );\r\n\r\n        if (atBottom) {\r\n          let bottomRowY = ssArea.y + ssArea.h;\r\n          if (typeof ssArea.yBottomCheck !== \"undefined\") {\r\n            bottomRowY = ssArea.yBottomCheck;\r\n          }\r\n          this.workCanvas\r\n            .getContext(\"2d\")\r\n            .drawImage(\r\n              this.videoElement.current,\r\n              ssArea.x,\r\n              bottomRowY,\r\n              ssArea.w,\r\n              1,\r\n              0,\r\n              0,\r\n              ssArea.w,\r\n              1\r\n            );\r\n\r\n          const lastRowRedChannel = Array.from(\r\n            this.workCanvas.getContext(\"2d\").getImageData(0, 0, ssArea.w, 1)\r\n              .data\r\n          ).filter((_, i) => i % 4 === 0);\r\n\r\n          // Confirm it's the last row - important with large collections where scrollbar\r\n          // appears at the bottom even though there's a couple more pixels to render\r\n          if (Math.max(...lastRowRedChannel) < 30) {\r\n            this.currentProgress = 1;\r\n            this.cropAlphaFromCanvases();\r\n          }\r\n        }\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  recognize() {\r\n    if (!this.complete) this.cropAlphaFromCanvases();\r\n  }\r\n\r\n  annotateImages() {\r\n    for (let i = 0; i < this.canvasList.length; i++) {\r\n      if (i > 0) this.rawCanvasList.push(document.createElement(\"canvas\"));\r\n      this.rawCanvas.width = this.canvasList[i].width;\r\n      this.rawCanvas.height = this.canvasList[i].height;\r\n      this.rawCanvas.getContext(\"2d\").drawImage(this.canvasList[i], 0, 0);\r\n    }\r\n  }\r\n\r\n  cropCanvasesByRects(\r\n    rects: {\r\n      x: number;\r\n      y: number;\r\n      w: number;\r\n      h: number;\r\n      canvas: HTMLCanvasElement;\r\n      [x: string]: any;\r\n    }[]\r\n  ) {\r\n    const minMaxArr = Array(this.canvasList.length)\r\n      .fill(0)\r\n      .map((_) => [Infinity, 0]);\r\n    rects.forEach((rect) => {\r\n      const i = this.canvasList.indexOf(rect.canvas);\r\n      minMaxArr[i] = [\r\n        Math.min(minMaxArr[i][0], rect.y),\r\n        Math.max(minMaxArr[i][1], rect.y + rect.h),\r\n      ];\r\n    });\r\n\r\n    const offsetRectsTop = [0];\r\n\r\n    for (let i = 0; i < minMaxArr.length; i++) {\r\n      const canvas = this.canvasList[i];\r\n      let cropTop = 0;\r\n      let cropBottom = canvas.height;\r\n      if (i !== 0) {\r\n        // define crop top\r\n        const prevMaxY = minMaxArr[i - 1][1];\r\n        const currMinY = minMaxArr[i][0];\r\n        cropTop = Math.floor(currMinY + prevMaxY - 30000) / 2;\r\n        offsetRectsTop[i] = cropTop;\r\n      }\r\n      if (i !== this.canvasList.length - 1) {\r\n        // define crop bottom\r\n        const currMaxY = minMaxArr[i][1];\r\n        const nextMinY = minMaxArr[i + 1][0];\r\n        cropBottom = Math.floor(currMaxY + nextMinY + 30000) / 2;\r\n      }\r\n      const imageData = canvas\r\n        .getContext(\"2d\")\r\n        .getImageData(0, cropTop, canvas.width, cropBottom - cropTop);\r\n      canvas.height = cropBottom - cropTop;\r\n      canvas.getContext(\"2d\").putImageData(imageData, 0, 0);\r\n\r\n      const rawCanvas = this.rawCanvasList[i];\r\n      const rawCanvasImageData = rawCanvas\r\n        .getContext(\"2d\")\r\n        .getImageData(0, cropTop, rawCanvas.width, cropBottom - cropTop);\r\n      rawCanvas.height = cropBottom - cropTop;\r\n      rawCanvas.getContext(\"2d\").putImageData(rawCanvasImageData, 0, 0);\r\n    }\r\n\r\n    // rects.map((rect) => ({\r\n    //   ...rect,\r\n    //   y: rect.y - offsetRectsTop[this.canvasList.indexOf(rect.canvas)],\r\n    // }));\r\n\r\n    // return rects;\r\n  }\r\n\r\n  cropAlphaFromCanvases() {\r\n    this.canvasList.forEach((canvas) => {\r\n      const canvasHeight = Math.max(this.firstFreeRowIndex(canvas), 1);\r\n      const screenshotData = canvas\r\n        .getContext(\"2d\")\r\n        .getImageData(0, 0, canvas.width, canvasHeight);\r\n      canvas.height = canvasHeight;\r\n      canvas.getContext(\"2d\").putImageData(screenshotData, 0, 0);\r\n    });\r\n    this.complete = true;\r\n  }\r\n\r\n  scrollBarInfo() {\r\n    const sb = this.scrollBar[this.clientWidth];\r\n    this.scrollBarCanvas\r\n      .getContext(\"2d\")\r\n      .drawImage(\r\n        this.videoElement.current,\r\n        sb.x,\r\n        sb.y1,\r\n        1,\r\n        sb.y2 - sb.y1,\r\n        0,\r\n        0,\r\n        1,\r\n        sb.y2 - sb.y1\r\n      );\r\n    const redChannel = Array.from(\r\n      this.scrollBarCanvas.getContext(\"2d\").getImageData(0, 0, 1, sb.y2 - sb.y1)\r\n        .data\r\n    ).filter((_, i) => i % 4 === 0);\r\n    const scrollBar = redChannel\r\n      .map((v) => (v > 32 && v < 210 ? 1 : 0))\r\n      .join(\"\");\r\n    if (scrollBar.indexOf(\"1\") === -1) {\r\n      return {\r\n        size: 1,\r\n        offsetTop: 1,\r\n        atTop: 1,\r\n        atBottom: 1,\r\n      };\r\n    }\r\n    return {\r\n      size: scrollBar.replace(/0/g, \"\").length / redChannel.length,\r\n      // offsetTop: scrollBar.replace(/1+0+/g, \"\").length / redChannel.length,\r\n      offsetTop:\r\n        (scrollBar.replace(/1+0+/g, \"\").length +\r\n          redChannel.length -\r\n          scrollBar.replace(/0+1+/g, \"\").length) /\r\n        2 /\r\n        redChannel.length,\r\n      atTop:\r\n        scrollBar[0] === \"1\" && scrollBar.replace(/(.)\\1+/g, \"$1\") === \"10\",\r\n      atBottom: scrollBar.slice(-2).indexOf(\"1\") >= 0,\r\n    };\r\n  }\r\n\r\n  getPixelColor(x: number, y: number) {\r\n    const [r, g, b] = Array.from(\r\n      this.canvas.getContext(\"2d\").getImageData(x, y, 1, 1).data\r\n    );\r\n    return [r, g, b];\r\n  }\r\n\r\n  rgb2hue(\r\n    r: number | number[],\r\n    g?: number | undefined,\r\n    b?: number | undefined\r\n  ) {\r\n    if (typeof r == \"number\") {\r\n      const max = Math.max(r, g, b);\r\n      const diff = max - Math.min(r, g, b);\r\n      const hue =\r\n        max === r\r\n          ? 6 + (g - b) / diff\r\n          : max === g\r\n          ? 2 + (b - r) / diff\r\n          : 4 + (r - g) / diff;\r\n      return Math.round(hue * 60) % 360;\r\n    } else {\r\n      const max = Math.max(r[0], r[1], r[2]);\r\n      const diff = max - Math.min(r[0], r[1], r[2]);\r\n      const hue =\r\n        max === r[0]\r\n          ? 6 + (r[1] - r[2]) / diff\r\n          : max === r[1]\r\n          ? 2 + (r[2] - r[0]) / diff\r\n          : 4 + (r[0] - r[1]) / diff;\r\n      return Math.round(hue * 60) % 360;\r\n    }\r\n  }\r\n\r\n  isLoaded() {\r\n    for (let i = 0; i < this.loadCheck[this.clientWidth].length; i++) {\r\n      const check = this.loadCheck[this.clientWidth][i];\r\n      this.scrollBarCanvas\r\n        .getContext(\"2d\")\r\n        .drawImage(\r\n          this.videoElement.current,\r\n          check.x,\r\n          check.y,\r\n          1,\r\n          1,\r\n          0,\r\n          0,\r\n          1,\r\n          1\r\n        );\r\n      const foundColor = this.scrollBarCanvas\r\n        .getContext(\"2d\")\r\n        .getImageData(0, 0, 1, 1).data;\r\n      for (let j = 0; j < check.color.length; j++) {\r\n        if (Math.abs(check.color[j] - foundColor[j]) > 15) return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n}\r\n","import Capture from \"../Capture\";\r\nimport * as tf from \"@tensorflow/tfjs\";\r\n\r\ntype Color = [r: number, g: number, b: number];\r\ntype Rect = {\r\n  x: number;\r\n  y: number;\r\n  w: number;\r\n  h: number;\r\n  canvas: HTMLCanvasElement;\r\n  cat?: string;\r\n  type?: string;\r\n  count?: number;\r\n  name?: string;\r\n  data?: any;\r\n};\r\n\r\ntype LootLabels = [id: string, name: string, price: number, legacy: number][];\r\n\r\ntype LookupTable = [string, any][];\r\n\r\nexport default class Skins extends Capture {\r\n  constructor(\r\n    video: React.RefObject<HTMLVideoElement>,\r\n    currentViewFunction: () => string | false\r\n  ) {\r\n    const checkFunction = () => currentViewFunction() === \"skins\";\r\n    const options = {\r\n      screenshotArea: {\r\n        \"1920\": { x: 398, y: 218, w: 1156, h: 852, add: 5 },\r\n        \"1600\": { x: 332, y: 180, w: 962, h: 713, add: 5 },\r\n        \"1280\": { x: 264, y: 145, w: 770, h: 565, add: 5 },\r\n        \"1024\": { x: 210, y: 116, w: 618, h: 454, add: 5 },\r\n      },\r\n\r\n      matchingArea: {\r\n        \"1920\": { w: 300, h: 160 },\r\n        \"1600\": { w: 240, h: 140 },\r\n        \"1280\": { w: 200, h: 110 },\r\n        \"1024\": { w: 160, h: 80 },\r\n      },\r\n\r\n      scrollBar: {\r\n        \"1920\": { x: 1574, y1: 211, y2: 1073 },\r\n        \"1600\": { x: 1312, y1: 175, y2: 894 },\r\n        \"1280\": { x: 1049, y1: 140, y2: 715 },\r\n        \"1024\": { x: 840, y1: 112, y2: 572 },\r\n      },\r\n\r\n      loadCheck: {\r\n        \"1920\": [{ x: 223, y: 462, color: [254, 4, 10] as Color }],\r\n        \"1600\": [{ x: 186, y: 385, color: [254, 4, 9] as Color }],\r\n        \"1280\": [{ x: 149, y: 309, color: [248, 3, 13] as Color }],\r\n        \"1024\": [{ x: 120, y: 247, color: [253, 4, 9] as Color }],\r\n      },\r\n    };\r\n    super(video, options, checkFunction);\r\n\r\n    this.warnMessage = null;\r\n    this.prepareClassificationAssets();\r\n  }\r\n\r\n  lookupTable: LookupTable;\r\n  skinsCollectionModel: tf.LayersModel;\r\n  classifiedRects: Rect[];\r\n  warnMessage: string | null;\r\n\r\n  async prepareClassificationAssets() {\r\n    let [lookupTableLoot, lookupTableSkins, skinsCollectionModel] =\r\n      await Promise.all([\r\n        fetch(\"lookup_data/loot.json\").then((res) => res.json()),\r\n        fetch(\"lookup_data/collection_skins.json\").then((res) => res.json()),\r\n        tf.loadLayersModel(\"models/coll_skins/model.json\"),\r\n      ]);\r\n\r\n    this.lookupTable = lookupTableSkins.map(\r\n      (v: [id: string, is_limited_edition: number]) => {\r\n        return [\r\n          (v[1] === 1 ? \"Limited edition \" : \"\") +\r\n            (lookupTableLoot[\"skins\"] as LootLabels).filter(\r\n              (l) => l[0] === v[0]\r\n            )[0][1],\r\n          v,\r\n        ];\r\n      }\r\n    );\r\n\r\n    this.skinsCollectionModel = skinsCollectionModel;\r\n    this.loaded = true;\r\n  }\r\n\r\n  classifyRects(rects: Rect[]) {\r\n    rects.forEach((rect: Rect, i: number) => {\r\n      const prediction = this.getPredictionFromRect(\r\n        rect,\r\n        this.skinsCollectionModel,\r\n        this.lookupTable\r\n      );\r\n      if (typeof prediction !== \"undefined\") {\r\n        rects[i] = {\r\n          ...rects[i],\r\n          type: \"collection_skin\",\r\n          count: 1,\r\n          name: prediction[0],\r\n          data: prediction[1],\r\n        };\r\n      }\r\n    });\r\n    return rects;\r\n  }\r\n\r\n  getPredictionFromRect(\r\n    rect: Rect,\r\n    model: tf.LayersModel,\r\n    labels: LookupTable\r\n  ): [string, any] {\r\n    if (!this.complete) return;\r\n\r\n    this.workCanvas.width = 28;\r\n    this.workCanvas.height = 28;\r\n\r\n    const lightValues = [];\r\n    this.workCanvas\r\n      .getContext(\"2d\")\r\n      ?.drawImage(rect.canvas, rect.x, rect.y, rect.w, rect.h, 0, 0, 28, 28);\r\n    let imageData = this.workCanvas\r\n      .getContext(\"2d\")\r\n      ?.getImageData(0, 0, 28, 28);\r\n    let pixels = imageData?.data;\r\n    if (typeof pixels !== \"undefined\") {\r\n      for (var j = 0; j < pixels.length; j += 4) {\r\n        let lightness =\r\n          pixels[j] * 0.299 + pixels[j + 1] * 0.587 + pixels[j + 2] * 0.114;\r\n        lightValues.push(lightness / 255);\r\n      }\r\n    }\r\n    const tensor = tf.tensor(lightValues, [1, 28, 28]);\r\n\r\n    const predictions = (model.predict(tensor) as tf.Tensor).dataSync();\r\n\r\n    const bestPrediction =\r\n      labels[predictions.indexOf(Math.max(...Array.from(predictions)))];\r\n\r\n    predictions.sort((a, b) => b - a);\r\n    if (predictions[0] - predictions[1] < 10) {\r\n      return [\"?\" + bestPrediction[0], bestPrediction[1]];\r\n    }\r\n    return bestPrediction;\r\n  }\r\n\r\n  recognize() {\r\n    super.recognize();\r\n    if (this.classifiedRects) return this.classifiedRects;\r\n\r\n    const rects = this.computeRects();\r\n    this.classifiedRects = this.classifyRects(rects);\r\n  }\r\n\r\n  annotateImages() {\r\n    super.annotateImages();\r\n    if (this.classifiedRects == null) return;\r\n\r\n    this.classifiedRects.forEach((rect: Rect, i: number) => {\r\n      const ctx = rect.canvas.getContext(\"2d\");\r\n      ctx.beginPath();\r\n\r\n      ctx.globalAlpha = 0.6;\r\n      ctx.fillStyle = \"#000\";\r\n      ctx.fillRect(rect.x, rect.y, rect.w, rect.h);\r\n      ctx.globalAlpha = 1;\r\n\r\n      ctx.lineWidth = 2;\r\n      ctx.strokeStyle = (rect.name || \" \")[0] === \"?\" ? \"yellow\" : \"#fff\";\r\n      ctx.rect(rect.x, rect.y, rect.w, rect.h);\r\n      ctx.stroke();\r\n      if (typeof rect.name !== \"undefined\") {\r\n        ctx.font = \"10px Arial\";\r\n        ctx.fillStyle = \"#fff\";\r\n        ctx.fillText(\r\n          rect.name[0] === \"?\" ? rect.name.slice(1) : rect.name,\r\n          rect.x + 3,\r\n          rect.y + 15,\r\n          rect.w - 3\r\n        );\r\n      }\r\n    });\r\n\r\n    this.cropCanvasesByRects(this.classifiedRects);\r\n  }\r\n\r\n  computeRects() {\r\n    this.workCanvas.width = 15;\r\n    this.workCanvas.height = 15;\r\n\r\n    const offset = {\r\n      \"1920\": {\r\n        xStart: 26,\r\n        yStart: 88,\r\n        iconWidth: 174,\r\n        iconHeight: 249,\r\n        iconOffsetX: 231,\r\n        iconOffsetY: 336,\r\n        lineHeight: 81,\r\n      },\r\n      \"1600\": {\r\n        xStart: 22,\r\n        yStart: 76,\r\n        iconWidth: 146,\r\n        iconHeight: 208,\r\n        iconOffsetX: 192,\r\n        iconOffsetY: 280,\r\n        lineHeight: 68,\r\n      },\r\n      \"1280\": {\r\n        xStart: 19,\r\n        yStart: 61,\r\n        iconWidth: 116,\r\n        iconHeight: 166,\r\n        iconOffsetX: 154,\r\n        iconOffsetY: 224,\r\n        lineHeight: 54.6,\r\n      },\r\n      \"1024\": {\r\n        xStart: 17,\r\n        yStart: 50,\r\n        iconWidth: 91,\r\n        iconHeight: 130,\r\n        iconOffsetX: 123,\r\n        iconOffsetY: 179.2,\r\n        lineHeight: 43.3,\r\n      },\r\n    }[this.clientWidth];\r\n\r\n    let rects: Rect[] = [];\r\n    let x = offset.xStart;\r\n    let y = offset.yStart;\r\n    let canvasIndex = 0;\r\n\r\n    const drawCheckSquare = () =>\r\n      this.workCanvas\r\n        .getContext(\"2d\")\r\n        .drawImage(\r\n          this.canvasList[canvasIndex],\r\n          x - 15,\r\n          y - 15,\r\n          15,\r\n          15,\r\n          0,\r\n          0,\r\n          15,\r\n          15\r\n        );\r\n\r\n    const isIcon = () =>\r\n      Math.max(\r\n        ...Array.from(\r\n          this.workCanvas.getContext(\"2d\").getImageData(0, 0, 15, 15)\r\n            .data as Uint8ClampedArray\r\n        ).filter((v: number, i: number) => i % 4 === 0)\r\n      ) > 30;\r\n\r\n    while (\r\n      y + offset.iconHeight < this.canvasList[canvasIndex].height &&\r\n      canvasIndex < this.canvasList.length\r\n    ) {\r\n      if (y > 30000) {\r\n        y -= 30000;\r\n        canvasIndex++;\r\n      }\r\n      drawCheckSquare();\r\n      if (x < this.canvasList[canvasIndex].width && isIcon()) {\r\n        rects.push({\r\n          canvas: this.canvasList[canvasIndex],\r\n          cat: \"coll_skin\",\r\n          x,\r\n          y,\r\n          w: offset.iconWidth,\r\n          h: offset.iconHeight,\r\n        });\r\n        x += offset.iconOffsetX;\r\n      } else {\r\n        y += x === offset.xStart ? offset.lineHeight : offset.iconOffsetY;\r\n        x = offset.xStart;\r\n      }\r\n    }\r\n    return rects;\r\n  }\r\n\r\n  attemptScreenshot() {\r\n    if (this.checkIsViewingUnowned()) {\r\n      this.warnMessage = `Make sure \"Show Unowned\" option is disabled in the client.`;\r\n      return;\r\n    }\r\n    this.warnMessage = null;\r\n    super.attemptScreenshot();\r\n  }\r\n\r\n  checkIsViewingUnowned() {\r\n    const check = {\r\n      \"1024\": { x: 30, y: 294 + 102 },\r\n      \"1280\": { x: 37, y: 373 + 125 },\r\n      \"1600\": { x: 46, y: 465 + 156 },\r\n      \"1920\": { x: 55, y: 559 + 187 },\r\n    }[this.clientWidth];\r\n\r\n    this.workCanvas\r\n      .getContext(\"2d\")\r\n      .drawImage(this.videoElement.current, check.x, check.y, 1, 1, 0, 0, 1, 1);\r\n    const checkPixel = this.workCanvas\r\n      .getContext(\"2d\")\r\n      .getImageData(0, 0, 1, 1).data;\r\n\r\n    return checkPixel[0] > 50;\r\n  }\r\n}\r\n","import Capture from \"../Capture\";\r\nimport * as tf from \"@tensorflow/tfjs\";\r\n\r\ntype Color = [r: number, g: number, b: number];\r\ntype Rect = {\r\n  x: number;\r\n  y: number;\r\n  w: number;\r\n  h: number;\r\n  canvas: HTMLCanvasElement;\r\n  cat?: string;\r\n  type?: string;\r\n  count?: number;\r\n  name?: string;\r\n};\r\n\r\ntype Models = {\r\n  champions: tf.LayersModel;\r\n  skins: tf.LayersModel;\r\n  wards: tf.LayersModel;\r\n  numbers: tf.LayersModel;\r\n  shard_permanent: tf.LayersModel;\r\n};\r\n\r\ntype LookupLabels =\r\n  | [id: number, name: string, price: number, legacy: number][]\r\n  | string[];\r\n\r\ntype LookupTable = {\r\n  champions: LookupLabels;\r\n  skins: LookupLabels;\r\n  wards: LookupLabels;\r\n  [x: string]: any;\r\n};\r\n\r\nexport default class Loot extends Capture {\r\n  constructor(\r\n    video: React.RefObject<HTMLVideoElement>,\r\n    currentViewFunction: () => string | false\r\n  ) {\r\n    const checkFunction = () => currentViewFunction() === \"loot\";\r\n\r\n    const options = {\r\n      screenshotArea: {\r\n        \"1920\": { x: 80, y: 284, w: 500, h: 616, add: 60 },\r\n        \"1600\": { x: 70, y: 235, w: 410, h: 514, add: 50 },\r\n        \"1280\": { x: 55, y: 190, w: 330, h: 411, add: 40 },\r\n        \"1024\": { x: 45, y: 150, w: 265, h: 329, add: 30 },\r\n      },\r\n\r\n      matchingArea: {\r\n        \"1920\": { w: 160, h: 160 },\r\n        \"1600\": { w: 140, h: 140 },\r\n        \"1280\": { w: 110, h: 110 },\r\n        \"1024\": { w: 80, h: 80 },\r\n      },\r\n\r\n      scrollBar: {\r\n        \"1920\": { x: 596, y1: 232, y2: 926 },\r\n        \"1600\": { x: 497, y1: 193, y2: 770 },\r\n        \"1280\": { x: 397, y1: 154, y2: 617 },\r\n        \"1024\": { x: 319, y1: 123, y2: 494 },\r\n      },\r\n\r\n      loadCheck: {\r\n        \"1920\": [\r\n          { x: 260, y: 1015, color: [242, 145, 48] as Color },\r\n          { x: 350, y: 1005, color: [153, 38, 212] as Color },\r\n        ],\r\n        \"1600\": [\r\n          { x: 215, y: 845, color: [242, 145, 48] as Color },\r\n          { x: 290, y: 835, color: [153, 38, 212] as Color },\r\n        ],\r\n        \"1280\": [\r\n          { x: 172, y: 676, color: [242, 145, 48] as Color },\r\n          { x: 231, y: 670, color: [153, 38, 212] as Color },\r\n        ],\r\n        \"1024\": [\r\n          { x: 138, y: 540, color: [242, 145, 48] as Color },\r\n          { x: 185, y: 535, color: [153, 38, 212] as Color },\r\n        ],\r\n      },\r\n    };\r\n    super(video, options, checkFunction);\r\n\r\n    this.prepareClassificationAssets();\r\n  }\r\n\r\n  lookupTable: LookupTable;\r\n  models: Models;\r\n  classifiedRects: Rect[];\r\n\r\n  async prepareClassificationAssets() {\r\n    const [lookupTable, champions, skins, wards, numbers, shard_permanent] =\r\n      await Promise.all([\r\n        fetch(\"lookup_data/loot.json\").then((res) => res.json()),\r\n        tf.loadLayersModel(\"models/champions/model.json\"),\r\n        tf.loadLayersModel(\"models/skins/model.json\"),\r\n        tf.loadLayersModel(\"models/wards/model.json\"),\r\n        tf.loadLayersModel(\"models/numbers/model.json\"),\r\n        tf.loadLayersModel(\"models/shard_permanent/model.json\"),\r\n      ]);\r\n\r\n    this.lookupTable = lookupTable;\r\n\r\n    this.models = {\r\n      champions,\r\n      skins,\r\n      wards,\r\n      numbers,\r\n      shard_permanent,\r\n    };\r\n    this.loaded = true;\r\n  }\r\n\r\n  recognize() {\r\n    super.recognize();\r\n    if (this.classifiedRects) return this.classifiedRects;\r\n\r\n    const rects = this.computeRects();\r\n    this.classifiedRects = this.classifyRects(rects);\r\n    return this.classifiedRects;\r\n  }\r\n\r\n  annotateImages() {\r\n    super.annotateImages();\r\n    if (this.classifiedRects == null) return;\r\n\r\n    this.classifiedRects.forEach((rect: Rect, i: number) => {\r\n      const ctx = rect.canvas.getContext(\"2d\");\r\n      ctx.beginPath();\r\n\r\n      ctx.globalAlpha = 0.6;\r\n      ctx.fillStyle = \"#000\";\r\n      ctx.fillRect(rect.x, rect.y, rect.w, rect.h);\r\n      ctx.globalAlpha = 1;\r\n\r\n      ctx.lineWidth = 2;\r\n      ctx.strokeStyle =\r\n        (rect.name || \"\").indexOf(\"(?)\") < 0 ? \"#fff\" : \"yellow\";\r\n      ctx.rect(rect.x, rect.y, rect.w, rect.h);\r\n      ctx.stroke();\r\n      if (\r\n        typeof rect.type !== \"undefined\" &&\r\n        typeof rect.count !== \"undefined\" &&\r\n        typeof rect.name !== \"undefined\"\r\n      ) {\r\n        ctx.font = \"10px Arial\";\r\n        ctx.fillStyle = \"#fff\";\r\n        ctx.fillText(\r\n          `${rect.count.toString()}x ${rect.name} ${rect.type}`,\r\n          rect.x + 3,\r\n          rect.y + 15,\r\n          rect.w - 3\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  classifyRects(rects: Rect[]) {\r\n    rects.forEach((rect: Rect, i: number) => {\r\n      if (rect.cat === \"materials\") {\r\n        const token = this.masteryTokenFromRect(rect);\r\n        if (token > 0) {\r\n          rects[i] = {\r\n            ...rects[i],\r\n            type: \"token\" + token.toString(),\r\n            count: this.lootCountFromRect(rect),\r\n            name: this.getPredictionFromRect(\r\n              rect,\r\n              this.models.champions,\r\n              this.lookupTable.champions\r\n            ),\r\n          };\r\n        }\r\n      } else if (rect.cat === \"champions\") {\r\n        rects[i] = {\r\n          ...rects[i],\r\n          type: this.getPredictionFromRect(rect, this.models.shard_permanent, [\r\n            \"shard\",\r\n            \"permanent\",\r\n          ]),\r\n          count: this.lootCountFromRect(rect),\r\n          name: this.getPredictionFromRect(\r\n            rect,\r\n            this.models.champions,\r\n            this.lookupTable.champions\r\n          ),\r\n        };\r\n      } else if (rect.cat === \"skins\") {\r\n        rects[i] = {\r\n          ...rects[i],\r\n          type: this.getPredictionFromRect(rect, this.models.shard_permanent, [\r\n            \"shard\",\r\n            \"permanent\",\r\n          ]),\r\n          count: this.lootCountFromRect(rect),\r\n          name: this.getPredictionFromRect(\r\n            rect,\r\n            this.models.skins,\r\n            this.lookupTable.skins\r\n          ),\r\n        };\r\n      } else if (rect.cat === \"ward_skins\") {\r\n        rects[i] = {\r\n          ...rects[i],\r\n          type: this.getPredictionFromRect(rect, this.models.shard_permanent, [\r\n            \"shard\",\r\n            \"permanent\",\r\n          ]),\r\n          count: this.lootCountFromRect(rect),\r\n          name: this.getPredictionFromRect(\r\n            rect,\r\n            this.models.wards,\r\n            this.lookupTable.wards\r\n          ),\r\n        };\r\n      } else if (rect.cat === \"eternals\") {\r\n        rects[i] = {\r\n          ...rects[i],\r\n          type: \"eternal\",\r\n          count: this.lootCountFromRect(rect),\r\n          name: this.getPredictionFromRect(\r\n            rect,\r\n            this.models.champions,\r\n            this.lookupTable.champions\r\n          ),\r\n        };\r\n      } else if ([\"little_legends\", \"emotes\", \"icons\"].indexOf(rect.cat) >= 0) {\r\n        console.log(\r\n          \"Skipping item from category as it is not yet supported.\",\r\n          rect.cat,\r\n          rect\r\n        );\r\n      }\r\n    });\r\n    return rects;\r\n  }\r\n\r\n  getPredictionFromRect(\r\n    rect: Rect,\r\n    model: tf.LayersModel,\r\n    labels: LookupLabels\r\n  ): string {\r\n    if (!this.complete) return;\r\n\r\n    this.workCanvas.width = 28;\r\n    this.workCanvas.height = 28;\r\n\r\n    const lightValues = [];\r\n    this.workCanvas\r\n      .getContext(\"2d\")\r\n      ?.drawImage(this.canvas, rect.x, rect.y, rect.w, rect.h, 0, 0, 28, 28);\r\n    let imageData = this.workCanvas\r\n      .getContext(\"2d\")\r\n      ?.getImageData(0, 0, 28, 28);\r\n    let pixels = imageData?.data;\r\n    if (typeof pixels !== \"undefined\") {\r\n      for (var j = 0; j < pixels.length; j += 4) {\r\n        let lightness =\r\n          pixels[j] * 0.299 + pixels[j + 1] * 0.587 + pixels[j + 2] * 0.114;\r\n        lightValues.push(lightness / 255);\r\n      }\r\n    }\r\n    const tensor = tf.tensor(lightValues, [1, 28, 28]);\r\n\r\n    const predictions = (model.predict(tensor) as tf.Tensor).dataSync();\r\n\r\n    const bestPrediction =\r\n      typeof labels[0] == \"string\"\r\n        ? (labels[\r\n            predictions.indexOf(Math.max(...Array.from(predictions)))\r\n          ] as string)\r\n        : labels[predictions.indexOf(Math.max(...Array.from(predictions)))][1];\r\n\r\n    predictions.sort((a, b) => b - a);\r\n    if (predictions[0] - predictions[1] < 10) {\r\n      return \"(?) \" + bestPrediction;\r\n    }\r\n    return bestPrediction;\r\n  }\r\n\r\n  masteryTokenFromRect(rect: Rect) {\r\n    this.workCanvas\r\n      .getContext(\"2d\")\r\n      ?.drawImage(\r\n        this.canvas,\r\n        rect.x + rect.w / 2,\r\n        rect.y - 2,\r\n        1,\r\n        1,\r\n        0,\r\n        0,\r\n        1,\r\n        1\r\n      );\r\n    const [r, g, b] = Array.from(\r\n      this.workCanvas.getContext(\"2d\")?.getImageData(0, 0, 1, 1).data\r\n    );\r\n    const hue = this.rgb2hue(r, g, b);\r\n    if (hue > 275 && hue < 325) return 6;\r\n    if (hue > 150 && hue < 200) return 7;\r\n    return 0;\r\n  }\r\n\r\n  lootCountFromRect(rect: Rect) {\r\n    const offset = {\r\n      \"1024\": {\r\n        w: 20,\r\n        h: 9,\r\n        xPad: 4,\r\n        yPad: 5,\r\n        minNumberHeight: 7,\r\n        maxNumberHeight: 8,\r\n      },\r\n      \"1280\": {\r\n        w: 25,\r\n        h: 9,\r\n        xPad: 4,\r\n        yPad: 7,\r\n        minNumberHeight: 8,\r\n        maxNumberHeight: 9,\r\n      },\r\n      \"1600\": {\r\n        w: 30,\r\n        h: 13,\r\n        xPad: 6,\r\n        yPad: 7,\r\n        minNumberHeight: 10,\r\n        maxNumberHeight: 13,\r\n      },\r\n      \"1920\": {\r\n        w: 35,\r\n        h: 16,\r\n        xPad: 8,\r\n        yPad: 9,\r\n        minNumberHeight: 11,\r\n        maxNumberHeight: 14,\r\n      },\r\n    }[this.clientWidth];\r\n\r\n    this.workCanvas.width = offset.w;\r\n    this.workCanvas.height = offset.h;\r\n\r\n    let x = Math.round(rect.x + rect.w - offset.w - offset.xPad);\r\n    let y = Math.round(rect.y + rect.h - offset.h - offset.yPad);\r\n    let [w, h] = [offset.w, offset.h];\r\n\r\n    this.workCanvas\r\n      .getContext(\"2d\")\r\n      ?.drawImage(this.canvas, x, y, w, h, 0, 0, w, h);\r\n\r\n    let picture: number[] | number[][] = Array.from(\r\n      this.workCanvas.getContext(\"2d\")?.getImageData(0, 0, offset.w, offset.h)\r\n        .data\r\n    )\r\n      .map((v: number, i: number, a: number[]) =>\r\n        i % 4 !== 0 ? 0 : v > 128 && (v > a[i + 2] || 0) ? 1 : 0\r\n      )\r\n      .filter((_: number, i: number) => i % 4 === 0);\r\n\r\n    if (typeof picture !== \"undefined\")\r\n      picture = [...Array(Math.ceil(picture.length / offset.w))].map((_) =>\r\n        (picture as number[]).splice(0, offset.w)\r\n      );\r\n\r\n    while (picture[0] && picture[0].join(\"\").match(/0{5}$/)) {\r\n      picture.shift();\r\n      y++;\r\n      h--;\r\n    }\r\n\r\n    while (picture[0] && picture[picture.length - 1].join(\"\").match(/0{5}$/)) {\r\n      picture.pop();\r\n      h--;\r\n    }\r\n\r\n    this.workCanvas\r\n      .getContext(\"2d\")\r\n      ?.drawImage(\r\n        this.canvas,\r\n        Math.round(rect.x + rect.w - 15 - offset.xPad),\r\n        Math.round(rect.y + rect.h - offset.h - offset.yPad - 2),\r\n        15,\r\n        1,\r\n        0,\r\n        0,\r\n        15,\r\n        1\r\n      );\r\n\r\n    const rowAboveLineDark =\r\n      Math.max(\r\n        ...Array.from(\r\n          this.workCanvas.getContext(\"2d\")?.getImageData(0, 0, 15, 1).data\r\n        )\r\n          .map((v: number, i: number, a: number[]) =>\r\n            i % 4 !== 0 ? 0 : v > 128 && (v > a[i + 2] || 0) ? 1 : 0\r\n          )\r\n          .filter((_: number, i: number) => i % 4 === 0)\r\n      ) === 0;\r\n\r\n    const isNumber =\r\n      picture.length <= offset.maxNumberHeight &&\r\n      picture.length >= offset.minNumberHeight &&\r\n      rowAboveLineDark;\r\n\r\n    if (isNumber) {\r\n      let foundNumbers = \"\";\r\n\r\n      const freeColumns = [...Array(picture[0].length)].map((_, i) =>\r\n        [...Array(picture.length)]\r\n          .map((_, j) => (picture as number[][])[j][i])\r\n          .reduce((a, b) => a + b, 0)\r\n      );\r\n\r\n      let numberColumnsRanges = [];\r\n      let start: number | false = false;\r\n      for (let i = freeColumns.length - 1; i >= 0; i--) {\r\n        if (freeColumns[i] > 0 && start === false) start = i;\r\n        else if (freeColumns[i] === 0 && start !== false) {\r\n          numberColumnsRanges.push([i + 1, start]);\r\n          start = false;\r\n        }\r\n      }\r\n\r\n      this.workCanvas.width = 7;\r\n      this.workCanvas.height = 7;\r\n      numberColumnsRanges = numberColumnsRanges\r\n        .reverse()\r\n        .filter((v) => v[1] - v[0] > 2);\r\n\r\n      numberColumnsRanges.forEach((range: number[]) => {\r\n        this.workCanvas\r\n          .getContext(\"2d\")\r\n          ?.drawImage(\r\n            this.canvas,\r\n            x + range[0],\r\n            y,\r\n            range[1] - range[0] + 1,\r\n            h,\r\n            0,\r\n            0,\r\n            7,\r\n            7\r\n          );\r\n\r\n        let number: number[] = Array.from(\r\n          this.workCanvas\r\n            .getContext(\"2d\")\r\n            ?.getImageData(0, 0, 7, 7)\r\n            .data.filter((_: number, i: number) => i % 4 === 0)\r\n            .map((v: number) => (v > 100 ? 1 : 0)) as Uint8ClampedArray\r\n        );\r\n\r\n        const tensor = tf.tensor(number, [1, 7, 7]);\r\n\r\n        const predictions = (\r\n          this.models.numbers.predict(tensor) as tf.Tensor\r\n        ).dataSync();\r\n\r\n        foundNumbers += predictions\r\n          .indexOf(Math.max(...Array.from(predictions)))\r\n          .toString();\r\n      });\r\n      return parseInt(foundNumbers, 10);\r\n    } else {\r\n      return 1;\r\n    }\r\n  }\r\n\r\n  computeRects(): Rect[] {\r\n    const categories = [\r\n      \"materials\",\r\n      \"champions\",\r\n      \"skins\",\r\n      \"little_legends\",\r\n      \"eternals\",\r\n      \"emotes\",\r\n      \"ward_skins\",\r\n      \"icons\",\r\n    ];\r\n\r\n    const offset = {\r\n      \"1920\": {\r\n        xStart: 12,\r\n        yStart: 2,\r\n        lineHeight: 68.4,\r\n        iconWidth: 105,\r\n        iconHeight: 105,\r\n        iconOffsetX: 125,\r\n        iconOffsetY: 127.57,\r\n      },\r\n      \"1600\": {\r\n        xStart: 8,\r\n        yStart: 3,\r\n        lineHeight: 56.3,\r\n        iconWidth: 87,\r\n        iconHeight: 87,\r\n        iconOffsetX: 103.6,\r\n        iconOffsetY: 106.25,\r\n      },\r\n      \"1280\": {\r\n        xStart: 7,\r\n        yStart: 1,\r\n        lineHeight: 45,\r\n        iconWidth: 70,\r\n        iconHeight: 70,\r\n        iconOffsetX: 83,\r\n        iconOffsetY: 85,\r\n      },\r\n      \"1024\": {\r\n        xStart: 5,\r\n        yStart: 1,\r\n        lineHeight: 37,\r\n        iconWidth: 56,\r\n        iconHeight: 56,\r\n        iconOffsetX: 66.4,\r\n        iconOffsetY: 68.02,\r\n      },\r\n    }[this.clientWidth];\r\n\r\n    const lines = [];\r\n    const centerColumn = this.canvas\r\n      .getContext(\"2d\")\r\n      .getImageData(\r\n        Math.round(this.canvas.width / 2),\r\n        0,\r\n        1,\r\n        this.canvas.height\r\n      ).data;\r\n    for (let i = 0; i < centerColumn.length; i += 4) {\r\n      if (centerColumn[i] > 70) lines.push(i / 4);\r\n    }\r\n\r\n    let items = [];\r\n    let currLine = lines.shift() || Infinity;\r\n    let currCategory = \"\";\r\n    let canvasIndex = 0;\r\n    let y = offset.yStart;\r\n\r\n    while (y < this.canvas.height && canvasIndex < this.canvasList.length) {\r\n      if (y > 30000) {\r\n        y -= 30000;\r\n        canvasIndex++;\r\n      }\r\n\r\n      if (y + offset.iconHeight < currLine) {\r\n        if (currCategory !== \"none\") {\r\n          for (let i = 0; i < 4; i++) {\r\n            items.push({\r\n              cat: currCategory,\r\n              canvas: this.canvasList[canvasIndex],\r\n              x: offset.xStart + offset.iconOffsetX * i,\r\n              y: y,\r\n              w: offset.iconWidth,\r\n              h: offset.iconHeight,\r\n            });\r\n          }\r\n        }\r\n      } else {\r\n        currLine = lines.shift() || Infinity;\r\n        currCategory = categories.shift() || \"none\";\r\n\r\n        y -= offset.lineHeight;\r\n\r\n        if (items.length > 3) {\r\n          const checkLastThree = [\r\n            items.pop(),\r\n            items.pop(),\r\n            items.pop(),\r\n          ].reverse();\r\n\r\n          checkLastThree.forEach((item) => {\r\n            const squareImage = this.canvas\r\n              .getContext(\"2d\")\r\n              .getImageData(item.x, item.y, item.w, item.h).data;\r\n            root: for (let i = 0; i < Math.max(item.y, item.x); i++) {\r\n              for (let c = 0; c < 3; c++) {\r\n                if (squareImage[i * 4 + i * item.w * 4 + c] > 50) {\r\n                  items.push(item);\r\n                  break root;\r\n                }\r\n              }\r\n            }\r\n          });\r\n        }\r\n      }\r\n      y += offset.iconOffsetY;\r\n    }\r\n    return items;\r\n  }\r\n}\r\n","import Capture from \"../Capture\";\r\nimport * as tf from \"@tensorflow/tfjs\";\r\n\r\ntype Color = [r: number, g: number, b: number];\r\ntype Rect = {\r\n  x: number;\r\n  y: number;\r\n  w: number;\r\n  h: number;\r\n  canvas: HTMLCanvasElement;\r\n  cat?: string;\r\n  type?: string;\r\n  count?: number;\r\n  name?: string;\r\n  data?: any;\r\n};\r\n\r\ntype LootLabels = [id: string, name: string, price: number, legacy: number][];\r\n\r\ntype LookupTable = string[];\r\n\r\nexport default class Champions extends Capture {\r\n  constructor(\r\n    video: React.RefObject<HTMLVideoElement>,\r\n    currentViewFunction: () => string | false\r\n  ) {\r\n    const checkFunction = () => currentViewFunction() === \"champions\";\r\n\r\n    const options = {\r\n      screenshotArea: {\r\n        \"1920\": { x: 398, y: 218, w: 1138, h: 852, add: 5 },\r\n        \"1600\": { x: 332, y: 180, w: 950, h: 713, add: 5 },\r\n        \"1280\": { x: 264, y: 145, w: 762, h: 565, add: 5 },\r\n        \"1024\": { x: 210, y: 116, w: 613, h: 454, add: 5 },\r\n      },\r\n\r\n      matchingArea: {\r\n        \"1920\": { w: 160, h: 160 },\r\n        \"1600\": { w: 160, h: 120 },\r\n        \"1280\": { w: 160, h: 80 },\r\n        \"1024\": { w: 160, h: 80 },\r\n      },\r\n\r\n      scrollBar: {\r\n        \"1920\": { x: 1574, y1: 211, y2: 1073 },\r\n        \"1600\": { x: 1312, y1: 175, y2: 894 },\r\n        \"1280\": { x: 1049, y1: 140, y2: 715 },\r\n        \"1024\": { x: 840, y1: 112, y2: 572 },\r\n      },\r\n\r\n      loadCheck: {\r\n        \"1920\": [{ x: 73, y: 504, color: [240, 230, 210] as Color }],\r\n        \"1600\": [{ x: 60, y: 420, color: [223, 214, 196] as Color }],\r\n        \"1280\": [{ x: 49, y: 335, color: [236, 226, 206] as Color }],\r\n        \"1024\": [{ x: 40, y: 266, color: [236, 226, 206] as Color }],\r\n      },\r\n    };\r\n    super(video, options, checkFunction);\r\n\r\n    this.isViewingUnowned = false;\r\n    this.warnMessage = null;\r\n    this.prepareClassificationAssets();\r\n  }\r\n\r\n  lookupTable: LookupTable;\r\n  championCollectionModel: tf.LayersModel;\r\n  classifiedRects: Rect[];\r\n  isViewingUnowned: boolean | null;\r\n  warnMessage: string | null;\r\n\r\n  cropAlphaFromCanvases() {\r\n    super.cropAlphaFromCanvases();\r\n    this.isViewingUnowned = this.checkIsViewingUnowned();\r\n  }\r\n\r\n  recognize() {\r\n    super.recognize();\r\n    if (this.classifiedRects) return this.classifiedRects;\r\n\r\n    const rects = this.computeRects();\r\n    this.classifiedRects = this.classifyRects(rects);\r\n\r\n    this.cropCanvasesByRects(this.classifiedRects);\r\n  }\r\n\r\n  annotateImages() {\r\n    super.annotateImages();\r\n    if (this.classifiedRects == null) return;\r\n\r\n    this.classifiedRects.forEach((rect: Rect, i: number) => {\r\n      const annotatedCtx = rect.canvas.getContext(\"2d\");\r\n\r\n      annotatedCtx.beginPath();\r\n\r\n      annotatedCtx.globalAlpha = 0.4;\r\n      annotatedCtx.fillStyle = \"#000\";\r\n      annotatedCtx.fillRect(rect.x, rect.y, rect.w, rect.h);\r\n      annotatedCtx.globalAlpha = 1;\r\n\r\n      annotatedCtx.lineWidth = 0.5;\r\n      annotatedCtx.strokeStyle =\r\n        (rect.name || \"\").indexOf(\"(?)\") < 0 ? \"#fff\" : \"yellow\";\r\n      annotatedCtx.rect(rect.x, rect.y, rect.w, rect.h);\r\n      annotatedCtx.stroke();\r\n      if (\r\n        typeof rect.type !== \"undefined\" &&\r\n        typeof rect.count !== \"undefined\" &&\r\n        typeof rect.name !== \"undefined\"\r\n      ) {\r\n        annotatedCtx.font = \"10px Arial\";\r\n        annotatedCtx.fillStyle = \"#fff\";\r\n        annotatedCtx.fillText(rect.name, rect.x + 3, rect.y + 15, rect.w - 3);\r\n        annotatedCtx.fillText(\r\n          \"id: \" + rect.data.id,\r\n          rect.x + 3,\r\n          rect.y + 30,\r\n          rect.w - 3\r\n        );\r\n        annotatedCtx.fillText(\r\n          \"owned: \" + rect.data.owned,\r\n          rect.x + 3,\r\n          rect.y + 45,\r\n          rect.w - 3\r\n        );\r\n        annotatedCtx.fillText(\r\n          \"mastery: \" + rect.data.mastery,\r\n          rect.x + 3,\r\n          rect.y + 60,\r\n          rect.w - 3\r\n        );\r\n        annotatedCtx.fillText(\r\n          \"chest available: \" + rect.data.chestAvailable,\r\n          rect.x + 3,\r\n          rect.y + 75,\r\n          rect.w - 3\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  async prepareClassificationAssets() {\r\n    let [lookupTableLoot, lookupTableChampions, championCollectionModel] =\r\n      await Promise.all([\r\n        fetch(\"lookup_data/loot.json\").then((res) => res.json()),\r\n        fetch(\"lookup_data/collection_champions.json\").then((res) =>\r\n          res.json()\r\n        ),\r\n        tf.loadLayersModel(\"models/coll_champions/model.json\"),\r\n      ]);\r\n\r\n    this.lookupTable = lookupTableChampions.map((v: string) => {\r\n      return [\r\n        (lookupTableLoot[\"champions\"] as LootLabels).filter(\r\n          (l) => l[0] === v\r\n        )[0][1],\r\n        v,\r\n      ];\r\n    });\r\n\r\n    this.championCollectionModel = championCollectionModel;\r\n    this.loaded = true;\r\n  }\r\n\r\n  classifyRects(rects: Rect[]) {\r\n    rects.forEach((rect: Rect, i: number) => {\r\n      const prediction = this.getPredictionFromRect(\r\n        rect,\r\n        this.championCollectionModel,\r\n        this.lookupTable\r\n      );\r\n      if (typeof prediction !== \"undefined\") {\r\n        const ownership = this.isViewingUnowned\r\n          ? this.checkOwnershipFromRect(rect)\r\n          : true;\r\n        rects[i] = {\r\n          ...rects[i],\r\n          type: \"collection_champion\",\r\n          count: 1,\r\n          name: prediction[0],\r\n          data: {\r\n            id: prediction[1],\r\n            owned: ownership,\r\n            mastery: ownership ? this.checkMasteryFromRect(rect) : 0,\r\n            chestAvailable: ownership ? this.checkChestAvailable(rect) : false,\r\n          },\r\n        };\r\n      }\r\n    });\r\n    return rects;\r\n  }\r\n\r\n  getPredictionFromRect(\r\n    rect: Rect,\r\n    model: tf.LayersModel,\r\n    labels: LookupTable\r\n  ): string {\r\n    if (!this.complete) return;\r\n\r\n    this.workCanvas.width = 28;\r\n    this.workCanvas.height = 28;\r\n\r\n    const lightValues = [];\r\n    this.workCanvas\r\n      .getContext(\"2d\")\r\n      ?.drawImage(this.canvas, rect.x, rect.y, rect.w, rect.h, 0, 0, 28, 28);\r\n    let imageData = this.workCanvas\r\n      .getContext(\"2d\")\r\n      ?.getImageData(0, 0, 28, 28);\r\n    let pixels = imageData?.data;\r\n    if (typeof pixels !== \"undefined\") {\r\n      for (var j = 0; j < pixels.length; j += 4) {\r\n        let lightness =\r\n          pixels[j] * 0.299 + pixels[j + 1] * 0.587 + pixels[j + 2] * 0.114;\r\n        lightValues.push(lightness / 255);\r\n      }\r\n    }\r\n    const tensor = tf.tensor(lightValues, [1, 28, 28]);\r\n\r\n    const predictions = (model.predict(tensor) as tf.Tensor).dataSync();\r\n\r\n    const bestPrediction =\r\n      labels[predictions.indexOf(Math.max(...Array.from(predictions)))];\r\n\r\n    predictions.sort((a, b) => b - a);\r\n    if (predictions[0] - predictions[1] < 10) {\r\n      return \"(?) \" + bestPrediction;\r\n    }\r\n    return bestPrediction;\r\n  }\r\n\r\n  checkOwnershipFromRect(rect: Rect) {\r\n    if (!this.complete) return;\r\n\r\n    this.workCanvas.width = 28;\r\n    this.workCanvas.height = 1;\r\n\r\n    const offset = {\r\n      \"1920\": 305,\r\n      \"1600\": 255,\r\n      \"1280\": 205,\r\n      \"1024\": 165,\r\n    }[this.clientWidth];\r\n\r\n    const circleHue = this.rgb2hue(\r\n      this.getPixelColor(rect.x + rect.w + 5, rect.y)\r\n    );\r\n\r\n    if (175 < circleHue && circleHue < 195) {\r\n      return \"unknown(free week rotation)\";\r\n    }\r\n\r\n    this.workCanvas\r\n      .getContext(\"2d\")\r\n      ?.drawImage(\r\n        this.canvas,\r\n        Math.floor(rect.x + rect.w / 2) - 10,\r\n        rect.y + offset,\r\n        20,\r\n        1,\r\n        0,\r\n        0,\r\n        20,\r\n        1\r\n      );\r\n\r\n    return (\r\n      Math.max(\r\n        ...Array.from(\r\n          this.workCanvas\r\n            .getContext(\"2d\")\r\n            .getImageData(0, 0, 20, 1)\r\n            .data.filter((_, i) => i % 4 === 0)\r\n        )\r\n      ) < 50\r\n    );\r\n  }\r\n\r\n  checkMasteryFromRect(rect: Rect) {\r\n    const offset = {\r\n      \"1920\": [6, 66],\r\n      \"1600\": [5, 55],\r\n      \"1280\": [4, 44],\r\n      \"1024\": [3, 35],\r\n    }[this.clientWidth];\r\n\r\n    const flagHue = this.rgb2hue(\r\n      this.getPixelColor(rect.x + 2, rect.y + rect.h + 2)\r\n    );\r\n\r\n    if (195 < flagHue && flagHue < 210) return 7;\r\n    if (285 < flagHue && flagHue < 300) return 6;\r\n    if (345 < flagHue && flagHue < 360) return 5;\r\n\r\n    return Array.from(\r\n      rect.canvas\r\n        .getContext(\"2d\")\r\n        .getImageData(rect.x + offset[0], rect.y + rect.h, 1, offset[1])\r\n        .data.filter((_, i) => i % 4 === 0)\r\n    )\r\n      .map((v) => (v > 75 ? 1 : 0))\r\n      .join(\"\")\r\n      .replace(/1+/g, \"1\")\r\n      .replace(/0/g, \"\").length;\r\n  }\r\n\r\n  checkChestAvailable(rect: Rect) {\r\n    const offset = {\r\n      \"1920\": 30,\r\n      \"1600\": 25,\r\n      \"1280\": 20,\r\n      \"1024\": 18,\r\n    }[this.clientWidth];\r\n\r\n    const circle1Hue = this.rgb2hue(\r\n      this.getPixelColor(rect.x + rect.w + 5, rect.y)\r\n    );\r\n\r\n    const circle2Hue = this.rgb2hue(\r\n      this.getPixelColor(rect.x + rect.w + 5, rect.y + offset)\r\n    );\r\n\r\n    if (\r\n      (circle1Hue > 35 && circle1Hue < 55) ||\r\n      (circle2Hue > 35 && circle2Hue < 55)\r\n    ) {\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  computeRects() {\r\n    this.workCanvas.width = 10;\r\n    this.workCanvas.height = 10;\r\n\r\n    const offset = {\r\n      \"1920\": {\r\n        xStart: 7,\r\n        yStart: 6,\r\n        iconWidth: 201,\r\n        iconHeight: 246,\r\n        iconOffsetX: 231,\r\n        iconOffsetY: 375,\r\n      },\r\n      \"1600\": {\r\n        xStart: 5,\r\n        yStart: 7,\r\n        iconWidth: 168,\r\n        iconHeight: 206,\r\n        iconOffsetX: 192.54,\r\n        iconOffsetY: 312.54,\r\n      },\r\n      \"1280\": {\r\n        xStart: 6,\r\n        yStart: 7,\r\n        iconWidth: 134,\r\n        iconHeight: 163,\r\n        iconOffsetX: 154,\r\n        iconOffsetY: 250,\r\n      },\r\n      \"1024\": {\r\n        xStart: 6,\r\n        yStart: 6,\r\n        iconWidth: 107,\r\n        iconHeight: 131,\r\n        iconOffsetX: 123.25,\r\n        iconOffsetY: 200,\r\n      },\r\n    }[this.clientWidth];\r\n\r\n    let rects: Rect[] = [];\r\n    let x = offset.xStart;\r\n    let y = offset.yStart;\r\n    let canvasIndex = 0;\r\n\r\n    while (\r\n      y + offset.iconHeight < this.canvas.height &&\r\n      canvasIndex < this.canvasList.length\r\n    ) {\r\n      if (y > 30000) {\r\n        y -= 30000;\r\n        canvasIndex++;\r\n      }\r\n      if (x < this.canvas.width) {\r\n        rects.push({\r\n          canvas: this.canvasList[canvasIndex],\r\n          cat: \"coll_champ\",\r\n          x,\r\n          y,\r\n          w: offset.iconWidth,\r\n          h: offset.iconHeight,\r\n        });\r\n        x += offset.iconOffsetX;\r\n      } else {\r\n        y += offset.iconOffsetY;\r\n        x = offset.xStart;\r\n      }\r\n    }\r\n\r\n    if (rects.length >= 5) {\r\n      const checkLastFive = [\r\n        rects.pop(),\r\n        rects.pop(),\r\n        rects.pop(),\r\n        rects.pop(),\r\n        rects.pop(),\r\n      ].reverse();\r\n\r\n      checkLastFive.forEach((rect) => {\r\n        const image = rect.canvas\r\n          .getContext(\"2d\")\r\n          .getImageData(rect.x, rect.y, rect.w, rect.h)\r\n          .data.filter((n, i) => i % 4 !== 3);\r\n        for (let i = 0; i < image.length; i++) {\r\n          if (image[i] > 120) {\r\n            rects.push(rect);\r\n            break;\r\n          }\r\n        }\r\n      });\r\n    }\r\n\r\n    return rects;\r\n  }\r\n\r\n  attemptScreenshot() {\r\n    if (this.checkIsViewingUnowned()) {\r\n      this.warnMessage = `Make sure \"Show Unowned\" option is disabled in the client.`;\r\n      return;\r\n    }\r\n    this.warnMessage = null;\r\n    super.attemptScreenshot();\r\n  }\r\n\r\n  checkIsViewingUnowned() {\r\n    const check = {\r\n      \"1024\": { x: 30, y: 294 },\r\n      \"1280\": { x: 37, y: 373 },\r\n      \"1600\": { x: 46, y: 465 },\r\n      \"1920\": { x: 55, y: 559 },\r\n    }[this.clientWidth];\r\n\r\n    this.workCanvas\r\n      .getContext(\"2d\")\r\n      .drawImage(this.videoElement.current, check.x, check.y, 1, 1, 0, 0, 1, 1);\r\n    const checkPixel = this.workCanvas\r\n      .getContext(\"2d\")\r\n      .getImageData(0, 0, 1, 1).data;\r\n\r\n    return checkPixel[0] > 50;\r\n  }\r\n}\r\n","import Capture from \"../Capture\";\r\n// import * as tf from \"@tensorflow/tfjs\";\r\n\r\ntype Color = [r: number, g: number, b: number];\r\n\r\nexport default class Emotes extends Capture {\r\n  constructor(\r\n    video: React.RefObject<HTMLVideoElement>,\r\n    currentViewFunction: () => string | false\r\n  ) {\r\n    const checkFunction = () => currentViewFunction() === \"emotes\";\r\n\r\n    const options = {\r\n      screenshotArea: {\r\n        \"1920\": { x: 49, y: 331, w: 505, h: 719, add: 120, yBottomCheck: 1073 },\r\n        \"1600\": { x: 40, y: 275, w: 422, h: 597, add: 100, yBottomCheck: 895 },\r\n        \"1280\": { x: 31, y: 220, w: 340, h: 481, add: 85, yBottomCheck: 717 },\r\n        \"1024\": { x: 24, y: 174, w: 274, h: 380, add: 64, yBottomCheck: 573 },\r\n      },\r\n\r\n      matchingArea: {\r\n        \"1920\": { w: 160, h: 160 },\r\n        \"1600\": { w: 140, h: 140 },\r\n        \"1280\": { w: 110, h: 110 },\r\n        \"1024\": { w: 80, h: 80 },\r\n      },\r\n\r\n      scrollBar: {\r\n        \"1920\": { x: 574, y1: 326, y2: 1067 },\r\n        \"1600\": { x: 478, y1: 272, y2: 890 },\r\n        \"1280\": { x: 382, y1: 218, y2: 713 },\r\n        \"1024\": { x: 306, y1: 173, y2: 570 },\r\n      },\r\n\r\n      loadCheck: {\r\n        \"1920\": [\r\n          { x: 1027, y: 493, color: [100, 78, 30] as Color },\r\n          { x: 1135, y: 493, color: [100, 78, 30] as Color },\r\n          { x: 1027, y: 603, color: [74, 58, 29] as Color },\r\n          { x: 1135, y: 603, color: [75, 59, 29] as Color },\r\n        ],\r\n        \"1600\": [\r\n          { x: 857, y: 412, color: [100, 78, 30] as Color },\r\n          { x: 947, y: 412, color: [100, 78, 30] as Color },\r\n          { x: 857, y: 503, color: [74, 58, 29] as Color },\r\n          { x: 947, y: 503, color: [74, 58, 29] as Color },\r\n        ],\r\n        \"1280\": [\r\n          { x: 685, y: 328, color: [100, 78, 30] as Color },\r\n          { x: 757, y: 329, color: [100, 78, 30] as Color },\r\n          { x: 685, y: 402, color: [74, 58, 29] as Color },\r\n          { x: 757, y: 402, color: [73, 58, 29] as Color },\r\n        ],\r\n        \"1024\": [\r\n          { x: 548, y: 262, color: [100, 78, 30] as Color },\r\n          { x: 606, y: 263, color: [100, 78, 30] as Color },\r\n          { x: 547, y: 321, color: [74, 58, 29] as Color },\r\n          { x: 605, y: 321, color: [73, 57, 29] as Color },\r\n        ],\r\n      },\r\n    };\r\n    super(video, options, checkFunction);\r\n\r\n    this.warnMessage = null;\r\n    //   this.prepareClassificationAssets();\r\n  }\r\n\r\n  warnMessage: string | null;\r\n\r\n  attemptScreenshot() {\r\n    if (this.checkIsViewingUnowned()) {\r\n      this.warnMessage = `Make sure \"Show Unowned\" option is disabled in the client.`;\r\n      return;\r\n    }\r\n    this.warnMessage = null;\r\n    super.attemptScreenshot();\r\n  }\r\n\r\n  checkIsViewingUnowned() {\r\n    const check = {\r\n      \"1024\": { x: 206, y: 150 },\r\n      \"1280\": { x: 258, y: 190 },\r\n      \"1600\": { x: 322, y: 236 },\r\n      \"1920\": { x: 386, y: 284 },\r\n    }[this.clientWidth];\r\n\r\n    this.workCanvas\r\n      .getContext(\"2d\")\r\n      .drawImage(this.videoElement.current, check.x, check.y, 1, 1, 0, 0, 1, 1);\r\n    const checkPixel = this.workCanvas\r\n      .getContext(\"2d\")\r\n      .getImageData(0, 0, 1, 1).data;\r\n\r\n    return checkPixel[0] > 50;\r\n  }\r\n}\r\n","import Capture from \"../Capture\";\r\n// import * as tf from \"@tensorflow/tfjs\";\r\n\r\ntype Color = [r: number, g: number, b: number];\r\n\r\nexport default class Icons extends Capture {\r\n  constructor(\r\n    video: React.RefObject<HTMLVideoElement>,\r\n    currentViewFunction: () => string | false\r\n  ) {\r\n    const checkFunction = () => currentViewFunction() === \"icons\";\r\n\r\n    const options = {\r\n      screenshotArea: {\r\n        \"1920\": {\r\n          x: 389,\r\n          y: 275,\r\n          w: 1130,\r\n          h: 757,\r\n          add: 80,\r\n          yBottomCheck: 1065,\r\n        },\r\n        \"1600\": {\r\n          x: 322,\r\n          y: 229,\r\n          w: 945,\r\n          h: 635,\r\n          add: 70,\r\n          yBottomCheck: 890,\r\n        },\r\n        \"1280\": {\r\n          x: 256,\r\n          y: 182,\r\n          w: 760,\r\n          h: 495,\r\n          add: 50,\r\n          yBottomCheck: 710,\r\n        },\r\n        \"1024\": {\r\n          x: 203,\r\n          y: 143,\r\n          w: 612,\r\n          h: 371,\r\n          add: 40,\r\n          yBottomCheck: 570,\r\n        },\r\n      },\r\n\r\n      matchingArea: {\r\n        \"1920\": { w: 160, h: 160 },\r\n        \"1600\": { w: 160, h: 140 },\r\n        \"1280\": { w: 160, h: 110 },\r\n        \"1024\": { w: 160, h: 80 },\r\n      },\r\n\r\n      scrollBar: {\r\n        \"1920\": { x: 1574, y1: 211, y2: 1073 },\r\n        \"1600\": { x: 1312, y1: 175, y2: 894 },\r\n        \"1280\": { x: 1049, y1: 140, y2: 715 },\r\n        \"1024\": { x: 840, y1: 112, y2: 572 },\r\n      },\r\n\r\n      loadCheck: {\r\n        \"1920\": [{ x: 223, y: 462, color: [254, 4, 10] as Color }],\r\n        \"1600\": [{ x: 186, y: 385, color: [254, 4, 9] as Color }],\r\n        \"1280\": [{ x: 149, y: 309, color: [248, 3, 13] as Color }],\r\n        \"1024\": [{ x: 120, y: 247, color: [253, 4, 9] as Color }],\r\n      },\r\n    };\r\n    super(video, options, checkFunction);\r\n\r\n    this.warnMessage = null;\r\n    //   this.prepareClassificationAssets();\r\n  }\r\n\r\n  warnMessage: string | null;\r\n\r\n  attemptScreenshot() {\r\n    if (!this.checkIsViewingMyCollection()) {\r\n      this.warnMessage = `Make sure you have \"My Collection\" selected from the dropdown in the client.`;\r\n      return;\r\n    }\r\n    this.warnMessage = null;\r\n    super.attemptScreenshot();\r\n  }\r\n\r\n  checkIsViewingMyCollection() {\r\n    const check = {\r\n      \"1024\": { x: 46, y: 501 },\r\n      \"1280\": { x: 58, y: 628 },\r\n      \"1600\": { x: 72, y: 786 },\r\n      \"1920\": { x: 86, y: 942 },\r\n    }[this.clientWidth];\r\n\r\n    this.workCanvas\r\n      .getContext(\"2d\")\r\n      .drawImage(this.videoElement.current, check.x, check.y, 1, 1, 0, 0, 1, 1);\r\n    const checkPixel = this.workCanvas\r\n      .getContext(\"2d\")\r\n      .getImageData(0, 0, 1, 1).data;\r\n\r\n    return checkPixel[0] > 50;\r\n  }\r\n}\r\n","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","import { imag } from \"@tensorflow/tfjs-core\";\r\n\r\nimport mastery1 from \"../assets/mastery_1.png\";\r\nimport mastery2 from \"../assets/mastery_2.png\";\r\nimport mastery3 from \"../assets/mastery_3.png\";\r\nimport mastery4 from \"../assets/mastery_4.png\";\r\nimport mastery5 from \"../assets/mastery_5.png\";\r\nimport mastery6 from \"../assets/mastery_6.png\";\r\nimport mastery7 from \"../assets/mastery_7.png\";\r\nimport orangeEssence from \"../assets/oe.png\";\r\nimport blueEssence from \"../assets/be.png\";\r\nimport riotPoints from \"../assets/rp.png\";\r\nimport chest from \"../assets/chest_available.png\";\r\n\r\ntype LookupLabel = [id: number, name: string, price: number, legacy: number];\r\ntype LookupLabels = LookupLabel[] | string[];\r\n\r\ntype LookupTable = {\r\n  champions: LookupLabels;\r\n  skins: LookupLabels;\r\n  wards: LookupLabels;\r\n  [x: string]: any;\r\n};\r\n\r\ntype Rect = {\r\n  x: number;\r\n  y: number;\r\n  w: number;\r\n  h: number;\r\n  canvas: HTMLCanvasElement;\r\n  cat?: string;\r\n  type?: string;\r\n  count?: number;\r\n  name?: string;\r\n  data?: any;\r\n};\r\n\r\ntype championsTableRow = {\r\n  id: string | number;\r\n  name: string;\r\n  owned: boolean | string;\r\n  mastery: number;\r\n  chestAvail: boolean;\r\n  shards: number;\r\n  perms: number;\r\n  token6: number;\r\n  token7: number;\r\n  eternalShards: number;\r\n  storeBE: number;\r\n  storeRP: number;\r\n  ugradeBE: number;\r\n  disenchantS: number;\r\n  disenchantP: number;\r\n};\r\n\r\ntype skinTableRow = {\r\n  id: string | number;\r\n  name: string;\r\n  price: number;\r\n};\r\n\r\nexport default class Data {\r\n  loot_lookup_table: LookupTable;\r\n  champions: { columns: any; data: championsTableRow[] };\r\n  skins: { columns: any; data: skinTableRow[] };\r\n  blueEssenceSpent: number;\r\n\r\n  constructor(loot_lookup_table: LookupTable, rects: Rect[]) {\r\n    this.loot_lookup_table = loot_lookup_table;\r\n    this.champions = this.championsTable(rects);\r\n    this.blueEssenceSpent = this.calcBlueEssenceSpent(this.champions);\r\n    this.skins = this.skinsList(rects);\r\n  }\r\n\r\n  calcBlueEssenceSpent(champions: any) {\r\n    const data = champions.data;\r\n    return [\r\n      0,\r\n      0,\r\n      ...data.flatMap((v: any) => (v.owned ? v.storeBE : [])),\r\n    ].reduce((a: number, b: number) => a + b);\r\n  }\r\n\r\n  skinsList(rects: Rect[]) {\r\n    let skins: Rect[] = [];\r\n\r\n    rects.forEach((rect) => {\r\n      if (rect.type === \"collection_skin\") {\r\n        skins.push(rect);\r\n      }\r\n    });\r\n\r\n    const skinPrices = Array.from(this.loot_lookup_table.skins as any).reduce(\r\n      (prev: any, curr: any) => ({\r\n        ...prev,\r\n        [curr[0]]: { id: curr[0], name: curr[1], price: curr[2] },\r\n      }),\r\n      {}\r\n    );\r\n\r\n    console.log(skins);\r\n\r\n    return {\r\n      columns: [\r\n        {\r\n          Header: \"Skin name\",\r\n          accessor: \"name\",\r\n          Cell: (data: any) => (\r\n            <div style={{ textAlign: \"left\" }}>{data.value}</div>\r\n          ),\r\n        },\r\n        {\r\n          Header: \"RP price\",\r\n          accessor: \"price\",\r\n          Cell: (data: any) => (\r\n            <div style={{ textAlign: \"left\" }}>\r\n              {data.value !== \"special\" && (\r\n                <img\r\n                  src={riotPoints}\r\n                  alt=\"Riot Points\"\r\n                  title=\"Riot Points\"\r\n                  className=\"currency\"\r\n                />\r\n              )}{\" \"}\r\n              {data.value}\r\n            </div>\r\n          ),\r\n        },\r\n      ],\r\n      data: skins.map((rect) => (skinPrices as any)[rect.data[0]]),\r\n      // data: [\r\n      //   {\r\n      //     id: 123,\r\n      //     name: \"Somename\",\r\n      //     price: 1234,\r\n      //   },\r\n      // ],\r\n    };\r\n  }\r\n\r\n  championsTable(rects: Rect[]) {\r\n    const RP2data = {\r\n      \"260\": {\r\n        BE: 450,\r\n        upgrade: 270,\r\n        disenchantS: 90,\r\n        disenchantP: 225,\r\n      },\r\n      \"585\": {\r\n        BE: 1350,\r\n        upgrade: 810,\r\n        disenchantS: 270,\r\n        disenchantP: 675,\r\n      },\r\n      \"790\": {\r\n        BE: 3150,\r\n        upgrade: 1890,\r\n        disenchantS: 630,\r\n        disenchantP: 1575,\r\n      },\r\n      \"880\": {\r\n        BE: 4800,\r\n        upgrade: 2880,\r\n        disenchantS: 960,\r\n        disenchantP: 2400,\r\n      },\r\n      \"975\": {\r\n        BE: 6300,\r\n        upgrade: 3780,\r\n        disenchantS: 1260,\r\n        disenchantP: 3150,\r\n      },\r\n    };\r\n\r\n    const champList = (this.loot_lookup_table.champions as LookupLabel[]).map(\r\n      (champ: LookupLabel) => champ[1]\r\n    );\r\n\r\n    const data = (this.loot_lookup_table.champions as LookupLabel[]).map(\r\n      (champ: LookupLabel) => ({\r\n        id: champ[0],\r\n        name: champ[1],\r\n        owned: false,\r\n        mastery: 0,\r\n        chestAvail: false,\r\n        shards: 0,\r\n        perms: 0,\r\n        token6: 0,\r\n        token7: 0,\r\n        eternalShards: 0,\r\n        storeBE: RP2data[champ[2] as 260 | 585 | 790 | 880 | 975].BE,\r\n        storeRP: champ[2],\r\n        ugradeBE: RP2data[champ[2] as 260 | 585 | 790 | 880 | 975].upgrade,\r\n        disenchantS:\r\n          RP2data[champ[2] as 260 | 585 | 790 | 880 | 975].disenchantS,\r\n        disenchantP:\r\n          RP2data[champ[2] as 260 | 585 | 790 | 880 | 975].disenchantP,\r\n      })\r\n    );\r\n\r\n    rects.forEach((rect) => {\r\n      const index = champList.indexOf(rect.name.replace(\"(?) \", \"\"));\r\n      if (index !== -1) {\r\n        if (rect.type === \"token6\") data[index].token6 = rect.count;\r\n        if (rect.type === \"token7\") data[index].token7 = rect.count;\r\n        if (rect.type === \"eternal\") data[index].eternalShards = rect.count;\r\n\r\n        if (typeof rect.cat !== \"undefined\" && rect.cat === \"champions\") {\r\n          if (rect.type === \"shard\") data[index].shards = rect.count;\r\n          if (rect.type === \"permanent\") data[index].perms = rect.count;\r\n        }\r\n        if (rect.type === \"collection_champion\") {\r\n          data[index].owned = rect.data.owned;\r\n          data[index].mastery = rect.data.mastery;\r\n          data[index].chestAvail = rect.data.chestAvailable;\r\n        }\r\n      }\r\n    });\r\n\r\n    const columns = [\r\n      // {\r\n      //   Header: \"Image\",\r\n      //   accessor: \"id\",\r\n      //   Cell: (data: any) => (\r\n      //     <img\r\n      //       src={`https://raw.communitydragon.org/latest/plugins/rcp-be-lol-game-data/global/default/v1/champion-tiles/${data.value.replace(\r\n      //         /...$/,\r\n      //         \"\"\r\n      //       )}/${data.value}.jpg`}\r\n      //       alt=\"\"\r\n      //     />\r\n      //   ),\r\n      // },\r\n      {\r\n        Header: (\r\n          <>\r\n            Champion, Mastery and\r\n            <br />\r\n            Chest Avavilability\r\n          </>\r\n        ),\r\n        accessor: \"name\",\r\n        Cell: (data: any) => {\r\n          const row = data.row.original;\r\n          return [\r\n            row.owned ? (\r\n              <span>\r\n                <strong>{row.name}</strong>\r\n              </span>\r\n            ) : (\r\n              <span>{row.name}</span>\r\n            ),\r\n            row.mastery > 0 ? (\r\n              <img\r\n                src={\r\n                  [\r\n                    \"\",\r\n                    mastery1,\r\n                    mastery2,\r\n                    mastery3,\r\n                    mastery4,\r\n                    mastery5,\r\n                    mastery6,\r\n                    mastery7,\r\n                  ][row.mastery]\r\n                }\r\n                alt={`Mastery level: ${row.mastery}`}\r\n                title={`Mastery level: ${row.mastery}`}\r\n              />\r\n            ) : (\r\n              \"\"\r\n            ),\r\n            row.chestAvail > 0 ? (\r\n              <img src={chest} alt=\"Chest available\" title=\"Chest available\" />\r\n            ) : (\r\n              \"\"\r\n            ),\r\n          ];\r\n        },\r\n      },\r\n      // {\r\n      //   Header: \"Owned\",\r\n      //   accessor: \"owned\",\r\n      //   Cell: (data: any) => {\r\n      //     return typeof data.value == \"boolean\"\r\n      //       ? data.value\r\n      //         ? \"YES\"\r\n      //         : \"NO\"\r\n      //       : data.value;\r\n      //   },\r\n      // },\r\n      // {\r\n      //   Header: \"Mastery\",\r\n      //   accessor: \"mastery\",\r\n      // },\r\n      // {\r\n      //   Header: \"Chest Available\",\r\n      //   accessor: \"chestAvail\",\r\n      //   Cell: (data: any) =>\r\n      //     typeof data.value == \"boolean\"\r\n      //       ? data.value\r\n      //         ? \"YES\"\r\n      //         : \"NO\"\r\n      //       : data.value,\r\n      // },\r\n      {\r\n        Header: \"Shards\",\r\n        accessor: \"shards\",\r\n      },\r\n      {\r\n        Header: \"Permanents\",\r\n        accessor: \"perms\",\r\n      },\r\n      {\r\n        Header: (\r\n          <>\r\n            Lvl 6\r\n            <br />\r\n            Tokens\r\n          </>\r\n        ),\r\n        accessor: \"token6\",\r\n      },\r\n      {\r\n        Header: (\r\n          <>\r\n            Lvl 7\r\n            <br />\r\n            Tokens\r\n          </>\r\n        ),\r\n        accessor: \"token7\",\r\n      },\r\n      {\r\n        Header: (\r\n          <>\r\n            Eternal\r\n            <br />\r\n            Shards\r\n          </>\r\n        ),\r\n        accessor: \"eternalShards\",\r\n      },\r\n      {\r\n        Header: \"Store Price\",\r\n        Cell: (data: any) => {\r\n          const row = data.row.original;\r\n          return [\r\n            row.storeBE,\r\n            <img\r\n              src={blueEssence}\r\n              alt=\"Blue Essence\"\r\n              title=\"Blue Essence\"\r\n              className=\"currency\"\r\n            />,\r\n            \"/\",\r\n            row.storeRP,\r\n            <img\r\n              src={riotPoints}\r\n              alt=\"Riot Points\"\r\n              title=\"Riot Points\"\r\n              className=\"currency\"\r\n            />,\r\n          ];\r\n        },\r\n      },\r\n      {\r\n        Header: (\r\n          <>\r\n            Upgrade\r\n            <br />\r\n            Price\r\n          </>\r\n        ),\r\n        accessor: \"ugradeBE\",\r\n        Cell: (data: any) => [\r\n          data.value,\r\n          <img\r\n            src={blueEssence}\r\n            alt=\"Blue Essence\"\r\n            title=\"Blue Essence\"\r\n            className=\"currency\"\r\n          />,\r\n        ],\r\n      },\r\n      {\r\n        Header: (\r\n          <>\r\n            Disenchat\r\n            <br />\r\n            Shard\r\n          </>\r\n        ),\r\n        accessor: \"disenchantS\",\r\n        Cell: (data: any) => [\r\n          data.value,\r\n          <img\r\n            src={blueEssence}\r\n            alt=\"Blue Essence\"\r\n            title=\"Blue Essence\"\r\n            className=\"currency\"\r\n          />,\r\n        ],\r\n      },\r\n      {\r\n        Header: (\r\n          <>\r\n            Disenchat\r\n            <br />\r\n            Permanent\r\n          </>\r\n        ),\r\n        accessor: \"disenchantP\",\r\n        Cell: (data: any) => [\r\n          data.value,\r\n          <img\r\n            src={blueEssence}\r\n            alt=\"Blue Essence\"\r\n            title=\"Blue Essence\"\r\n            className=\"currency\"\r\n          />,\r\n        ],\r\n      },\r\n    ];\r\n\r\n    return { columns, data };\r\n  }\r\n\r\n  skinsTable() {}\r\n\r\n  wardsTable() {}\r\n\r\n  emotesTable() {}\r\n\r\n  iconsTable() {}\r\n\r\n  chromasTable() {}\r\n}\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAQCSURBVHgB7Zw9TBRBFMf/Gmn4SCjEBCxYC0zQQhRaYK00QoE2akLimWhMbJSaRE6MNVoZPxKw00YsxGhiwoEtqJUkUnCYCAUmkqA0Fue8m9vcIcfd7s7Mze7d+yWvIsft/m7em53ZtwswDMMwDMMwjBlmRVxB5RnKfXfsyeRiBVKkA3M0ixgT8avge2NPpkhMQq/ILhEPsFNcVQv0YlqEi/C4kGla6jtiT8ZHeOntB0rTWygvrqYEFoqcQPH0LlbfWGCJmIQU6YqYQnBxFRG4D+axPQqMnuN+MEpYE3iqswW60Pm/gnIAlrh+4RhaDzbgxftlzC38wPrP7UCfb6qvw6WzHbh4pgPfvm/i5v052MCaQKK1pR4jwyeyMTOfxtNXX8uKpNHW392GgV4HTQ11sI1VgYUM9DnZ+LS0kRuVazv+TuJo1NpM12JERqAHCaJY39jOjshGMcoGe9txtL0ZUSRyAj0ove/c6EHU4csYRVigIixQERaoCAtUhAUqwgIVYYGKsEBFWKAiLFARFqgIC1SEBSrCAhVhgYqwQEVYoCIsUBEWqAgLVCSowCRk15SL6sVFgO7ZMCMwAdncSDGE6sFF/rwcvx9SSWEXskV3BXa68HVAd+sTyItzERAdNdCBbICMk0iv25WOWakk6ZxEHORFjsHs4wxhcSC7+ekYk5AilTAxCzuQB/cZ8teNAi5kipI4alDX1mhjsjfGqy+2CVXb/FIL14EuDMIX0opoEUjttrWKFoF9PW14PXEu1/dcj6hDDZyPRvuhA22TCDVEXhMCKfz2O1ca6q2mxnSdbcJGZmGv35lEjj9ZgE0Ku/lNNKUbnURIom2mRWmhrDDV0a9F4O8/fxFVTD8KoUXg3OIahkc/4I1I2TiwuLSB8cd6Sou2Gri8uol7ot49E5MHpcxgBNL3f0gcHR89i6IL7ZMIzbyFIm2zJcrLzMd0Nkt0ivMwthb2RNrm/MhbbG2bq9FhtvSvikgjJgSUtynirogvfj8QZhKZEnFExGkRKVQHKcidIzqvJKRIX6jMwilIiSdFPEc8SUGeAwWdg29xHjouY2i4JyB/vTiIJEkPkReXggI6VyJp7BSZRrTw6hsd321oKj8mZuE0pEgH8rbnBOxCGTKFkClaDmtv7aBtr76ew7gsFvm0kxMGusajh7NfvlsuNdsaPcdIvPZkoLdd7CUe9y2SVhQz86vZC2QfVL9AD9qnI5l7LQNDLsVqR6AHpTctA7s7D6FR7Of5SNNSVOIcjeJAFvHAr20SIjNiQzTM657oNVFKHQdRxEG+KyBjKEhcEhpvnEeVBPSKnIXmjoO44EJ2eKmIc8EEqpOUplQKusDswsHe6V0z9U0XCcSgE/YfpiXDoWTci28AAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAATbSURBVHgB7Zw7aFRBFIZ/RZuoYGEEtci1UFALX2mTXCvFDfhoVBBcQRFs1MpC0FWxjlbiA4zYaOMDjCgI2USwMlEbBVO4EUzACAZi0qRY5+zssJuYZOfOIzN3dz44lVn33v/OOTPzn9kLBAKBQCAQCAQCduhlcQKLz8Hyd6eeYjm+gwsZwR6rWVxh8afqe1NPcY54ALNC7mBxEzOFq2sBRTxjEUOdGDxNF/qO1FOUCJHeMlCankNt4RpKwGohuzB3es9V34KAC8QDcCFjFt1ILtyiCLgE9nE9Cqze41IEtHAm4K4tzTCFyf8rKcvgiNOHt2LdmhV4/GYIfR9+YvT3VKLPr2pajqP7NuHI3k349mMcZ2/0wQXOBCTWNTfhwvHtpejpL+De0y81haTR1rF7PTJtEVatWA7XOBWwmkx7VIrBr2PlUTky499JOBq1LtN1LrwRUEACUYyOTZVG5Eo2yjrbWrC5ZTV8xDsBBZTel8+0wnfCMkaTIKAmQUBNgoCaBAE1CQJqEgTUJAioiYyAvXDTlnQNNapytf5IRsAI3BH+Dm6pR6hvYvBB8xESAydJCkfgT4SEFHZ7PZEFF44ilv2Qag3MgguZ6Ms8pLpRRYMiRkJ0J5EYXMQkbUkfiMAb8XTdOXAhlTA1C0eo1Mlz8De9Y1QeOF2ntkdmehkTofJkfaqT4qCR8ZJj0w/MlsM1VN+subGNsJC2amUrC0i2O3XGGh3lFBZtycGvv6S6aT4iGlV0dEK1LapVA6lvkWnm3TTZtqQPUFuUesqiwzfAOoGqGJtEqtuSL/uH0fOuAJ+obsSb7Ccbn4VFW5JSg0akayFtCSdQnkS6Hn1Gflbzuxpf2pJv7x7AKfYwbZ1iUB6BdB7l4s33bCJpKl1gJ0vftEG1r29gBK9Y/VZFO4Vp0rh+9wPus3RNi5AkHF3voMbkITBWA6uFpMmksy0qpbEvTExOo3/gJ16+GzYinEBGwBfgG28pSEgS8cnrIbSz5YJrSDg6rETXMzE1jYSM1/oDGQHPgxsEORYdkDQI6GJ72NN2zaELr1SFuwV+3wsiOwsXwI2Bh0gZCuIRh8AHTM0RGLpymhgRsJFNBSMCtreux/Ou/WWDwZ+Zdz5op3T7UgdMYGwZQ0sWWgdS+GoszDYRTGDFkRbGAgl5ja0NXeLtXliGjAe7kmestNjcCxsR8O+k0lJhUbD9UwgjAtKG/Pilt8wHLCAN0F742h0zpcVYDRwaHvfeVDBpIgiMTyKz3RnX0F6YTF3KEpPCCaz1hYWQrlHcC0uTtAbmWJwE3xungoTi0d73KotPsh9QmUS6WWxksYdFHvVBHtwsofvKQcJEEOjMwnlwEXcihS5NmTz4PVDQPUgLJzCxjKHhngV/emkQUnh9Qrg8NDC5EylgppAF+IWob3R9ZBLnYQAbs3ABXMgI/FhZF9xCGdINxRSthbO3dpDt1d66AcfYJl+1+STZ77B6j1689iTT1sK8xG3SQtKOokf++Ej9Cyggn47EnG8bqLgVaxwBBeK0w+4ta7GS+XkabUliMe7RKhF4EU/82iYmZJEZoiqve1L+2YLPRKgcQC9aChIuB8vHen0gC7NC9sLQzxbSRgz+EkYd4WIEEtVJSlMqBTsQ+I8I86d3w9Q3U2RR+XXRQXjKPx4nVbSPMF+wAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAQFSURBVHgB7Zw9TBRBFIAfKg1IvEIKbNhGEy1EpSZoookJjbGigMRCChILaWiuIzkTG7FDIh0W2BgLNRJM8GJCI/jTaMIVHA0UkHAGxEQKnbfHkOPY253Zmd197L4vmRDI3GXvu/l/jwFgGIZhVMiJ8lWUfykvK6I4YJmsyItEYtbkWZWYVXlWJGZdnpFElqcosQm85c2LcgV86O0+B6dbmyEN7OzuQXFxLahaWZQb+z8P8BKILc9X3tDdS3BflDQx9eoHPBclgLIoV0WpyD+c9Kj0DHxIozzk2sV2tzV9+bnhVw175yzUtMIToEFa5Unwsw1pfj5lgTjmpVmeBD9jX4+jXF9ZYFomDBU62luU62p1YeYoLNAQFmgICzTEmsDxF99h+/ceUAefcSD/AWxhTeDyagWGHxVJS1zf2HWfsbRaAVtY7cKlfYn4oNRw5RU+WpWHWB8DXYniQW1JVNjkByLlrW/a/2IjmUTwQU0l4lAwNrkIo08X4M7Dd6Hf6+AL3YymV0Q2C5tIxNcM5ufg7afyofdaDtH9nojJLSp5SKTLGHzw0fEFrdcsidMQlFf/ofH3QTF7zrwvASVOQcRs7/5VrotycDnkh7tcEgegQ0QONsgspFXkSfDwc2zyM1CAjMDl1V9a9aMc13TgrZwhLNAQFmgICzSEBRrCAg1hgYawQEPICLzQeUazfg4oEPleWJX+2+fdn7hNw72uH5QyJEh1YZQ4XbgFHWe9A9ttLc0wke8llSFBbgzErICJ/PUjXRSlolxMAqIEyUkEJU4Xbh50a5TmtkyNlIu4iHwMxFMTzLsLc343MtDlJjWFbXV4RBaQrmZMLC0QJ4bhQrhoXVh5eLaoer5oQmxdGFuCzWhdI/D9B2I8+o91DKzGNeashCq9kBE427FfP2KfRHCNh6FKhXxkLd6ICJ47TMR8Up3YQhrHxc2tP5UH/ZdzbYbJm/hlTFn+QlRJdBnzen4l54YwQ46LGHzHVpeUPCTxdWDYoLkMvke9TAmCxEJaN2jeKPieBGQOExBct2HLGhnsalgnyfHOC3JbuZnZkruOqx8XZbIRJXkIyb1wfYqcTIyUyUaUINWFa5GLbjy6wrGRSiZCPWQFIrjojmM/awLHRAxhgYawQENYoCEs0BBrszBGy7IIt0BDWKAhygJ3jsE/EiaBssDi0pr1Y3iK4D78pUZASqsLK96tcmypHmIUA3NzavG6N+YeVO9H8USeAHcTS7EwRVEeHps/hpqLd7xuLnKgevWTAz709XRCR3srpAXstgry8Oqnb6CAA9ULt6heBhZ32YKA67BYomV5LNGCPMi4RCvyJA5kS6JVeRIHsiFRS14T6OFABHcsE6MMdbdUMgyTWv4DfwyYchZRyzAAAAAASUVORK5CYII=\"","import React from \"react\";\r\nimport { interfaceManager } from \"./interfaceManager\";\r\nimport { mediaStreamManager } from \"./mediaStreamManager\";\r\n\r\nimport Skins from \"./views/skins\";\r\nimport Loot from \"./views/loot\";\r\nimport Champions from \"./views/champions\";\r\nimport Emotes from \"./views/emotes\";\r\nimport Icons from \"./views/icons\";\r\n\r\nimport Data from \"./Data\";\r\n\r\nimport JSZip from \"jszip\";\r\nimport { saveAs } from \"file-saver\";\r\n\r\nimport toCSV from \"objects-to-csv\";\r\n\r\ninterface Scraper {\r\n  videoElement: React.RefObject<HTMLVideoElement>;\r\n  videoWidth: number;\r\n  videoHeight: number;\r\n  getCurrView: () => string | false;\r\n  startCapture: (onSuccess: () => void) => any;\r\n  startScraping: () => void;\r\n  recognize: (callback?: () => void) => void;\r\n  download: (callback?: () => void) => void;\r\n  data: () => {\r\n    champions?: any;\r\n    skins?: any;\r\n    wards?: any;\r\n    emotes?: any;\r\n    icons?: any;\r\n    chromas?: any;\r\n    blueEssenceSpent?: number;\r\n    [x: string]: any;\r\n  };\r\n  skins: any;\r\n  loot: any;\r\n  champions: any;\r\n  emotes: any;\r\n  icons: any;\r\n}\r\n\r\nconst scraper: Scraper = {\r\n  videoElement: React.createRef<HTMLVideoElement>(),\r\n  videoWidth: 0,\r\n  videoHeight: 0,\r\n  skins: null,\r\n  loot: null,\r\n  champions: null,\r\n  emotes: null,\r\n  icons: null,\r\n\r\n  data() {\r\n    let rects: any = [];\r\n\r\n    if (typeof scraper.loot.classifiedRects !== \"undefined\")\r\n      rects.push(scraper.loot.classifiedRects);\r\n    if (typeof scraper.champions.classifiedRects !== \"undefined\")\r\n      rects.push(scraper.champions.classifiedRects);\r\n    if (typeof scraper.skins.classifiedRects !== \"undefined\")\r\n      rects.push(scraper.skins.classifiedRects);\r\n\r\n    rects = rects\r\n      .flatMap((v: any) => v)\r\n      .filter((v: any) => typeof v.name !== \"undefined\");\r\n\r\n    const data = new Data(scraper.loot.lookupTable, rects);\r\n    return data;\r\n  },\r\n\r\n  recognize(callback?) {\r\n    const views = [\r\n      [\"skins\", scraper.skins],\r\n      [\"loot\", scraper.loot],\r\n      [\"champions\", scraper.champions],\r\n      [\"emotes\", scraper.emotes],\r\n      [\"icons\", scraper.icons],\r\n    ];\r\n\r\n    views.forEach(([viewName, view]) => {\r\n      view.recognize();\r\n    });\r\n\r\n    if (typeof callback === \"function\") {\r\n      callback();\r\n    }\r\n  },\r\n\r\n  async download(callback?) {\r\n    const zip = new JSZip();\r\n    const views = [\r\n      [\"skins\", scraper.skins],\r\n      [\"loot\", scraper.loot],\r\n      [\"champions\", scraper.champions],\r\n      [\"emotes\", scraper.emotes],\r\n      [\"icons\", scraper.icons],\r\n    ];\r\n\r\n    views.forEach(([viewName, view]) => {\r\n      view.recognize();\r\n      view.annotateImages();\r\n\r\n      view.canvasList.forEach((canvas: HTMLCanvasElement, i: number) => {\r\n        if (canvas.height < 200) return;\r\n        const index = view.canvasList.length > 1 ? `_${i}` : \"\";\r\n        zip.file(\r\n          `${viewName}_annotated_${index}.png`,\r\n          canvas.toDataURL().split(\"base64,\")[1],\r\n          {\r\n            base64: true,\r\n          }\r\n        );\r\n      });\r\n\r\n      view.rawCanvasList.forEach((canvas: HTMLCanvasElement, i: number) => {\r\n        if (canvas.height < 200) return;\r\n        const index = view.canvasList.length > 1 ? `_${i}` : \"\";\r\n        zip.file(\r\n          `${viewName}_original_${index}.png`,\r\n          canvas.toDataURL().split(\"base64,\")[1],\r\n          {\r\n            base64: true,\r\n          }\r\n        );\r\n      });\r\n    });\r\n\r\n    // let rects: any = [];\r\n\r\n    // if (typeof scraper.loot.classifiedRects !== \"undefined\")\r\n    //   rects.push(scraper.loot.classifiedRects);\r\n    // if (typeof scraper.champions.classifiedRects !== \"undefined\")\r\n    //   rects.push(scraper.champions.classifiedRects);\r\n    // if (typeof scraper.skins.classifiedRects !== \"undefined\")\r\n    //   rects.push(scraper.skins.classifiedRects);\r\n\r\n    // console.log(rects);\r\n    // rects = rects\r\n    //   .flatMap((v: any) => v)\r\n    //   .filter((v: any) => typeof v.name !== \"undefined\");\r\n\r\n    // console.log(rects);\r\n\r\n    // const data = new Data(scraper.loot.lookupTable, rects);\r\n\r\n    // // const data: any = {};\r\n\r\n    // // data[\"skins\"] = scraper.skins.classifiedRects;\r\n    // // data[\"champions\"] = scraper.champions.classifiedRects;\r\n    // // data[\"loot\"] = scraper.loot.classifiedRects;\r\n\r\n    // zip.file(`data.json`, JSON.stringify(data.champions));\r\n\r\n    const { skins, champions } = this.data();\r\n\r\n    const championsData = new toCSV(champions.data);\r\n    const skinsData = new toCSV(skins.data);\r\n    zip.file(`champions.csv`, await championsData.toString());\r\n    zip.file(`skins.csv`, await skinsData.toString());\r\n\r\n    zip.generateAsync({ type: \"blob\" }).then(function (content) {\r\n      saveAs(content, \"account_data.zip\");\r\n    });\r\n  },\r\n\r\n  getCurrView() {\r\n    return interfaceManager.currentInterface(scraper.videoElement);\r\n  },\r\n\r\n  startScraping() {\r\n    console.log(\"Started scraping\");\r\n    this.skins = new Skins(this.videoElement, scraper.getCurrView);\r\n    this.loot = new Loot(this.videoElement, scraper.getCurrView);\r\n    this.champions = new Champions(this.videoElement, scraper.getCurrView);\r\n    this.emotes = new Emotes(this.videoElement, scraper.getCurrView);\r\n    this.icons = new Icons(this.videoElement, scraper.getCurrView);\r\n  },\r\n\r\n  async startCapture(onSuccess) {\r\n    mediaStreamManager.startCapture(onSuccess);\r\n  },\r\n};\r\n\r\nexport default scraper;\r\n","import \"./Logo.css\";\r\n\r\nconst Logo: React.FC<{ justTitle?: boolean }> = ({ justTitle = false }) => {\r\n  const title = \"Lots of Loot\".replace(/ /g, \"\\u00a0\");\r\n  const subtitle1 = \"A smart inventory tracker\".replace(/ /g, \"\\u00a0\");\r\n  const subtitle2 = \"for League of Legends\".replace(/ /g, \"\\u00a0\");\r\n\r\n  return (\r\n    <div className=\"logo\">\r\n      <div className=\"title\">\r\n        {title.split(\"\").map((l, i) => (\r\n          <span key={i}>{l}</span>\r\n        ))}\r\n      </div>\r\n      {!justTitle && (\r\n        <>\r\n          <div className=\"subtitle\">\r\n            {subtitle1.split(\"\").map((l, i) => (\r\n              <span key={i}>{l}</span>\r\n            ))}\r\n          </div>\r\n          <div className=\"subtitle\">\r\n            {subtitle2.split(\"\").map((l, i) => (\r\n              <span key={i}>{l}</span>\r\n            ))}\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Logo;\r\n","import \"./WelcomeIcons.css\";\r\n\r\nconst WelcomeIcons = () => {\r\n  const icons = {\r\n    scroll: (\r\n      <svg\r\n        className=\"scroll\"\r\n        width=\"156\"\r\n        height=\"156\"\r\n        viewBox=\"0 0 156 156\"\r\n        fill=\"none\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n      >\r\n        <g className=\"arrow\">\r\n          <path\r\n            d=\"M78.239 56.9014L78.239 34.6315\"\r\n            stroke=\"#45B1FF\"\r\n            strokeWidth=\"8.20469\"\r\n            strokeLinecap=\"round\"\r\n          />\r\n        </g>\r\n        <rect\r\n          x=\"46.0062\"\r\n          y=\"136.018\"\r\n          width=\"117.21\"\r\n          height=\"64.4654\"\r\n          rx=\"32.2327\"\r\n          transform=\"rotate(-90 46.0062 136.018)\"\r\n          stroke=\"#333333\"\r\n          strokeWidth=\"8.20469\"\r\n        />\r\n      </svg>\r\n    ),\r\n    share: (\r\n      <svg\r\n        className=\"share\"\r\n        width=\"156\"\r\n        height=\"156\"\r\n        viewBox=\"0 0 156 156\"\r\n        fill=\"none\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n      >\r\n        <g className=\"arrow\">\r\n          <path\r\n            d=\"M120.378 24.0643H149.68V52.1947\"\r\n            stroke=\"#45B1FF\"\r\n            strokeWidth=\"8.20469\"\r\n            strokeLinecap=\"round\"\r\n            strokeLinejoin=\"round\"\r\n          />\r\n          <path\r\n            d=\"M109.829 63.3296L147.923 25.2365\"\r\n            stroke=\"#45B1FF\"\r\n            strokeWidth=\"8.20469\"\r\n            strokeLinecap=\"round\"\r\n          />\r\n        </g>\r\n        <path\r\n          d=\"M149.681 69.8193V104.939H6.68457V24.0643H102.797\"\r\n          stroke=\"#333333\"\r\n          strokeWidth=\"8.20469\"\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n        />\r\n        <path\r\n          d=\"M40.0894 130.725H116.276\"\r\n          stroke=\"#333333\"\r\n          strokeWidth=\"8.20469\"\r\n          strokeLinecap=\"round\"\r\n        />\r\n        <rect\r\n          x=\"67.6338\"\r\n          y=\"104.939\"\r\n          width=\"21.0978\"\r\n          height=\"25.7862\"\r\n          stroke=\"#333333\"\r\n          strokeWidth=\"8.20469\"\r\n        />\r\n      </svg>\r\n    ),\r\n    download: (\r\n      <svg\r\n        className=\"download\"\r\n        width=\"156\"\r\n        height=\"156\"\r\n        viewBox=\"0 0 156 156\"\r\n        fill=\"none\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n      >\r\n        <g className=\"arrow\">\r\n          <path\r\n            d=\"M98.708 49.9298L77.988 70.6498L58.0969 50.7586\"\r\n            stroke=\"#45B1FF\"\r\n            strokeWidth=\"8.20469\"\r\n            strokeLinecap=\"round\"\r\n            strokeLinejoin=\"round\"\r\n          />\r\n          <path\r\n            d=\"M78.4024 14.7059V68.5778\"\r\n            stroke=\"#45B1FF\"\r\n            strokeWidth=\"8.20469\"\r\n            strokeLinecap=\"round\"\r\n          />\r\n        </g>\r\n        <path\r\n          d=\"M11.615 99.0969V127.227H145.234V99.0969\"\r\n          stroke=\"#333333\"\r\n          strokeWidth=\"8.20469\"\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n        />\r\n        <path\r\n          d=\"M59.671 70.9666H35.057L11.615 99.0969H145.234L121.792 70.9666H97.1782\"\r\n          stroke=\"#333333\"\r\n          strokeWidth=\"8.20469\"\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n        />\r\n      </svg>\r\n    ),\r\n  };\r\n  return (\r\n    <div className=\"welcome-icons\">\r\n      <div className=\"block\">\r\n        <div className=\"icon\">{icons.share}</div>\r\n        <div className=\"text\">\r\n          Screen share\r\n          <br />\r\n          game client\r\n        </div>\r\n      </div>\r\n      <div className=\"block\">\r\n        <div className=\"icon\">{icons.scroll}</div>\r\n        <div className=\"text\">\r\n          Scroll through\r\n          <br />\r\n          invetory screens\r\n        </div>\r\n      </div>\r\n      <div className=\"block\">\r\n        <div className=\"icon\">{icons.download}</div>\r\n        <div className=\"text\">\r\n          Analyze and\r\n          <br />\r\n          download results\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WelcomeIcons;\r\n","import Logo from \"./assets/Logo\";\r\nimport WelcomeIcons from \"./assets/WelcomeIcons\";\r\nimport scraper from \"../../tools/scraper\";\r\nimport \"./WelcomeView.css\";\r\n\r\ntype Props = {\r\n  setView: (viewName: string) => void;\r\n  hide: boolean;\r\n};\r\n\r\nconst WelcomeView = (props: Props) => {\r\n  const shareWindow = () => {\r\n    scraper.startCapture(() => {\r\n      props.setView(\"prepare\");\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className={\"welcome-view\" + (props.hide ? \" hide\" : \"\")}>\r\n      <Logo />\r\n      <WelcomeIcons />\r\n      {typeof (navigator.mediaDevices as any).getDisplayMedia === \"function\" ? (\r\n        <div className=\"share-screen\" onClick={shareWindow}>\r\n          Share game client window\r\n        </div>\r\n      ) : (\r\n        <div className=\"unsupported\">\r\n          Your browser might not support some of the technologies required to\r\n          run this app. Please update your web browser.\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WelcomeView;\r\n","import \"./PrepareIcons.css\";\r\n\r\nconst PrepareIcons = () => {\r\n  const icons = {\r\n    clearPopups: (\r\n      <svg\r\n        width=\"496\"\r\n        height=\"279\"\r\n        viewBox=\"0 0 496 279\"\r\n        fill=\"none\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n      >\r\n        <rect\r\n          x=\"3.5\"\r\n          y=\"3.5\"\r\n          width=\"489\"\r\n          height=\"272\"\r\n          stroke=\"black\"\r\n          strokeWidth=\"7\"\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n        />\r\n        <path\r\n          d=\"M19.5 249H144.5\"\r\n          stroke=\"black\"\r\n          strokeWidth=\"3\"\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n        />\r\n        <rect\r\n          x=\"26.5\"\r\n          y=\"63.5\"\r\n          width=\"22\"\r\n          height=\"23\"\r\n          stroke=\"black\"\r\n          strokeWidth=\"3\"\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n        />\r\n        <rect\r\n          x=\"26.5\"\r\n          y=\"96.5\"\r\n          width=\"22\"\r\n          height=\"23\"\r\n          stroke=\"black\"\r\n          strokeWidth=\"3\"\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n        />\r\n        <rect\r\n          x=\"26.5\"\r\n          y=\"129.5\"\r\n          width=\"22\"\r\n          height=\"23\"\r\n          stroke=\"black\"\r\n          strokeWidth=\"3\"\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n        />\r\n        <rect\r\n          x=\"26.5\"\r\n          y=\"162.5\"\r\n          width=\"22\"\r\n          height=\"23\"\r\n          stroke=\"black\"\r\n          strokeWidth=\"3\"\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n        />\r\n        <rect\r\n          x=\"26.5\"\r\n          y=\"195.5\"\r\n          width=\"22\"\r\n          height=\"23\"\r\n          stroke=\"black\"\r\n          strokeWidth=\"3\"\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n        />\r\n        <path\r\n          d=\"M50 241V227H25V241\"\r\n          stroke=\"black\"\r\n          strokeWidth=\"3\"\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n        />\r\n        <rect\r\n          x=\"90.5\"\r\n          y=\"63.5\"\r\n          width=\"22\"\r\n          height=\"23\"\r\n          stroke=\"black\"\r\n          strokeWidth=\"3\"\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n        />\r\n        <rect\r\n          x=\"90.5\"\r\n          y=\"96.5\"\r\n          width=\"22\"\r\n          height=\"23\"\r\n          stroke=\"black\"\r\n          strokeWidth=\"3\"\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n        />\r\n        <rect\r\n          x=\"90.5\"\r\n          y=\"129.5\"\r\n          width=\"22\"\r\n          height=\"23\"\r\n          stroke=\"black\"\r\n          strokeWidth=\"3\"\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n        />\r\n        <rect\r\n          x=\"90.5\"\r\n          y=\"162.5\"\r\n          width=\"22\"\r\n          height=\"23\"\r\n          stroke=\"#0A98FF\"\r\n          strokeWidth=\"3\"\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n        />\r\n        <rect\r\n          x=\"90.5\"\r\n          y=\"195.5\"\r\n          width=\"22\"\r\n          height=\"23\"\r\n          stroke=\"black\"\r\n          strokeWidth=\"3\"\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n        />\r\n        <path\r\n          d=\"M114 241V227H89V241\"\r\n          stroke=\"black\"\r\n          strokeWidth=\"3\"\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n        />\r\n        <rect\r\n          x=\"58.5\"\r\n          y=\"63.5\"\r\n          width=\"22\"\r\n          height=\"23\"\r\n          stroke=\"#0A98FF\"\r\n          strokeWidth=\"3\"\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n        />\r\n        <rect\r\n          x=\"58.5\"\r\n          y=\"96.5\"\r\n          width=\"22\"\r\n          height=\"23\"\r\n          stroke=\"black\"\r\n          strokeWidth=\"3\"\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n        />\r\n        <rect\r\n          x=\"58.5\"\r\n          y=\"129.5\"\r\n          width=\"22\"\r\n          height=\"23\"\r\n          stroke=\"black\"\r\n          strokeWidth=\"3\"\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n        />\r\n        <rect\r\n          x=\"58.5\"\r\n          y=\"162.5\"\r\n          width=\"22\"\r\n          height=\"23\"\r\n          stroke=\"black\"\r\n          strokeWidth=\"3\"\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n        />\r\n        <rect\r\n          x=\"58.5\"\r\n          y=\"195.5\"\r\n          width=\"22\"\r\n          height=\"23\"\r\n          stroke=\"black\"\r\n          strokeWidth=\"3\"\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n        />\r\n        <path\r\n          d=\"M82 241V227H57V241\"\r\n          stroke=\"black\"\r\n          strokeWidth=\"3\"\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n        />\r\n        <rect\r\n          x=\"122.5\"\r\n          y=\"63.5\"\r\n          width=\"22\"\r\n          height=\"23\"\r\n          stroke=\"black\"\r\n          strokeWidth=\"3\"\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n        />\r\n        <rect\r\n          x=\"122.5\"\r\n          y=\"96.5\"\r\n          width=\"22\"\r\n          height=\"23\"\r\n          stroke=\"black\"\r\n          strokeWidth=\"3\"\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n        />\r\n        <rect\r\n          x=\"122.5\"\r\n          y=\"129.5\"\r\n          width=\"22\"\r\n          height=\"23\"\r\n          stroke=\"#0A98FF\"\r\n          strokeWidth=\"3\"\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n        />\r\n        <rect\r\n          x=\"122.5\"\r\n          y=\"162.5\"\r\n          width=\"22\"\r\n          height=\"23\"\r\n          stroke=\"black\"\r\n          strokeWidth=\"3\"\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n        />\r\n        <rect\r\n          x=\"122.5\"\r\n          y=\"195.5\"\r\n          width=\"22\"\r\n          height=\"23\"\r\n          stroke=\"black\"\r\n          strokeWidth=\"3\"\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n        />\r\n        <path\r\n          d=\"M146 241V227H121V241\"\r\n          stroke=\"black\"\r\n          strokeWidth=\"3\"\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n        />\r\n        <path\r\n          d=\"M8.5 41H486.5M408.5 51.5V266\"\r\n          stroke=\"black\"\r\n          strokeWidth=\"3\"\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n        />\r\n        <circle\r\n          cx=\"421\"\r\n          cy=\"23\"\r\n          r=\"10.5\"\r\n          stroke=\"black\"\r\n          strokeWidth=\"3\"\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n        />\r\n        <rect\r\n          x=\"304\"\r\n          y=\"189\"\r\n          width=\"94\"\r\n          height=\"76\"\r\n          stroke=\"#0A98FF\"\r\n          strokeWidth=\"4\"\r\n        />\r\n        <rect\r\n          x=\"286\"\r\n          y=\"54\"\r\n          width=\"112\"\r\n          height=\"49\"\r\n          stroke=\"#0A98FF\"\r\n          strokeWidth=\"4\"\r\n        />\r\n        <path\r\n          d=\"M60 65.5L77.5 83.5\"\r\n          stroke=\"#0A98FF\"\r\n          strokeWidth=\"4\"\r\n          strokeLinecap=\"round\"\r\n        />\r\n        <path\r\n          d=\"M124 131.5L141.5 149.5\"\r\n          stroke=\"#0A98FF\"\r\n          strokeWidth=\"4\"\r\n          strokeLinecap=\"round\"\r\n        />\r\n        <path\r\n          d=\"M92 164.5L109.5 182.5\"\r\n          stroke=\"#0A98FF\"\r\n          strokeWidth=\"4\"\r\n          strokeLinecap=\"round\"\r\n        />\r\n        <path\r\n          d=\"M304 190L397 262\"\r\n          stroke=\"#0A98FF\"\r\n          strokeWidth=\"4\"\r\n          strokeLinecap=\"round\"\r\n        />\r\n        <path\r\n          d=\"M286 54L397 102\"\r\n          stroke=\"#0A98FF\"\r\n          strokeWidth=\"4\"\r\n          strokeLinecap=\"round\"\r\n        />\r\n      </svg>\r\n    ),\r\n    resizeClient: (\r\n      <svg\r\n        width=\"496\"\r\n        height=\"279\"\r\n        viewBox=\"0 0 496 279\"\r\n        fill=\"none\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n      >\r\n        <rect\r\n          x=\"112.933\"\r\n          y=\"64.371\"\r\n          width=\"270.133\"\r\n          height=\"150.258\"\r\n          stroke=\"#0A98FF\"\r\n          strokeWidth=\"3.86694\"\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n        />\r\n        <path\r\n          d=\"M115.696 85.0867H379.752M336.664 90.8871V209.381\"\r\n          stroke=\"#0A98FF\"\r\n          strokeWidth=\"1.65726\"\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n        />\r\n        <circle\r\n          cx=\"343.568\"\r\n          cy=\"75.1432\"\r\n          r=\"5.8004\"\r\n          stroke=\"#0A98FF\"\r\n          strokeWidth=\"1.65726\"\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n        />\r\n        <rect\r\n          x=\"3.5\"\r\n          y=\"3.5\"\r\n          width=\"489\"\r\n          height=\"272\"\r\n          stroke=\"black\"\r\n          strokeWidth=\"7\"\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n        />\r\n        <path\r\n          d=\"M482 13L392 57\"\r\n          stroke=\"black\"\r\n          strokeWidth=\"4\"\r\n          strokeLinecap=\"round\"\r\n        />\r\n        <path\r\n          d=\"M14 266L104 222\"\r\n          stroke=\"black\"\r\n          strokeWidth=\"4\"\r\n          strokeLinecap=\"round\"\r\n        />\r\n        <path\r\n          d=\"M14 13L104 57\"\r\n          stroke=\"black\"\r\n          strokeWidth=\"4\"\r\n          strokeLinecap=\"round\"\r\n        />\r\n        <path\r\n          d=\"M482 266L392 222\"\r\n          stroke=\"black\"\r\n          strokeWidth=\"4\"\r\n          strokeLinecap=\"round\"\r\n        />\r\n      </svg>\r\n    ),\r\n  };\r\n  return (\r\n    <div className=\"prepare-icons\">\r\n      <div className=\"block\">\r\n        <div className=\"icon\">{icons.clearPopups}</div>\r\n        <div className=\"text\">\r\n          Hide chats, notifications and\r\n          <br />\r\n          remove new items highlights\r\n        </div>\r\n      </div>\r\n      <div className=\"block\">\r\n        <div className=\"icon\">{icons.resizeClient}</div>\r\n        <div className=\"text\">\r\n          Downscale your client for best\r\n          <br />\r\n          performance using Ctrl[-]\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PrepareIcons;\r\n","import React from \"react\";\r\nimport \"./SmallLogo.css\";\r\n\r\nconst SmallLogo = (props: { animateIn?: boolean } = { animateIn: true }) => {\r\n  return (\r\n    <div>\r\n      <h1 className={\"small-logo \" + (props.animateIn ? \"animate-in\" : \"\")}>\r\n        Lots of Loot\r\n      </h1>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SmallLogo;\r\n","import React from \"react\";\r\nimport scraper from \"../../tools/scraper\";\r\nimport \"./PrepareView.css\";\r\nimport PrepareIcons from \"./assets/PrepareIcons\";\r\nimport SmallLogo from \"../../components/SmallLogo\";\r\n\r\ntype Props = {\r\n  setView: (viewName: string) => void;\r\n  hide: boolean;\r\n};\r\n\r\nconst PrepareView = (props: Props) => {\r\n  return (\r\n    <div className={\"prepare-view\" + (props.hide ? \" hide\" : \"\")}>\r\n      <SmallLogo animateIn={true} />\r\n      <PrepareIcons />\r\n      <div\r\n        className=\"prepare-ready\"\r\n        onClick={() => {\r\n          props.setView(\"scrape\");\r\n          scraper.startScraping();\r\n        }}\r\n      >\r\n        Start scanning\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PrepareView;\r\n","import \"./Loader.css\";\r\n\r\ntype Props = {\r\n  name: string;\r\n  active?: boolean;\r\n  loaded?: string;\r\n  warning?: string | null;\r\n};\r\n\r\nconst Loader = (props: Props) => {\r\n  return (\r\n    <div className=\"loader\">\r\n      {props.active && <div className=\"active\"></div>}\r\n      <div className=\"text\">\r\n        <div className=\"name\">{props.name}</div>\r\n        <div className=\"loaded\">{props.loaded || \"0%\"}</div>\r\n      </div>\r\n      <div className=\"bar\">\r\n        <div\r\n          className=\"loaded\"\r\n          style={{\r\n            transform:\r\n              `scaleX(${parseInt(props.loaded.replace(\"%\", \"\")) / 100})` ||\r\n              `scaleX(0)`,\r\n          }}\r\n        ></div>\r\n      </div>\r\n      {props.warning && (\r\n        <>\r\n          <div className=\"warning\">{props.warning}</div>\r\n          <div className=\"warning-point\">!</div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loader;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport scraper from \"../../tools/scraper\";\r\nimport Loader from \"./assets/Loader\";\r\nimport SmallLogo from \"../../components/SmallLogo\";\r\nimport \"./ScrapeView.css\";\r\nimport { finished } from \"node:stream\";\r\n\r\ntype Props = {\r\n  setView: (viewName: string, callback?: () => void) => void;\r\n  hide: boolean;\r\n};\r\n\r\nconst ScrapeView = (props: Props) => {\r\n  const getLoadedStates = () => {\r\n    const output: { [x: string]: any } = {};\r\n    [\r\n      \"loot\",\r\n      \"champions\",\r\n      \"skins\",\r\n      \"emotes\",\r\n      \"icons\",\r\n      \"wards\",\r\n      \"chromas\",\r\n    ].forEach((type) => {\r\n      if (typeof (scraper as any)[type] !== \"undefined\") {\r\n        output[type] = {\r\n          loaded: (scraper as any)[type].progress(),\r\n          isActive: scraper.getCurrView() === type,\r\n          warnMessage:\r\n            typeof (scraper as any)[type].warnMessage !== \"undefined\"\r\n              ? (scraper as any)[type].warnMessage\r\n              : null,\r\n        };\r\n      }\r\n    });\r\n    return output;\r\n  };\r\n\r\n  const [loadStates, setLoadStates] = useState(getLoadedStates());\r\n  const requestRef = React.useRef<number | null>();\r\n\r\n  const updateLoadedStateLoop = () => {\r\n    setLoadStates(getLoadedStates());\r\n    requestRef.current = requestAnimationFrame(updateLoadedStateLoop);\r\n  };\r\n\r\n  useEffect(() => {\r\n    requestRef.current = requestAnimationFrame(updateLoadedStateLoop);\r\n    return () => cancelAnimationFrame(requestRef.current);\r\n  }, []);\r\n\r\n  return (\r\n    <div className={\"scrape-view\" + (props.hide ? \" hide\" : \"\")}>\r\n      <SmallLogo animateIn={false} />\r\n      <div className=\"row\">\r\n        <div className=\"loaders\">\r\n          {[\r\n            \"loot\",\r\n            \"collection\",\r\n            \"champions\",\r\n            \"skins\",\r\n            \"emotes\",\r\n            \"wards\",\r\n            \"icons\",\r\n            \"chromas\",\r\n          ].map((type) => {\r\n            if (type === \"collection\")\r\n              return (\r\n                <div key=\"subtitle\" className=\"subtitle\">\r\n                  Collection:\r\n                </div>\r\n              );\r\n            if (typeof (loadStates as any)[type] !== \"undefined\")\r\n              return (\r\n                <Loader\r\n                  key={type}\r\n                  name={type}\r\n                  loaded={loadStates[type].loaded}\r\n                  active={loadStates[type].isActive}\r\n                  warning={loadStates[type].warnMessage}\r\n                />\r\n              );\r\n            return \"\";\r\n          })}\r\n          <div\r\n            className={\r\n              \"finish-scanning\" +\r\n              (Object.values(loadStates)\r\n                .map((v: any) => v.loaded)\r\n                .reduce((p: any, c: any) => p + (c !== \"100.0%\"), 0) === 0\r\n                ? \" done\"\r\n                : \"\")\r\n            }\r\n            onClick={() => props.setView(\"work\")}\r\n          >\r\n            Finish scanning\r\n          </div>\r\n        </div>\r\n        <div className=\"instructions\">\r\n          <h2 style={{ marginTop: 0 }}>Instructions:</h2>\r\n          <p>\r\n            Open up each of the views seen on the left in game client.\r\n            <br />\r\n            In each view do the following:\r\n          </p>\r\n          <ol>\r\n            <li>Scroll to the top</li>\r\n            <li>Slowly scroll down paying attention to the percentages</li>\r\n            <li>If percentage doesn't change as you scroll, back up a bit</li>\r\n          </ol>\r\n          <p>Notes:</p>\r\n          <ul>\r\n            <li>\r\n              Chat hovers & popups can obstruct the view, try to avoid them.\r\n            </li>\r\n            <li>\r\n              While scrolling keep mouse on the scrollbar, or right of it after\r\n              you grab it\r\n            </li>\r\n            <li>\r\n              Please be patient while recognizing the data once scanned. This\r\n              can take anywhere from a couple seconds to a couple minutes\r\n              depending on the speed of your machine and the size of your League\r\n              inventory\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ScrapeView;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport scraper from \"../../tools/scraper\";\r\nimport SmallLogo from \"../../components/SmallLogo\";\r\nimport \"./WorkView.css\";\r\n\r\ntype Props = {\r\n  setView: (viewName: string) => void;\r\n  hide: boolean;\r\n};\r\n\r\nconst WorkView = (props: Props) => {\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      scraper.recognize(() => {\r\n        props.setView(\"data\");\r\n      });\r\n    }, 600);\r\n  }, []);\r\n\r\n  return (\r\n    <div className={\"work-view\" + (props.hide ? \" hide\" : \"\")}>\r\n      <SmallLogo animateIn={false} />\r\n      <div className=\"work-center\">\r\n        <h1>Working...</h1>\r\n        <p>\r\n          This may take up to a couple minutes for large libraries on slow\r\n          machines.\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WorkView;\r\n","import React, { useState, useEffect, useMemo } from \"react\";\r\nimport scraper from \"../../tools/scraper\";\r\nimport Logo from \"../WelcomeView/assets/Logo\";\r\nimport \"./DataView.css\";\r\nimport { useTable } from \"react-table\";\r\n\r\ntype Props = {\r\n  setView: (viewName: string) => void;\r\n  hide: boolean;\r\n};\r\n\r\nconst DataView = (props: Props) => {\r\n  const tableData = useMemo(() => scraper.data(), []);\r\n  console.log(tableData.skins);\r\n\r\n  const Table = ({ columns, data }: { columns: any; data: any }) => {\r\n    // Use the state and functions returned from useTable to build your UI\r\n    const { getTableProps, getTableBodyProps, headerGroups, rows, prepareRow } =\r\n      useTable({\r\n        columns,\r\n        data,\r\n      });\r\n\r\n    // Render the UI for your table\r\n    return (\r\n      <table {...getTableProps()}>\r\n        <thead>\r\n          {headerGroups.map((headerGroup) => (\r\n            <tr {...headerGroup.getHeaderGroupProps()}>\r\n              {headerGroup.headers.map((column) => (\r\n                <th {...column.getHeaderProps()}>{column.render(\"Header\")}</th>\r\n              ))}\r\n            </tr>\r\n          ))}\r\n        </thead>\r\n        <tbody {...getTableBodyProps()}>\r\n          {rows.map((row, i) => {\r\n            prepareRow(row);\r\n            return (\r\n              <tr key={`row_${i}`} {...row.getRowProps()}>\r\n                {row.cells.map((cell) => {\r\n                  return (\r\n                    <td {...cell.getCellProps()}>{cell.render(\"Cell\")}</td>\r\n                  );\r\n                })}\r\n              </tr>\r\n            );\r\n          })}\r\n        </tbody>\r\n      </table>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div style={{ margin: \"0 auto\", width: 1080, textAlign: \"center\" }}>\r\n      <div className={\"work-view\" + (props.hide ? \" hide\" : \"\")}>\r\n        <Logo justTitle={true} />\r\n        {/* <h2>\r\n          Total blue essense spent for champions assuming all were bought with\r\n          blue essence: {tableData.blueEssenceSpent}\r\n        </h2> */}\r\n        <button\r\n          style={{\r\n            cursor: \"pointer\",\r\n            margin: \"10px 0 30px\",\r\n            background: \"#0a98ff\",\r\n            border: \"none\",\r\n            color: \"#fff\",\r\n            padding: \"1rem 2rem\",\r\n            fontSize: \"20px\",\r\n            borderRadius: \"2rem\",\r\n          }}\r\n          onClick={() => {\r\n            scraper.download();\r\n          }}\r\n        >\r\n          DOWNLOAD GENERATED CSV AND SCREENSHOTS\r\n        </button>\r\n        <Table\r\n          columns={tableData.champions.columns}\r\n          data={tableData.champions.data}\r\n        />\r\n        <br />\r\n        {tableData.skins.data.length > 0 && (\r\n          <Table\r\n            columns={tableData.skins.columns}\r\n            data={tableData.skins.data}\r\n          />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DataView;\r\n","import { useState, useRef } from \"react\";\r\nimport scraper from \"./tools/scraper\";\r\nimport WelcomeView from \"./views/WelcomeView/WelcomeView\";\r\nimport PrepareView from \"./views/PrepareView/PrepareView\";\r\nimport ScrapeView from \"./views/ScrapeView/ScrapeView\";\r\nimport WorkView from \"./views/WorkView/WorkView\";\r\nimport DataView from \"./views/DataView/DataView\";\r\nimport \"./App.css\";\r\n\r\nfunction App() {\r\n  const [isHiding, setIsHiding] = useState(false);\r\n  const [currView, setCurrView] = useState(\"welcome\");\r\n\r\n  scraper.videoElement = useRef<HTMLVideoElement>(null);\r\n\r\n  const setView = (view: string, callback?: () => void) => {\r\n    if (isHiding === false) {\r\n      setIsHiding(true);\r\n      setTimeout(() => {\r\n        if (typeof callback == \"function\") callback();\r\n        setIsHiding(false);\r\n        setCurrView(view);\r\n      }, 500);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {currView === \"welcome\" && (\r\n        <WelcomeView hide={isHiding} setView={setView} />\r\n      )}\r\n\r\n      {currView === \"prepare\" && (\r\n        <PrepareView hide={isHiding} setView={setView} />\r\n      )}\r\n\r\n      {currView === \"scrape\" && (\r\n        <ScrapeView hide={isHiding} setView={setView} />\r\n      )}\r\n\r\n      {currView === \"work\" && <WorkView hide={isHiding} setView={setView} />}\r\n\r\n      {currView === \"data\" && <DataView hide={isHiding} setView={setView} />}\r\n\r\n      <div className=\"debug\" style={{ display: \"none\" }}>\r\n        <video ref={scraper.videoElement}></video>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}